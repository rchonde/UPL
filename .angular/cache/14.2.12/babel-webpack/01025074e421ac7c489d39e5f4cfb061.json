{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/axes/smart_formatter.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport formatHelper from \"../../format_helper\";\nimport { isDefined, isFunction, isExponential, isObject } from \"../../core/utils/type\";\nimport dateUtils from \"../../core/utils/date\";\nimport { adjust, getPrecision, getExponent } from \"../../core/utils/math\";\nimport { getAdjustedLog10 as log10 } from \"../core/utils\";\nvar _format = formatHelper.format;\nvar {\n  abs: abs,\n  floor: floor\n} = Math;\nvar EXPONENTIAL = \"exponential\";\nvar formats = [\"fixedPoint\", \"thousands\", \"millions\", \"billions\", \"trillions\", EXPONENTIAL];\nvar dateUnitIntervals = [\"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"month\", \"year\"];\n\nfunction getDatesDifferences(prevDate, curDate, nextDate, tickFormat) {\n  var prevDifferences;\n  var nextDifferences;\n  var dateUnitInterval;\n  var dateUnitsLength = dateUnitIntervals.length;\n  var i;\n  var j;\n\n  if (\"week\" === tickFormat) {\n    tickFormat = \"day\";\n  } else if (\"quarter\" === tickFormat) {\n    tickFormat = \"month\";\n  } else if (\"shorttime\" === tickFormat) {\n    tickFormat = \"hour\";\n  } else if (\"longtime\" === tickFormat) {\n    tickFormat = \"second\";\n  }\n\n  var tickFormatIndex = dateUnitIntervals.indexOf(tickFormat);\n\n  if (nextDate) {\n    nextDifferences = dateUtils.getDatesDifferences(curDate, nextDate);\n    prevDifferences = dateUtils.getDatesDifferences(curDate, prevDate);\n\n    if (nextDifferences[tickFormat]) {\n      for (i = dateUnitsLength - 1; i >= tickFormatIndex; i--) {\n        dateUnitInterval = dateUnitIntervals[i];\n\n        if (i === tickFormatIndex) {\n          setDateUnitInterval(nextDifferences, tickFormatIndex + (nextDifferences.millisecond ? 2 : 1));\n        } else if (nextDifferences[dateUnitInterval]) {\n          resetDateUnitInterval(nextDifferences, i);\n          break;\n        }\n      }\n    }\n  } else {\n    prevDifferences = dateUtils.getDatesDifferences(prevDate, curDate);\n\n    for (i = dateUnitsLength - 1; i >= tickFormatIndex; i--) {\n      dateUnitInterval = dateUnitIntervals[i];\n\n      if (prevDifferences[dateUnitInterval]) {\n        if (i - tickFormatIndex > 1) {\n          for (j = tickFormatIndex + 1; j >= 0; j--) {\n            resetDateUnitInterval(prevDifferences, j);\n          }\n\n          break;\n        } else if (isDateTimeStart(curDate, dateUnitInterval)) {\n          for (j = i - 1; j > 0; j--) {\n            resetDateUnitInterval(prevDifferences, j);\n          }\n\n          break;\n        }\n      }\n    }\n  }\n\n  return nextDate ? nextDifferences : prevDifferences;\n}\n\nfunction isDateTimeStart(date, dateUnitInterval) {\n  var unitNumbers = [date.getMilliseconds(), date.getSeconds(), date.getMinutes(), date.getHours(), date.getDate(), date.getMonth()];\n  var unitIndex = dateUnitIntervals.indexOf(dateUnitInterval);\n  var i;\n\n  for (i = 0; i < unitIndex; i++) {\n    if (4 === i && 1 !== unitNumbers[i] || 4 !== i && 0 !== unitNumbers[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction resetDateUnitInterval(differences, intervalIndex) {\n  var dateUnitInterval = dateUnitIntervals[intervalIndex];\n\n  if (differences[dateUnitInterval]) {\n    differences[dateUnitInterval] = false;\n    differences.count--;\n  }\n}\n\nfunction setDateUnitInterval(differences, intervalIndex) {\n  var dateUnitInterval = dateUnitIntervals[intervalIndex];\n\n  if (false === differences[dateUnitInterval]) {\n    differences[dateUnitInterval] = true;\n    differences.count++;\n  }\n}\n\nfunction getNoZeroIndex(str) {\n  return str.length - parseInt(str).toString().length;\n}\n\nfunction getTransitionTickIndex(ticks, value) {\n  var i;\n  var curDiff;\n  var minDiff;\n  var nearestTickIndex = 0;\n  minDiff = abs(value - ticks[0]);\n\n  for (i = 1; i < ticks.length; i++) {\n    curDiff = abs(value - ticks[i]);\n\n    if (curDiff < minDiff) {\n      minDiff = curDiff;\n      nearestTickIndex = i;\n    }\n  }\n\n  return nearestTickIndex;\n}\n\nfunction splitDecimalNumber(value) {\n  return value.toString().split(\".\");\n}\n\nfunction createFormat(type) {\n  var formatter;\n\n  if (isFunction(type)) {\n    formatter = type;\n    type = null;\n  }\n\n  return {\n    type: type,\n    formatter: formatter\n  };\n}\n\nfunction formatLogarithmicNumber(tick) {\n  var log10Tick = log10(abs(tick));\n  var type;\n\n  if (log10Tick > 0) {\n    type = formats[floor(log10Tick / 3)] || EXPONENTIAL;\n  } else if (log10Tick < -4) {\n    type = EXPONENTIAL;\n  } else {\n    return _format(adjust(tick));\n  }\n\n  return _format(tick, {\n    type: type,\n    precision: 0\n  });\n}\n\nfunction getDateTimeFormat(tick, _ref) {\n  var {\n    showTransition: showTransition,\n    ticks: ticks,\n    tickInterval: tickInterval\n  } = _ref;\n  var typeFormat = dateUtils.getDateFormatByTickInterval(tickInterval);\n  var prevDateIndex;\n  var nextDateIndex;\n\n  if (showTransition && ticks.length) {\n    var indexOfTick = ticks.map(Number).indexOf(+tick);\n\n    if (1 === ticks.length && 0 === indexOfTick) {\n      typeFormat = formatHelper.getDateFormatByTicks(ticks);\n    } else {\n      if (-1 === indexOfTick) {\n        prevDateIndex = getTransitionTickIndex(ticks, tick);\n      } else {\n        prevDateIndex = 0 === indexOfTick ? ticks.length - 1 : indexOfTick - 1;\n        nextDateIndex = 0 === indexOfTick ? 1 : -1;\n      }\n\n      var datesDifferences = getDatesDifferences(ticks[prevDateIndex], tick, ticks[nextDateIndex], typeFormat);\n      typeFormat = formatHelper.getDateFormatByDifferences(datesDifferences, typeFormat);\n    }\n  }\n\n  return createFormat(typeFormat);\n}\n\nfunction getFormatExponential(tick, tickInterval) {\n  var stringTick = abs(tick).toString();\n\n  if (!isExponential(tick)) {\n    return abs(getNoZeroIndex(stringTick.split(\".\")[1]) - getExponent(tickInterval) + 1);\n  } else {\n    return Math.max(abs(getExponent(tick) - getExponent(tickInterval)), abs(getPrecision(tick) - getPrecision(tickInterval)));\n  }\n}\n\nfunction getFormatWithModifier(tick, tickInterval) {\n  var tickIntervalIndex = floor(log10(tickInterval));\n  var tickIndex;\n  var typeFormat;\n  var precision = 0;\n  var actualIndex = tickIndex = floor(log10(abs(tick)));\n\n  if (tickIndex - tickIntervalIndex >= 2) {\n    actualIndex = tickIntervalIndex;\n  }\n\n  var indexOfFormat = floor(actualIndex / 3);\n  var offset = 3 * indexOfFormat;\n\n  if (indexOfFormat < 5) {\n    if (tickIntervalIndex - offset === 2 && tickIndex >= 3) {\n      indexOfFormat++;\n      offset = 3 * indexOfFormat;\n    }\n\n    typeFormat = formats[indexOfFormat];\n  } else {\n    typeFormat = formats[formats.length - 1];\n  }\n\n  if (offset > 0) {\n    var separatedTickInterval = splitDecimalNumber(tickInterval / Math.pow(10, offset));\n\n    if (separatedTickInterval[1]) {\n      precision = separatedTickInterval[1].length;\n    }\n  }\n\n  return {\n    precision: precision,\n    type: typeFormat\n  };\n}\n\nfunction getHighDiffFormat(diff) {\n  var stop = false;\n\n  for (var i in diff) {\n    if (true === diff[i] || \"hour\" === i || stop) {\n      diff[i] = false;\n      stop = true;\n    } else if (false === diff[i]) {\n      diff[i] = true;\n    }\n  }\n\n  return createFormat(formatHelper.getDateFormatByDifferences(diff));\n}\n\nfunction getHighAndSelfDiffFormat(diff, interval) {\n  var stop = false;\n\n  for (var i in diff) {\n    if (stop) {\n      diff[i] = false;\n    } else if (i === interval) {\n      stop = true;\n    } else {\n      diff[i] = true;\n    }\n  }\n\n  return createFormat(formatHelper.getDateFormatByDifferences(diff));\n}\n\nfunction formatDateRange(startValue, endValue, tickInterval) {\n  var diff = getDatesDifferences(startValue, endValue);\n  var typeFormat = dateUtils.getDateFormatByTickInterval(tickInterval);\n  var diffFormatType = formatHelper.getDateFormatByDifferences(diff, typeFormat);\n  var diffFormat = createFormat(diffFormatType);\n  var values = [];\n\n  if (tickInterval in diff) {\n    var rangeFormat = getHighAndSelfDiffFormat(getDatesDifferences(startValue, endValue), tickInterval);\n\n    var value = _format(startValue, rangeFormat);\n\n    if (value) {\n      values.push(value);\n    }\n  } else {\n    var _rangeFormat = getHighDiffFormat(getDatesDifferences(startValue, endValue));\n\n    var highValue = _format(startValue, _rangeFormat);\n\n    if (highValue) {\n      values.push(highValue);\n    }\n\n    values.push(\"\".concat(_format(startValue, diffFormat), \" - \").concat(_format(endValue, diffFormat)));\n  }\n\n  return values.join(\", \");\n}\n\nfunction processDateInterval(interval) {\n  if (isObject(interval)) {\n    var dateUnits = Object.keys(interval);\n    var sum = dateUnits.reduce((sum, k) => interval[k] + sum, 0);\n\n    if (1 === sum) {\n      var dateUnit = dateUnits.filter(k => 1 === interval[k])[0];\n      return dateUnit.slice(0, dateUnit.length - 1);\n    }\n  }\n\n  return interval;\n}\n\nexport function smartFormatter(tick, options) {\n  var tickInterval = options.tickInterval;\n  var stringTick = abs(tick).toString();\n  var format = options.labelOptions.format;\n  var ticks = options.ticks;\n  var isLogarithmic = \"logarithmic\" === options.type;\n\n  if (1 === ticks.length && 0 === ticks.indexOf(tick) && !isDefined(tickInterval)) {\n    tickInterval = abs(tick) >= 1 ? 1 : adjust(1 - abs(tick), tick);\n  }\n\n  if (Object.is(tick, -0)) {\n    tick = 0;\n  }\n\n  if (!isDefined(format) && \"discrete\" !== options.type && tick && (10 === options.logarithmBase || !isLogarithmic)) {\n    if (\"datetime\" !== options.dataType && isDefined(tickInterval)) {\n      if (ticks.length && -1 === ticks.indexOf(tick)) {\n        var indexOfTick = getTransitionTickIndex(ticks, tick);\n        tickInterval = adjust(abs(tick - ticks[indexOfTick]), tick);\n      }\n\n      if (isLogarithmic) {\n        return formatLogarithmicNumber(tick);\n      } else {\n        var separatedTickInterval = splitDecimalNumber(tickInterval);\n\n        if (separatedTickInterval < 2) {\n          separatedTickInterval = splitDecimalNumber(tick);\n        }\n\n        if (separatedTickInterval.length > 1 && !isExponential(tickInterval)) {\n          format = {\n            type: formats[0],\n            precision: separatedTickInterval[1].length\n          };\n        } else if (isExponential(tickInterval) && (-1 !== stringTick.indexOf(\".\") || isExponential(tick))) {\n          format = {\n            type: EXPONENTIAL,\n            precision: getFormatExponential(tick, tickInterval)\n          };\n        } else {\n          format = getFormatWithModifier(tick, tickInterval);\n        }\n      }\n    } else if (\"datetime\" === options.dataType) {\n      format = getDateTimeFormat(tick, options);\n    }\n  }\n\n  return _format(tick, format);\n}\nexport function formatRange(_ref2) {\n  var {\n    startValue: startValue,\n    endValue: endValue,\n    tickInterval: tickInterval,\n    argumentFormat: argumentFormat,\n    axisOptions: {\n      dataType: dataType,\n      type: type,\n      logarithmBase: logarithmBase\n    }\n  } = _ref2;\n\n  if (\"discrete\" === type) {\n    return \"\";\n  }\n\n  if (\"datetime\" === dataType) {\n    return formatDateRange(startValue, endValue, processDateInterval(tickInterval));\n  }\n\n  var formatOptions = {\n    ticks: [],\n    type: type,\n    dataType: dataType,\n    tickInterval: tickInterval,\n    logarithmBase: logarithmBase,\n    labelOptions: {\n      format: argumentFormat\n    }\n  };\n  return \"\".concat(smartFormatter(startValue, formatOptions), \" - \").concat(smartFormatter(endValue, formatOptions));\n}","map":{"version":3,"names":["formatHelper","isDefined","isFunction","isExponential","isObject","dateUtils","adjust","getPrecision","getExponent","getAdjustedLog10","log10","_format","format","abs","floor","Math","EXPONENTIAL","formats","dateUnitIntervals","getDatesDifferences","prevDate","curDate","nextDate","tickFormat","prevDifferences","nextDifferences","dateUnitInterval","dateUnitsLength","length","i","j","tickFormatIndex","indexOf","setDateUnitInterval","millisecond","resetDateUnitInterval","isDateTimeStart","date","unitNumbers","getMilliseconds","getSeconds","getMinutes","getHours","getDate","getMonth","unitIndex","differences","intervalIndex","count","getNoZeroIndex","str","parseInt","toString","getTransitionTickIndex","ticks","value","curDiff","minDiff","nearestTickIndex","splitDecimalNumber","split","createFormat","type","formatter","formatLogarithmicNumber","tick","log10Tick","precision","getDateTimeFormat","_ref","showTransition","tickInterval","typeFormat","getDateFormatByTickInterval","prevDateIndex","nextDateIndex","indexOfTick","map","Number","getDateFormatByTicks","datesDifferences","getDateFormatByDifferences","getFormatExponential","stringTick","max","getFormatWithModifier","tickIntervalIndex","tickIndex","actualIndex","indexOfFormat","offset","separatedTickInterval","pow","getHighDiffFormat","diff","stop","getHighAndSelfDiffFormat","interval","formatDateRange","startValue","endValue","diffFormatType","diffFormat","values","rangeFormat","push","_rangeFormat","highValue","concat","join","processDateInterval","dateUnits","Object","keys","sum","reduce","k","dateUnit","filter","slice","smartFormatter","options","labelOptions","isLogarithmic","is","logarithmBase","dataType","formatRange","_ref2","argumentFormat","axisOptions","formatOptions"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/viz/axes/smart_formatter.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/axes/smart_formatter.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport formatHelper from \"../../format_helper\";\r\nimport {\r\n    isDefined,\r\n    isFunction,\r\n    isExponential,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport {\r\n    adjust,\r\n    getPrecision,\r\n    getExponent\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    getAdjustedLog10 as log10\r\n} from \"../core/utils\";\r\nvar _format = formatHelper.format;\r\nvar {\r\n    abs: abs,\r\n    floor: floor\r\n} = Math;\r\nvar EXPONENTIAL = \"exponential\";\r\nvar formats = [\"fixedPoint\", \"thousands\", \"millions\", \"billions\", \"trillions\", EXPONENTIAL];\r\nvar dateUnitIntervals = [\"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"month\", \"year\"];\r\n\r\nfunction getDatesDifferences(prevDate, curDate, nextDate, tickFormat) {\r\n    var prevDifferences;\r\n    var nextDifferences;\r\n    var dateUnitInterval;\r\n    var dateUnitsLength = dateUnitIntervals.length;\r\n    var i;\r\n    var j;\r\n    if (\"week\" === tickFormat) {\r\n        tickFormat = \"day\"\r\n    } else if (\"quarter\" === tickFormat) {\r\n        tickFormat = \"month\"\r\n    } else if (\"shorttime\" === tickFormat) {\r\n        tickFormat = \"hour\"\r\n    } else if (\"longtime\" === tickFormat) {\r\n        tickFormat = \"second\"\r\n    }\r\n    var tickFormatIndex = dateUnitIntervals.indexOf(tickFormat);\r\n    if (nextDate) {\r\n        nextDifferences = dateUtils.getDatesDifferences(curDate, nextDate);\r\n        prevDifferences = dateUtils.getDatesDifferences(curDate, prevDate);\r\n        if (nextDifferences[tickFormat]) {\r\n            for (i = dateUnitsLength - 1; i >= tickFormatIndex; i--) {\r\n                dateUnitInterval = dateUnitIntervals[i];\r\n                if (i === tickFormatIndex) {\r\n                    setDateUnitInterval(nextDifferences, tickFormatIndex + (nextDifferences.millisecond ? 2 : 1))\r\n                } else if (nextDifferences[dateUnitInterval]) {\r\n                    resetDateUnitInterval(nextDifferences, i);\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        prevDifferences = dateUtils.getDatesDifferences(prevDate, curDate);\r\n        for (i = dateUnitsLength - 1; i >= tickFormatIndex; i--) {\r\n            dateUnitInterval = dateUnitIntervals[i];\r\n            if (prevDifferences[dateUnitInterval]) {\r\n                if (i - tickFormatIndex > 1) {\r\n                    for (j = tickFormatIndex + 1; j >= 0; j--) {\r\n                        resetDateUnitInterval(prevDifferences, j)\r\n                    }\r\n                    break\r\n                } else if (isDateTimeStart(curDate, dateUnitInterval)) {\r\n                    for (j = i - 1; j > 0; j--) {\r\n                        resetDateUnitInterval(prevDifferences, j)\r\n                    }\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return nextDate ? nextDifferences : prevDifferences\r\n}\r\n\r\nfunction isDateTimeStart(date, dateUnitInterval) {\r\n    var unitNumbers = [date.getMilliseconds(), date.getSeconds(), date.getMinutes(), date.getHours(), date.getDate(), date.getMonth()];\r\n    var unitIndex = dateUnitIntervals.indexOf(dateUnitInterval);\r\n    var i;\r\n    for (i = 0; i < unitIndex; i++) {\r\n        if (4 === i && 1 !== unitNumbers[i] || 4 !== i && 0 !== unitNumbers[i]) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n}\r\n\r\nfunction resetDateUnitInterval(differences, intervalIndex) {\r\n    var dateUnitInterval = dateUnitIntervals[intervalIndex];\r\n    if (differences[dateUnitInterval]) {\r\n        differences[dateUnitInterval] = false;\r\n        differences.count--\r\n    }\r\n}\r\n\r\nfunction setDateUnitInterval(differences, intervalIndex) {\r\n    var dateUnitInterval = dateUnitIntervals[intervalIndex];\r\n    if (false === differences[dateUnitInterval]) {\r\n        differences[dateUnitInterval] = true;\r\n        differences.count++\r\n    }\r\n}\r\n\r\nfunction getNoZeroIndex(str) {\r\n    return str.length - parseInt(str).toString().length\r\n}\r\n\r\nfunction getTransitionTickIndex(ticks, value) {\r\n    var i;\r\n    var curDiff;\r\n    var minDiff;\r\n    var nearestTickIndex = 0;\r\n    minDiff = abs(value - ticks[0]);\r\n    for (i = 1; i < ticks.length; i++) {\r\n        curDiff = abs(value - ticks[i]);\r\n        if (curDiff < minDiff) {\r\n            minDiff = curDiff;\r\n            nearestTickIndex = i\r\n        }\r\n    }\r\n    return nearestTickIndex\r\n}\r\n\r\nfunction splitDecimalNumber(value) {\r\n    return value.toString().split(\".\")\r\n}\r\n\r\nfunction createFormat(type) {\r\n    var formatter;\r\n    if (isFunction(type)) {\r\n        formatter = type;\r\n        type = null\r\n    }\r\n    return {\r\n        type: type,\r\n        formatter: formatter\r\n    }\r\n}\r\n\r\nfunction formatLogarithmicNumber(tick) {\r\n    var log10Tick = log10(abs(tick));\r\n    var type;\r\n    if (log10Tick > 0) {\r\n        type = formats[floor(log10Tick / 3)] || EXPONENTIAL\r\n    } else if (log10Tick < -4) {\r\n        type = EXPONENTIAL\r\n    } else {\r\n        return _format(adjust(tick))\r\n    }\r\n    return _format(tick, {\r\n        type: type,\r\n        precision: 0\r\n    })\r\n}\r\n\r\nfunction getDateTimeFormat(tick, _ref) {\r\n    var {\r\n        showTransition: showTransition,\r\n        ticks: ticks,\r\n        tickInterval: tickInterval\r\n    } = _ref;\r\n    var typeFormat = dateUtils.getDateFormatByTickInterval(tickInterval);\r\n    var prevDateIndex;\r\n    var nextDateIndex;\r\n    if (showTransition && ticks.length) {\r\n        var indexOfTick = ticks.map(Number).indexOf(+tick);\r\n        if (1 === ticks.length && 0 === indexOfTick) {\r\n            typeFormat = formatHelper.getDateFormatByTicks(ticks)\r\n        } else {\r\n            if (-1 === indexOfTick) {\r\n                prevDateIndex = getTransitionTickIndex(ticks, tick)\r\n            } else {\r\n                prevDateIndex = 0 === indexOfTick ? ticks.length - 1 : indexOfTick - 1;\r\n                nextDateIndex = 0 === indexOfTick ? 1 : -1\r\n            }\r\n            var datesDifferences = getDatesDifferences(ticks[prevDateIndex], tick, ticks[nextDateIndex], typeFormat);\r\n            typeFormat = formatHelper.getDateFormatByDifferences(datesDifferences, typeFormat)\r\n        }\r\n    }\r\n    return createFormat(typeFormat)\r\n}\r\n\r\nfunction getFormatExponential(tick, tickInterval) {\r\n    var stringTick = abs(tick).toString();\r\n    if (!isExponential(tick)) {\r\n        return abs(getNoZeroIndex(stringTick.split(\".\")[1]) - getExponent(tickInterval) + 1)\r\n    } else {\r\n        return Math.max(abs(getExponent(tick) - getExponent(tickInterval)), abs(getPrecision(tick) - getPrecision(tickInterval)))\r\n    }\r\n}\r\n\r\nfunction getFormatWithModifier(tick, tickInterval) {\r\n    var tickIntervalIndex = floor(log10(tickInterval));\r\n    var tickIndex;\r\n    var typeFormat;\r\n    var precision = 0;\r\n    var actualIndex = tickIndex = floor(log10(abs(tick)));\r\n    if (tickIndex - tickIntervalIndex >= 2) {\r\n        actualIndex = tickIntervalIndex\r\n    }\r\n    var indexOfFormat = floor(actualIndex / 3);\r\n    var offset = 3 * indexOfFormat;\r\n    if (indexOfFormat < 5) {\r\n        if (tickIntervalIndex - offset === 2 && tickIndex >= 3) {\r\n            indexOfFormat++;\r\n            offset = 3 * indexOfFormat\r\n        }\r\n        typeFormat = formats[indexOfFormat]\r\n    } else {\r\n        typeFormat = formats[formats.length - 1]\r\n    }\r\n    if (offset > 0) {\r\n        var separatedTickInterval = splitDecimalNumber(tickInterval / Math.pow(10, offset));\r\n        if (separatedTickInterval[1]) {\r\n            precision = separatedTickInterval[1].length\r\n        }\r\n    }\r\n    return {\r\n        precision: precision,\r\n        type: typeFormat\r\n    }\r\n}\r\n\r\nfunction getHighDiffFormat(diff) {\r\n    var stop = false;\r\n    for (var i in diff) {\r\n        if (true === diff[i] || \"hour\" === i || stop) {\r\n            diff[i] = false;\r\n            stop = true\r\n        } else if (false === diff[i]) {\r\n            diff[i] = true\r\n        }\r\n    }\r\n    return createFormat(formatHelper.getDateFormatByDifferences(diff))\r\n}\r\n\r\nfunction getHighAndSelfDiffFormat(diff, interval) {\r\n    var stop = false;\r\n    for (var i in diff) {\r\n        if (stop) {\r\n            diff[i] = false\r\n        } else if (i === interval) {\r\n            stop = true\r\n        } else {\r\n            diff[i] = true\r\n        }\r\n    }\r\n    return createFormat(formatHelper.getDateFormatByDifferences(diff))\r\n}\r\n\r\nfunction formatDateRange(startValue, endValue, tickInterval) {\r\n    var diff = getDatesDifferences(startValue, endValue);\r\n    var typeFormat = dateUtils.getDateFormatByTickInterval(tickInterval);\r\n    var diffFormatType = formatHelper.getDateFormatByDifferences(diff, typeFormat);\r\n    var diffFormat = createFormat(diffFormatType);\r\n    var values = [];\r\n    if (tickInterval in diff) {\r\n        var rangeFormat = getHighAndSelfDiffFormat(getDatesDifferences(startValue, endValue), tickInterval);\r\n        var value = _format(startValue, rangeFormat);\r\n        if (value) {\r\n            values.push(value)\r\n        }\r\n    } else {\r\n        var _rangeFormat = getHighDiffFormat(getDatesDifferences(startValue, endValue));\r\n        var highValue = _format(startValue, _rangeFormat);\r\n        if (highValue) {\r\n            values.push(highValue)\r\n        }\r\n        values.push(\"\".concat(_format(startValue, diffFormat), \" - \").concat(_format(endValue, diffFormat)))\r\n    }\r\n    return values.join(\", \")\r\n}\r\n\r\nfunction processDateInterval(interval) {\r\n    if (isObject(interval)) {\r\n        var dateUnits = Object.keys(interval);\r\n        var sum = dateUnits.reduce((sum, k) => interval[k] + sum, 0);\r\n        if (1 === sum) {\r\n            var dateUnit = dateUnits.filter(k => 1 === interval[k])[0];\r\n            return dateUnit.slice(0, dateUnit.length - 1)\r\n        }\r\n    }\r\n    return interval\r\n}\r\nexport function smartFormatter(tick, options) {\r\n    var tickInterval = options.tickInterval;\r\n    var stringTick = abs(tick).toString();\r\n    var format = options.labelOptions.format;\r\n    var ticks = options.ticks;\r\n    var isLogarithmic = \"logarithmic\" === options.type;\r\n    if (1 === ticks.length && 0 === ticks.indexOf(tick) && !isDefined(tickInterval)) {\r\n        tickInterval = abs(tick) >= 1 ? 1 : adjust(1 - abs(tick), tick)\r\n    }\r\n    if (Object.is(tick, -0)) {\r\n        tick = 0\r\n    }\r\n    if (!isDefined(format) && \"discrete\" !== options.type && tick && (10 === options.logarithmBase || !isLogarithmic)) {\r\n        if (\"datetime\" !== options.dataType && isDefined(tickInterval)) {\r\n            if (ticks.length && -1 === ticks.indexOf(tick)) {\r\n                var indexOfTick = getTransitionTickIndex(ticks, tick);\r\n                tickInterval = adjust(abs(tick - ticks[indexOfTick]), tick)\r\n            }\r\n            if (isLogarithmic) {\r\n                return formatLogarithmicNumber(tick)\r\n            } else {\r\n                var separatedTickInterval = splitDecimalNumber(tickInterval);\r\n                if (separatedTickInterval < 2) {\r\n                    separatedTickInterval = splitDecimalNumber(tick)\r\n                }\r\n                if (separatedTickInterval.length > 1 && !isExponential(tickInterval)) {\r\n                    format = {\r\n                        type: formats[0],\r\n                        precision: separatedTickInterval[1].length\r\n                    }\r\n                } else if (isExponential(tickInterval) && (-1 !== stringTick.indexOf(\".\") || isExponential(tick))) {\r\n                    format = {\r\n                        type: EXPONENTIAL,\r\n                        precision: getFormatExponential(tick, tickInterval)\r\n                    }\r\n                } else {\r\n                    format = getFormatWithModifier(tick, tickInterval)\r\n                }\r\n            }\r\n        } else if (\"datetime\" === options.dataType) {\r\n            format = getDateTimeFormat(tick, options)\r\n        }\r\n    }\r\n    return _format(tick, format)\r\n}\r\nexport function formatRange(_ref2) {\r\n    var {\r\n        startValue: startValue,\r\n        endValue: endValue,\r\n        tickInterval: tickInterval,\r\n        argumentFormat: argumentFormat,\r\n        axisOptions: {\r\n            dataType: dataType,\r\n            type: type,\r\n            logarithmBase: logarithmBase\r\n        }\r\n    } = _ref2;\r\n    if (\"discrete\" === type) {\r\n        return \"\"\r\n    }\r\n    if (\"datetime\" === dataType) {\r\n        return formatDateRange(startValue, endValue, processDateInterval(tickInterval))\r\n    }\r\n    var formatOptions = {\r\n        ticks: [],\r\n        type: type,\r\n        dataType: dataType,\r\n        tickInterval: tickInterval,\r\n        logarithmBase: logarithmBase,\r\n        labelOptions: {\r\n            format: argumentFormat\r\n        }\r\n    };\r\n    return \"\".concat(smartFormatter(startValue, formatOptions), \" - \").concat(smartFormatter(endValue, formatOptions))\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}