{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport { compileGetter } from \"../../core/utils/data\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getWindow } from \"../../core/utils/window\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { ModelChangesListener } from \"./ui.gantt.model_changes_listener\";\nimport DataOption from \"./ui.gantt.data.option\";\nimport LoadPanel from \"../load_panel\";\nimport registerComponent from \"../../core/component_registrator\";\nimport SplitterControl from \"../splitter\";\nimport Widget from \"../widget/ui.widget\";\nimport { GanttActionsManager } from \"./ui.gantt.actions\";\nimport { GanttCustomFieldsManager } from \"./ui.gantt.custom_fields\";\nimport { GanttDialog } from \"./ui.gantt.dialogs\";\nimport { GanttExportHelper } from \"./ui.gantt.export_helper\";\nimport { GanttHelper } from \"./ui.gantt.helper\";\nimport { GanttMappingHelper } from \"./ui.gantt.mapping_helper\";\nimport { GanttSizeHelper } from \"./ui.gantt.size_helper\";\nimport { GanttTemplatesManager } from \"./ui.gantt.templates\";\nimport { GanttToolbar, GanttContextMenuBar } from \"./ui.gantt.bars\";\nimport { GanttTreeList } from \"./ui.gantt.treelist\";\nimport { GanttView } from \"./ui.gantt.view\";\nvar window = getWindow();\nvar GANTT_CLASS = \"dx-gantt\";\nvar GANTT_VIEW_CLASS = \"dx-gantt-view\";\nvar GANTT_TREE_LIST_WRAPPER = \"dx-gantt-treelist-wrapper\";\nvar GANTT_TOOLBAR_WRAPPER = \"dx-gantt-toolbar-wrapper\";\nvar GANTT_MAIN_WRAPPER = \"dx-gantt-main-wrapper\";\nvar GANTT_TASKS = \"tasks\";\nvar GANTT_DEPENDENCIES = \"dependencies\";\nvar GANTT_RESOURCES = \"resources\";\nvar GANTT_RESOURCE_ASSIGNMENTS = \"resourceAssignments\";\nvar GANTT_NEW_TASK_CACHE_KEY = \"gantt_new_task_key\";\n\nclass Gantt extends Widget {\n  _init() {\n    super._init();\n\n    this._initGantt();\n\n    this._isGanttRendered = false;\n\n    this._initHelpers();\n  }\n\n  _initGantt() {\n    this._refreshDataSources();\n  }\n\n  _initMarkup() {\n    super._initMarkup();\n\n    this.$element().addClass(GANTT_CLASS);\n    this._$toolbarWrapper = $(\"<div>\").addClass(GANTT_TOOLBAR_WRAPPER).appendTo(this.$element());\n    this._$toolbar = $(\"<div>\").appendTo(this._$toolbarWrapper);\n    this._$mainWrapper = $(\"<div>\").addClass(GANTT_MAIN_WRAPPER).appendTo(this.$element());\n    this._$treeListWrapper = $(\"<div>\").addClass(GANTT_TREE_LIST_WRAPPER).appendTo(this._$mainWrapper);\n    this._$treeList = $(\"<div>\").appendTo(this._$treeListWrapper);\n    this._$splitter = $(\"<div>\").appendTo(this._$mainWrapper);\n    this._$ganttView = $(\"<div>\").addClass(GANTT_VIEW_CLASS).appendTo(this._$mainWrapper);\n    this._$dialog = $(\"<div>\").appendTo(this.$element());\n    this._$loadPanel = $(\"<div>\").appendTo(this.$element());\n    this._$contextMenu = $(\"<div>\").appendTo(this.$element());\n  }\n\n  _clean() {\n    var _this$_ganttView;\n\n    null === (_this$_ganttView = this._ganttView) || void 0 === _this$_ganttView ? void 0 : _this$_ganttView._ganttViewCore.cleanMarkup();\n    delete this._ganttView;\n    delete this._dialogInstance;\n    delete this._loadPanel;\n    delete this._exportHelper;\n\n    super._clean();\n  }\n\n  _refresh() {\n    this._isGanttRendered = false;\n    this._contentReadyRaised = false;\n\n    super._refresh();\n  }\n\n  _fireContentReadyAction() {\n    if (!this._contentReadyRaised) {\n      super._fireContentReadyAction();\n    }\n\n    this._contentReadyRaised = true;\n  }\n\n  _dimensionChanged() {\n    var _this$_ganttView2;\n\n    null === (_this$_ganttView2 = this._ganttView) || void 0 === _this$_ganttView2 ? void 0 : _this$_ganttView2._onDimensionChanged();\n  }\n\n  _visibilityChanged(visible) {\n    if (visible) {\n      this._refreshGantt();\n    }\n  }\n\n  _refreshGantt() {\n    this._refreshDataSources();\n\n    this._refresh();\n  }\n\n  _refreshDataSources() {\n    this._refreshDataSource(GANTT_TASKS);\n\n    this._refreshDataSource(GANTT_DEPENDENCIES);\n\n    this._refreshDataSource(GANTT_RESOURCES);\n\n    this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS);\n  }\n\n  _renderContent() {\n    this._isMainElementVisible = this.$element().is(\":visible\");\n\n    if (this._isMainElementVisible && !this._isGanttRendered) {\n      this._isGanttRendered = true;\n\n      this._renderBars();\n\n      this._renderTreeList();\n\n      this._renderSplitter();\n    }\n  }\n\n  _renderTreeList() {\n    this._ganttTreeList = new GanttTreeList(this);\n    this._treeList = this._ganttTreeList.getTreeList();\n\n    this._ganttTreeList.onAfterTreeListCreate();\n  }\n\n  _renderSplitter() {\n    this._splitter = this._createComponent(this._$splitter, SplitterControl, {\n      container: this.$element(),\n      leftElement: this._$treeListWrapper,\n      rightElement: this._$ganttView,\n      onApplyPanelSize: e => {\n        this._sizeHelper.onApplyPanelSize(e);\n      }\n    });\n\n    this._splitter.option(\"initialLeftPanelWidth\", this.option(\"taskListWidth\"));\n  }\n\n  _renderBars() {\n    this._bars = [];\n    this._toolbar = new GanttToolbar(this._$toolbar, this);\n\n    this._updateToolbarContent();\n\n    this._bars.push(this._toolbar);\n\n    this._contextMenuBar = new GanttContextMenuBar(this._$contextMenu, this);\n\n    this._updateContextMenu();\n\n    this._bars.push(this._contextMenuBar);\n  }\n\n  _initHelpers() {\n    this._mappingHelper = new GanttMappingHelper(this);\n    this._customFieldsManager = new GanttCustomFieldsManager(this);\n    this._actionsManager = new GanttActionsManager(this);\n    this._ganttTemplatesManager = new GanttTemplatesManager(this);\n    this._sizeHelper = new GanttSizeHelper(this);\n  }\n\n  _initGanttView() {\n    if (this._ganttView) {\n      return;\n    }\n\n    this._ganttView = this._createComponent(this._$ganttView, GanttView, {\n      width: \"100%\",\n      height: this._ganttTreeList.getOffsetHeight(),\n      rowHeight: this._ganttTreeList.getRowHeight(),\n      headerHeight: this._ganttTreeList.getHeaderHeight(),\n      tasks: this._tasks,\n      dependencies: this._dependencies,\n      resources: this._resources,\n      resourceAssignments: this._resourceAssignments,\n      allowSelection: this.option(\"allowSelection\"),\n      selectedRowKey: this.option(\"selectedRowKey\"),\n      showResources: this.option(\"showResources\"),\n      showDependencies: this.option(\"showDependencies\"),\n      startDateRange: this.option(\"startDateRange\"),\n      endDateRange: this.option(\"endDateRange\"),\n      taskTitlePosition: this.option(\"taskTitlePosition\"),\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      showRowLines: this.option(\"showRowLines\"),\n      scaleType: this.option(\"scaleType\"),\n      scaleTypeRange: this.option(\"scaleTypeRange\"),\n      editing: this.option(\"editing\"),\n      validation: this.option(\"validation\"),\n      stripLines: this.option(\"stripLines\"),\n      bars: this._bars,\n      mainElement: this.$element(),\n      onSelectionChanged: e => {\n        this._ganttTreeList.selectRows(GanttHelper.getArrayFromOneElement(e.id));\n      },\n      onScroll: e => {\n        this._ganttTreeList.scrollBy(e.scrollTop);\n      },\n      onDialogShowing: this._showDialog.bind(this),\n      onPopupMenuShowing: this._showPopupMenu.bind(this),\n      onPopupMenuHiding: this._hidePopupMenu.bind(this),\n      onExpandAll: this._expandAll.bind(this),\n      onCollapseAll: this._collapseAll.bind(this),\n      modelChangesListener: ModelChangesListener.create(this),\n      exportHelper: this._getExportHelper(),\n      taskTooltipContentTemplate: this._ganttTemplatesManager.getTaskTooltipContentTemplateFunc(this.option(\"taskTooltipContentTemplate\")),\n      taskProgressTooltipContentTemplate: this._ganttTemplatesManager.getTaskProgressTooltipContentTemplateFunc(this.option(\"taskProgressTooltipContentTemplate\")),\n      taskTimeTooltipContentTemplate: this._ganttTemplatesManager.getTaskTimeTooltipContentTemplateFunc(this.option(\"taskTimeTooltipContentTemplate\")),\n      taskContentTemplate: this._ganttTemplatesManager.getTaskContentTemplateFunc(this.option(\"taskContentTemplate\")),\n      onTaskClick: e => {\n        this._ganttTreeList.onRowClick(e);\n      },\n      onTaskDblClick: e => {\n        this._ganttTreeList.onRowDblClick(e);\n      },\n      onAdjustControl: () => {\n        this._sizeHelper.onAdjustControl();\n      },\n      onContentReady: this._onGanttViewContentReady.bind(this)\n    });\n  }\n\n  _onGanttViewContentReady(e) {\n    if (!this._isParentAutoUpdateMode()) {\n      this._fireContentReadyAction();\n    }\n  }\n\n  _isParentAutoUpdateMode() {\n    return this.option(\"validation.autoUpdateParentTasks\");\n  }\n\n  _onTreeListContentReady(e) {\n    if (this._isParentAutoUpdateMode() && this._treeListParentRecalculatedDataUpdating) {\n      this._fireContentReadyAction();\n    }\n\n    delete this._treeListParentRecalculatedDataUpdating;\n  }\n\n  _refreshDataSource(name) {\n    var dataOption = this[\"_\".concat(name, \"Option\")];\n\n    if (dataOption) {\n      dataOption.dispose();\n      delete this[\"_\".concat(name, \"Option\")];\n      delete this[\"_\".concat(name)];\n    }\n\n    dataOption = new DataOption(name, this._getLoadPanel.bind(this), (name, data) => {\n      this._dataSourceChanged(name, data);\n    });\n    dataOption.option(\"dataSource\", this._getSpecificDataSourceOption(name));\n\n    dataOption._refreshDataSource();\n\n    this[\"_\".concat(name, \"Option\")] = dataOption;\n  }\n\n  _getSpecificDataSourceOption(name) {\n    var dataSource = this.option(\"\".concat(name, \".dataSource\"));\n\n    if (!dataSource || Array.isArray(dataSource)) {\n      return {\n        store: {\n          type: \"array\",\n          data: null !== dataSource && void 0 !== dataSource ? dataSource : [],\n          key: this.option(\"\".concat(name, \".keyExpr\"))\n        }\n      };\n    }\n\n    return dataSource;\n  }\n\n  _dataSourceChanged(dataSourceName, data) {\n    var getters = GanttHelper.compileGettersByOption(this.option(dataSourceName));\n\n    var validatedData = this._validateSourceData(dataSourceName, data);\n\n    var mappedData = validatedData.map(GanttHelper.prepareMapHandler(getters));\n    this[\"_\".concat(dataSourceName)] = mappedData;\n\n    this._setGanttViewOption(dataSourceName, mappedData);\n\n    if (dataSourceName === GANTT_TASKS) {\n      var _this$_ganttTreeList, _this$_ganttTreeList2, _this$_ganttTreeList3;\n\n      this._tasksRaw = validatedData;\n      var forceUpdate = !(null !== (_this$_ganttTreeList = this._ganttTreeList) && void 0 !== _this$_ganttTreeList && _this$_ganttTreeList.getDataSource()) && !this._ganttView;\n      null === (_this$_ganttTreeList2 = this._ganttTreeList) || void 0 === _this$_ganttTreeList2 ? void 0 : _this$_ganttTreeList2.saveExpandedKeys();\n      null === (_this$_ganttTreeList3 = this._ganttTreeList) || void 0 === _this$_ganttTreeList3 ? void 0 : _this$_ganttTreeList3.updateDataSource(validatedData, forceUpdate);\n    }\n  }\n\n  _validateSourceData(dataSourceName, data) {\n    return data && dataSourceName === GANTT_TASKS ? this._validateTaskData(data) : data;\n  }\n\n  _validateTaskData(data) {\n    var _this$option;\n\n    var keyGetter = compileGetter(this.option(\"\".concat(GANTT_TASKS, \".keyExpr\")));\n    var parentIdGetter = compileGetter(this.option(\"\".concat(GANTT_TASKS, \".parentIdExpr\")));\n    var rootValue = null !== (_this$option = this.option(\"rootValue\")) && void 0 !== _this$option ? _this$option : \"dx_dxt_gantt_default_root_value\";\n    var validationTree = {};\n\n    for (var i = 0; i < data.length; i++) {\n      var item = data[i];\n\n      if (item) {\n        var _validationTree$key;\n\n        var key = keyGetter(item);\n        var isRootTask = key === rootValue;\n        var treeItem = null !== (_validationTree$key = validationTree[key]) && void 0 !== _validationTree$key ? _validationTree$key : validationTree[key] = {\n          key: key,\n          children: []\n        };\n\n        if (!isRootTask) {\n          var _parentIdGetter, _validationTree$paren;\n\n          var parentId = null !== (_parentIdGetter = parentIdGetter(item)) && void 0 !== _parentIdGetter ? _parentIdGetter : rootValue;\n          var parentTreeItem = null !== (_validationTree$paren = validationTree[parentId]) && void 0 !== _validationTree$paren ? _validationTree$paren : validationTree[parentId] = {\n            key: parentId,\n            children: []\n          };\n          parentTreeItem.children.push(treeItem);\n          treeItem.parent = parentTreeItem;\n        }\n      }\n    }\n\n    var validKeys = [rootValue];\n\n    this._appendChildKeys(validationTree[rootValue], validKeys);\n\n    return data.filter(item => validKeys.indexOf(keyGetter(item)) > -1);\n  }\n\n  _appendChildKeys(treeItem, keys) {\n    var children = null === treeItem || void 0 === treeItem ? void 0 : treeItem.children;\n\n    for (var i = 0; i < (null === children || void 0 === children ? void 0 : children.length); i++) {\n      var child = children[i];\n      keys.push(child.key);\n\n      this._appendChildKeys(child, keys);\n    }\n  }\n\n  _onRecordInserted(optionName, record, callback) {\n    var dataOption = this[\"_\".concat(optionName, \"Option\")];\n\n    if (dataOption) {\n      var data = GanttHelper.getStoreObject(this.option(optionName), record);\n      var isTaskInsert = optionName === GANTT_TASKS;\n\n      if (isTaskInsert) {\n        this._customFieldsManager.addCustomFieldsDataFromCache(GANTT_NEW_TASK_CACHE_KEY, data);\n      }\n\n      dataOption.insert(data, response => {\n        var keyGetter = compileGetter(this.option(\"\".concat(optionName, \".keyExpr\")));\n        var insertedId = keyGetter(response);\n        callback(insertedId);\n\n        this._ganttTreeList.saveExpandedKeys();\n\n        dataOption._reloadDataSource().done(data => {\n          if (isTaskInsert) {\n            this._ganttTreeList.onTaskInserted(insertedId, record.parentId);\n          }\n        });\n\n        this._actionsManager.raiseInsertedAction(optionName, data, insertedId);\n      });\n    }\n  }\n\n  _onRecordUpdated(optionName, key, values) {\n    var dataOption = this[\"_\".concat(optionName, \"Option\")];\n    var isTaskUpdated = optionName === GANTT_TASKS;\n\n    if (dataOption) {\n      var data = this._mappingHelper.convertCoreToMappedData(optionName, values);\n\n      var hasCustomFieldsData = isTaskUpdated && this._customFieldsManager.cache.hasData(key);\n\n      if (hasCustomFieldsData) {\n        this._customFieldsManager.addCustomFieldsDataFromCache(key, data);\n      }\n\n      dataOption.update(key, data, () => {\n        this._ganttTreeList.saveExpandedKeys();\n\n        dataOption._reloadDataSource();\n\n        this._actionsManager.raiseUpdatedAction(optionName, data, key);\n      });\n    }\n  }\n\n  _onRecordRemoved(optionName, key, data) {\n    var dataOption = this[\"_\".concat(optionName, \"Option\")];\n\n    if (dataOption) {\n      dataOption.remove(key, () => {\n        this._ganttTreeList.saveExpandedKeys();\n\n        dataOption._reloadDataSource();\n\n        this._actionsManager.raiseDeletedAction(optionName, key, this._mappingHelper.convertCoreToMappedData(optionName, data));\n      });\n    }\n  }\n\n  _onParentTaskUpdated(data) {\n    var mappedData = this.getTaskDataByCoreData(data);\n\n    this._actionsManager.raiseUpdatedAction(GANTT_TASKS, mappedData, data.id);\n  }\n\n  _onParentTasksRecalculated(data) {\n    if (!this.isSieving) {\n      var setters = GanttHelper.compileSettersByOption(this.option(GANTT_TASKS));\n\n      var treeDataSource = this._customFieldsManager.appendCustomFields(data.map(GanttHelper.prepareSetterMapHandler(setters)));\n\n      setTimeout(() => {\n        var _this$_ganttTreeList4;\n\n        this._treeListParentRecalculatedDataUpdating = true;\n        null === (_this$_ganttTreeList4 = this._ganttTreeList) || void 0 === _this$_ganttTreeList4 ? void 0 : _this$_ganttTreeList4.setDataSource(treeDataSource);\n      });\n    }\n\n    this.isSieving = false;\n  }\n\n  _sortAndFilter() {\n    var _this$_savedSortFilte, _this$_savedSortFilte2, _this$_savedSortFilte3;\n\n    var treeList = this._treeList;\n    var columns = treeList.getVisibleColumns();\n    var sortedColumns = columns.filter(c => c.sortIndex > -1);\n    var sortedState = sortedColumns.map(c => ({\n      sortIndex: c.sortIndex,\n      sortOrder: c.sortOrder\n    }));\n    var sortedStateChanged = !this._compareSortedState(null === (_this$_savedSortFilte = this._savedSortFilterState) || void 0 === _this$_savedSortFilte ? void 0 : _this$_savedSortFilte.sort, sortedState);\n    var filterValue = treeList.option(\"filterValue\");\n    var filterChanged = treeList.option(\"expandNodesOnFiltering\") && filterValue !== (null === (_this$_savedSortFilte2 = this._savedSortFilterState) || void 0 === _this$_savedSortFilte2 ? void 0 : _this$_savedSortFilte2.filter);\n    var sieveColumn = sortedColumns[0] || columns.filter(c => {\n      var _c$filterValues;\n\n      return isDefined(c.filterValue) || (null === (_c$filterValues = c.filterValues) || void 0 === _c$filterValues ? void 0 : _c$filterValues.length);\n    })[0];\n    var isClearSieving = (null === (_this$_savedSortFilte3 = this._savedSortFilterState) || void 0 === _this$_savedSortFilte3 ? void 0 : _this$_savedSortFilte3.sieveColumn) && !sieveColumn;\n\n    if (sieveColumn || isClearSieving) {\n      var sieveOptions = sieveColumn && {\n        sievedItems: this._ganttTreeList.getSievedItems(),\n        sieveColumn: sieveColumn,\n        expandTasks: filterChanged || filterValue && sortedStateChanged\n      };\n      this.isSieving = !isClearSieving;\n\n      this._setGanttViewOption(\"sieve\", sieveOptions);\n    }\n\n    this._savedSortFilterState = {\n      sort: sortedState,\n      filter: filterValue,\n      sieveColumn: sieveColumn\n    };\n  }\n\n  _compareSortedState(state1, state2) {\n    if (!state1 || !state2 || state1.length !== state2.length) {\n      return false;\n    }\n\n    return state1.every((c, i) => c.sortIndex === state2[i].sortIndex && c.sortOrder === state2[i].sortOrder);\n  }\n\n  _getToolbarItems() {\n    var items = this.option(\"toolbar.items\");\n    return items ? items : [];\n  }\n\n  _updateToolbarContent() {\n    var items = this._getToolbarItems();\n\n    if (items.length) {\n      this._$toolbarWrapper.show();\n    } else {\n      this._$toolbarWrapper.hide();\n    }\n\n    this._toolbar && this._toolbar.createItems(items);\n\n    this._updateBarItemsState();\n  }\n\n  _updateContextMenu() {\n    var contextMenuOptions = this.option(\"contextMenu\");\n\n    if (contextMenuOptions.enabled && this._contextMenuBar) {\n      this._contextMenuBar.createItems(contextMenuOptions.items);\n\n      this._updateBarItemsState();\n    }\n  }\n\n  _updateBarItemsState() {\n    this._ganttView && this._ganttView.updateBarItemsState();\n  }\n\n  _showDialog(e) {\n    if (!this._dialogInstance) {\n      this._dialogInstance = new GanttDialog(this, this._$dialog);\n    }\n\n    this._dialogInstance.show(e.name, e.parameters, e.callback, e.afterClosing, this.option(\"editing\"));\n  }\n\n  _showPopupMenu(info) {\n    if (this.option(\"contextMenu.enabled\")) {\n      this._ganttView.getBarManager().updateContextMenu();\n\n      var args = {\n        cancel: false,\n        event: info.event,\n        targetType: info.type,\n        targetKey: info.key,\n        items: extend(true, [], this._contextMenuBar._items),\n        data: \"task\" === info.type ? this.getTaskData(info.key) : this.getDependencyData(info.key)\n      };\n\n      this._actionsManager.raiseContextMenuPreparing(args);\n\n      if (!args.cancel) {\n        this._contextMenuBar.show(info.position, args.items);\n      }\n    }\n  }\n\n  _hidePopupMenu() {\n    this._contextMenuBar.hide();\n  }\n\n  _getLoadPanel() {\n    if (!this._loadPanel) {\n      this._loadPanel = this._createComponent(this._$loadPanel, LoadPanel, {\n        position: {\n          of: this.$element()\n        }\n      });\n    }\n\n    return this._loadPanel;\n  }\n\n  _getTaskKeyGetter() {\n    return compileGetter(this.option(\"\".concat(GANTT_TASKS, \".keyExpr\")));\n  }\n\n  _findTaskByKey(key) {\n    var _this$_tasksOption;\n\n    var tasks = null === (_this$_tasksOption = this._tasksOption) || void 0 === _this$_tasksOption ? void 0 : _this$_tasksOption._getItems();\n\n    var keyGetter = this._getTaskKeyGetter();\n\n    return tasks.find(t => keyGetter(t) === key);\n  }\n\n  _setGanttViewOption(optionName, value) {\n    this._ganttView && this._ganttView.option(optionName, value);\n  }\n\n  _getGanttViewOption(optionName, value) {\n    var _this$_ganttView3;\n\n    return null === (_this$_ganttView3 = this._ganttView) || void 0 === _this$_ganttView3 ? void 0 : _this$_ganttView3.option(optionName);\n  }\n\n  _getExportHelper() {\n    var _this$_exportHelper;\n\n    null !== (_this$_exportHelper = this._exportHelper) && void 0 !== _this$_exportHelper ? _this$_exportHelper : this._exportHelper = new GanttExportHelper(this);\n    return this._exportHelper;\n  }\n\n  _executeCoreCommand(id) {\n    this._ganttView.executeCoreCommand(id);\n  }\n\n  _expandAll() {\n    this._changeExpandAll(true);\n  }\n\n  _collapseAll() {\n    this._changeExpandAll(false);\n  }\n\n  _onTreeListRowExpandChanged(e, expanded) {\n    if (!this._lockRowExpandEvent) {\n      this._ganttView.changeTaskExpanded(e.key, expanded);\n\n      this._sizeHelper.adjustHeight();\n    }\n  }\n\n  _changeExpandAll(expanded, level, rowKey) {\n    var _promise;\n\n    var allExpandableNodes = [];\n    var nodesToExpand = [];\n\n    this._treeList.forEachNode(node => {\n      var _node$children;\n\n      if (null !== (_node$children = node.children) && void 0 !== _node$children && _node$children.length) {\n        allExpandableNodes.push(node);\n      }\n    });\n\n    if (rowKey) {\n      var node = this._treeList.getNodeByKey(rowKey);\n\n      GanttHelper.getAllParentNodesKeys(node, nodesToExpand);\n    }\n\n    var promise;\n    this._lockRowExpandEvent = allExpandableNodes.length > 0;\n    var state = allExpandableNodes.reduce((previous, node, index) => {\n      if (rowKey) {\n        expanded = nodesToExpand.includes(node.key);\n      } else if (level) {\n        expanded = node.level < level;\n      }\n\n      previous[node.key] = expanded;\n      var action = expanded ? this._treeList.expandRow : this._treeList.collapseRow;\n      var isLast = index === allExpandableNodes.length - 1;\n\n      if (isLast) {\n        promise = action(node.key);\n      } else {\n        action(node.key);\n      }\n\n      return previous;\n    }, {});\n    null === (_promise = promise) || void 0 === _promise ? void 0 : _promise.then(() => {\n      this._ganttView._ganttViewCore.applyTasksExpandedState(state);\n\n      this._sizeHelper.adjustHeight();\n\n      delete this._lockRowExpandEvent;\n    });\n  }\n\n  getTaskResources(key) {\n    if (!isDefined(key)) {\n      return null;\n    }\n\n    var coreData = this._ganttView._ganttViewCore.getTaskResources(key);\n\n    return coreData.map(r => this._mappingHelper.convertCoreToMappedData(GANTT_RESOURCES, r));\n  }\n\n  getVisibleTaskKeys() {\n    return this._ganttView._ganttViewCore.getVisibleTaskKeys();\n  }\n\n  getVisibleDependencyKeys() {\n    return this._ganttView._ganttViewCore.getVisibleDependencyKeys();\n  }\n\n  getVisibleResourceKeys() {\n    return this._ganttView._ganttViewCore.getVisibleResourceKeys();\n  }\n\n  getVisibleResourceAssignmentKeys() {\n    return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys();\n  }\n\n  getTaskData(key) {\n    if (!isDefined(key)) {\n      return null;\n    }\n\n    var coreData = this._ganttView._ganttViewCore.getTaskData(key);\n\n    var mappedData = this.getTaskDataByCoreData(coreData);\n    return mappedData;\n  }\n\n  getTaskDataByCoreData(coreData) {\n    var mappedData = coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_TASKS, coreData) : null;\n\n    this._customFieldsManager.addCustomFieldsData(coreData.id, mappedData);\n\n    return mappedData;\n  }\n\n  insertTask(data) {\n    this._customFieldsManager.saveCustomFieldsDataToCache(GANTT_NEW_TASK_CACHE_KEY, data);\n\n    this._ganttView._ganttViewCore.insertTask(this._mappingHelper.convertMappedToCoreData(GANTT_TASKS, data));\n  }\n\n  deleteTask(key) {\n    this._ganttView._ganttViewCore.deleteTask(key);\n  }\n\n  updateTask(key, data) {\n    var coreTaskData = this._mappingHelper.convertMappedToCoreData(GANTT_TASKS, data);\n\n    var isCustomFieldsUpdateOnly = !Object.keys(coreTaskData).length;\n\n    this._customFieldsManager.saveCustomFieldsDataToCache(key, data, true, isCustomFieldsUpdateOnly);\n\n    if (isCustomFieldsUpdateOnly) {\n      var customFieldsData = this._customFieldsManager._getCustomFieldsData(data);\n\n      if (Object.keys(customFieldsData).length > 0) {\n        this._actionsManager.raiseUpdatingAction(GANTT_TASKS, {\n          cancel: false,\n          key: key,\n          newValues: {}\n        });\n      }\n    } else {\n      this._ganttView._ganttViewCore.updateTask(key, coreTaskData);\n    }\n  }\n\n  getDependencyData(key) {\n    if (!isDefined(key)) {\n      return null;\n    }\n\n    var coreData = this._ganttView._ganttViewCore.getDependencyData(key);\n\n    return coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_DEPENDENCIES, coreData) : null;\n  }\n\n  insertDependency(data) {\n    this._ganttView._ganttViewCore.insertDependency(this._mappingHelper.convertMappedToCoreData(GANTT_DEPENDENCIES, data));\n  }\n\n  deleteDependency(key) {\n    this._ganttView._ganttViewCore.deleteDependency(key);\n  }\n\n  getResourceData(key) {\n    var coreData = this._ganttView._ganttViewCore.getResourceData(key);\n\n    return coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_RESOURCES, coreData) : null;\n  }\n\n  deleteResource(key) {\n    this._ganttView._ganttViewCore.deleteResource(key);\n  }\n\n  insertResource(data, taskKeys) {\n    this._ganttView._ganttViewCore.insertResource(this._mappingHelper.convertMappedToCoreData(GANTT_RESOURCES, data), taskKeys);\n  }\n\n  getResourceAssignmentData(key) {\n    var coreData = this._ganttView._ganttViewCore.getResourceAssignmentData(key);\n\n    return coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_RESOURCE_ASSIGNMENTS, coreData) : null;\n  }\n\n  assignResourceToTask(resourceKey, taskKey) {\n    this._ganttView._ganttViewCore.assignResourceToTask(resourceKey, taskKey);\n  }\n\n  unassignResourceFromTask(resourceKey, taskKey) {\n    this._ganttView._ganttViewCore.unassignResourceFromTask(resourceKey, taskKey);\n  }\n\n  unassignAllResourcesFromTask(taskKey) {\n    this._ganttView._ganttViewCore.unassignAllResourcesFromTask(taskKey);\n  }\n\n  updateDimensions() {\n    this._sizeHelper.onAdjustControl();\n  }\n\n  scrollToDate(date) {\n    this._ganttView._ganttViewCore.scrollToDate(date);\n  }\n\n  showResourceManagerDialog() {\n    this._ganttView._ganttViewCore.showResourcesDialog();\n  }\n\n  showTaskDetailsDialog(taskKey) {\n    this._ganttView._ganttViewCore.showTaskDetailsDialog(taskKey);\n  }\n\n  exportToPdf(options) {\n    return this._exportToPdf(options);\n  }\n\n  _exportToPdf(options) {\n    var _fullOptions$pdfDocum, _fullOptions$docCreat, _window$jspdf$jsPDF, _window$jspdf, _fullOptions$format;\n\n    this._exportHelper.reset();\n\n    var fullOptions = extend({}, options);\n\n    if (fullOptions.createDocumentMethod) {\n      fullOptions.docCreateMethod = fullOptions.createDocumentMethod;\n    }\n\n    null !== (_fullOptions$pdfDocum = fullOptions.pdfDocument) && void 0 !== _fullOptions$pdfDocum ? _fullOptions$pdfDocum : fullOptions.pdfDocument = fullOptions.jsPDFDocument;\n    null !== (_fullOptions$docCreat = fullOptions.docCreateMethod) && void 0 !== _fullOptions$docCreat ? _fullOptions$docCreat : fullOptions.docCreateMethod = null !== (_window$jspdf$jsPDF = null === (_window$jspdf = window.jspdf) || void 0 === _window$jspdf ? void 0 : _window$jspdf.jsPDF) && void 0 !== _window$jspdf$jsPDF ? _window$jspdf$jsPDF : window.jsPDF;\n    null !== (_fullOptions$format = fullOptions.format) && void 0 !== _fullOptions$format ? _fullOptions$format : fullOptions.format = \"a4\";\n    return new Promise(resolve => {\n      var _this$_ganttView4;\n\n      var doc = null === (_this$_ganttView4 = this._ganttView) || void 0 === _this$_ganttView4 ? void 0 : _this$_ganttView4._ganttViewCore.exportToPdf(fullOptions);\n      resolve(doc);\n    });\n  }\n\n  refresh() {\n    return new Promise((resolve, reject) => {\n      try {\n        this._refreshGantt();\n\n        resolve();\n      } catch (e) {\n        reject(e.message);\n      }\n    });\n  }\n\n  expandAll() {\n    this._expandAll();\n  }\n\n  collapseAll() {\n    this._collapseAll();\n  }\n\n  expandAllToLevel(level) {\n    this._changeExpandAll(false, level);\n  }\n\n  expandToTask(key) {\n    var _node$parent;\n\n    var node = this._treeList.getNodeByKey(key);\n\n    this._changeExpandAll(false, 0, null === node || void 0 === node ? void 0 : null === (_node$parent = node.parent) || void 0 === _node$parent ? void 0 : _node$parent.key);\n  }\n\n  collapseTask(key) {\n    this._treeList.collapseRow(key);\n  }\n\n  expandTask(key) {\n    this._treeList.expandRow(key);\n  }\n\n  showResources(value) {\n    this.option(\"showResources\", value);\n  }\n\n  showDependencies(value) {\n    this.option(\"showDependencies\", value);\n  }\n\n  zoomIn() {\n    this._ganttView._ganttViewCore.zoomIn();\n  }\n\n  zoomOut() {\n    this._ganttView._ganttViewCore.zoomOut();\n  }\n\n  _getDefaultOptions() {\n    return extend(super._getDefaultOptions(), GanttHelper.getDefaultOptions());\n  }\n\n  _optionChanged(args) {\n    var _this$_ganttTreeList5, _this$_sizeHelper, _this$_ganttTreeList6, _this$_actionsManager, _this$_actionsManager2, _this$_actionsManager3, _this$_actionsManager4, _this$_actionsManager5, _this$_actionsManager6, _this$_actionsManager7, _this$_actionsManager8, _this$_actionsManager9, _this$_actionsManager10, _this$_actionsManager11, _this$_actionsManager12, _this$_actionsManager13, _this$_actionsManager14, _this$_actionsManager15, _this$_actionsManager16, _this$_actionsManager17, _this$_actionsManager18, _this$_actionsManager19, _this$_actionsManager20, _this$_actionsManager21, _this$_actionsManager22, _this$_actionsManager23, _this$_actionsManager24, _this$_actionsManager25, _this$_actionsManager26, _this$_actionsManager27, _this$_ganttTreeList7, _this$_ganttTreeList8, _this$_ganttTemplates, _this$_ganttTemplates2, _this$_ganttTemplates3, _this$_ganttTemplates4, _this$_ganttTreeList9, _this$_sizeHelper2, _this$_sizeHelper3, _this$_ganttTreeList10, _this$_ganttTreeList11, _this$_ganttTreeList12;\n\n    switch (args.name) {\n      case \"tasks\":\n        this._refreshDataSource(GANTT_TASKS);\n\n        break;\n\n      case \"dependencies\":\n        this._refreshDataSource(GANTT_DEPENDENCIES);\n\n        break;\n\n      case \"resources\":\n        this._refreshDataSource(GANTT_RESOURCES);\n\n        break;\n\n      case \"resourceAssignments\":\n        this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS);\n\n        break;\n\n      case \"columns\":\n        null === (_this$_ganttTreeList5 = this._ganttTreeList) || void 0 === _this$_ganttTreeList5 ? void 0 : _this$_ganttTreeList5.setOption(\"columns\", this._ganttTreeList.getColumns());\n        break;\n\n      case \"taskListWidth\":\n        null === (_this$_sizeHelper = this._sizeHelper) || void 0 === _this$_sizeHelper ? void 0 : _this$_sizeHelper.setInnerElementsWidth();\n        break;\n\n      case \"showResources\":\n        this._setGanttViewOption(\"showResources\", args.value);\n\n        break;\n\n      case \"showDependencies\":\n        this._setGanttViewOption(\"showDependencies\", args.value);\n\n        break;\n\n      case \"taskTitlePosition\":\n        this._setGanttViewOption(\"taskTitlePosition\", args.value);\n\n        break;\n\n      case \"firstDayOfWeek\":\n        this._setGanttViewOption(\"firstDayOfWeek\", args.value);\n\n        break;\n\n      case \"startDateRange\":\n        this._setGanttViewOption(\"startDateRange\", args.value);\n\n        break;\n\n      case \"endDateRange\":\n        this._setGanttViewOption(\"endDateRange\", args.value);\n\n        break;\n\n      case \"selectedRowKey\":\n        null === (_this$_ganttTreeList6 = this._ganttTreeList) || void 0 === _this$_ganttTreeList6 ? void 0 : _this$_ganttTreeList6.selectRows(GanttHelper.getArrayFromOneElement(args.value));\n        break;\n\n      case \"onSelectionChanged\":\n        null === (_this$_actionsManager = this._actionsManager) || void 0 === _this$_actionsManager ? void 0 : _this$_actionsManager.createSelectionChangedAction();\n        break;\n\n      case \"onTaskClick\":\n        null === (_this$_actionsManager2 = this._actionsManager) || void 0 === _this$_actionsManager2 ? void 0 : _this$_actionsManager2.createTaskClickAction();\n        break;\n\n      case \"onTaskDblClick\":\n        null === (_this$_actionsManager3 = this._actionsManager) || void 0 === _this$_actionsManager3 ? void 0 : _this$_actionsManager3.createTaskDblClickAction();\n        break;\n\n      case \"onTaskInserting\":\n        null === (_this$_actionsManager4 = this._actionsManager) || void 0 === _this$_actionsManager4 ? void 0 : _this$_actionsManager4.createTaskInsertingAction();\n        break;\n\n      case \"onTaskInserted\":\n        null === (_this$_actionsManager5 = this._actionsManager) || void 0 === _this$_actionsManager5 ? void 0 : _this$_actionsManager5.createTaskInsertedAction();\n        break;\n\n      case \"onTaskDeleting\":\n        null === (_this$_actionsManager6 = this._actionsManager) || void 0 === _this$_actionsManager6 ? void 0 : _this$_actionsManager6.createTaskDeletingAction();\n        break;\n\n      case \"onTaskDeleted\":\n        null === (_this$_actionsManager7 = this._actionsManager) || void 0 === _this$_actionsManager7 ? void 0 : _this$_actionsManager7.createTaskDeletedAction();\n        break;\n\n      case \"onTaskUpdating\":\n        null === (_this$_actionsManager8 = this._actionsManager) || void 0 === _this$_actionsManager8 ? void 0 : _this$_actionsManager8.createTaskUpdatingAction();\n        break;\n\n      case \"onTaskUpdated\":\n        null === (_this$_actionsManager9 = this._actionsManager) || void 0 === _this$_actionsManager9 ? void 0 : _this$_actionsManager9.createTaskUpdatedAction();\n        break;\n\n      case \"onTaskMoving\":\n        null === (_this$_actionsManager10 = this._actionsManager) || void 0 === _this$_actionsManager10 ? void 0 : _this$_actionsManager10.createTaskMovingAction();\n        break;\n\n      case \"onTaskEditDialogShowing\":\n        null === (_this$_actionsManager11 = this._actionsManager) || void 0 === _this$_actionsManager11 ? void 0 : _this$_actionsManager11.createTaskEditDialogShowingAction();\n        break;\n\n      case \"onResourceManagerDialogShowing\":\n        null === (_this$_actionsManager12 = this._actionsManager) || void 0 === _this$_actionsManager12 ? void 0 : _this$_actionsManager12.createResourceManagerDialogShowingAction();\n        break;\n\n      case \"onDependencyInserting\":\n        null === (_this$_actionsManager13 = this._actionsManager) || void 0 === _this$_actionsManager13 ? void 0 : _this$_actionsManager13.createDependencyInsertingAction();\n        break;\n\n      case \"onDependencyInserted\":\n        null === (_this$_actionsManager14 = this._actionsManager) || void 0 === _this$_actionsManager14 ? void 0 : _this$_actionsManager14.createDependencyInsertedAction();\n        break;\n\n      case \"onDependencyDeleting\":\n        null === (_this$_actionsManager15 = this._actionsManager) || void 0 === _this$_actionsManager15 ? void 0 : _this$_actionsManager15.createDependencyDeletingAction();\n        break;\n\n      case \"onDependencyDeleted\":\n        null === (_this$_actionsManager16 = this._actionsManager) || void 0 === _this$_actionsManager16 ? void 0 : _this$_actionsManager16.createDependencyDeletedAction();\n        break;\n\n      case \"onResourceInserting\":\n        null === (_this$_actionsManager17 = this._actionsManager) || void 0 === _this$_actionsManager17 ? void 0 : _this$_actionsManager17.createResourceInsertingAction();\n        break;\n\n      case \"onResourceInserted\":\n        null === (_this$_actionsManager18 = this._actionsManager) || void 0 === _this$_actionsManager18 ? void 0 : _this$_actionsManager18.createResourceInsertedAction();\n        break;\n\n      case \"onResourceDeleting\":\n        null === (_this$_actionsManager19 = this._actionsManager) || void 0 === _this$_actionsManager19 ? void 0 : _this$_actionsManager19.createResourceDeletingAction();\n        break;\n\n      case \"onResourceDeleted\":\n        null === (_this$_actionsManager20 = this._actionsManager) || void 0 === _this$_actionsManager20 ? void 0 : _this$_actionsManager20.createResourceDeletedAction();\n        break;\n\n      case \"onResourceAssigning\":\n        null === (_this$_actionsManager21 = this._actionsManager) || void 0 === _this$_actionsManager21 ? void 0 : _this$_actionsManager21.createResourceAssigningAction();\n        break;\n\n      case \"onResourceAssigned\":\n        null === (_this$_actionsManager22 = this._actionsManager) || void 0 === _this$_actionsManager22 ? void 0 : _this$_actionsManager22.createResourceAssignedAction();\n        break;\n\n      case \"onResourceUnassigning\":\n        null === (_this$_actionsManager23 = this._actionsManager) || void 0 === _this$_actionsManager23 ? void 0 : _this$_actionsManager23.createResourceUnassigningAction();\n        break;\n\n      case \"onResourceUnassigned\":\n        null === (_this$_actionsManager24 = this._actionsManager) || void 0 === _this$_actionsManager24 ? void 0 : _this$_actionsManager24.createResourceUnassignedAction();\n        break;\n\n      case \"onCustomCommand\":\n        null === (_this$_actionsManager25 = this._actionsManager) || void 0 === _this$_actionsManager25 ? void 0 : _this$_actionsManager25.createCustomCommandAction();\n        break;\n\n      case \"onContextMenuPreparing\":\n        null === (_this$_actionsManager26 = this._actionsManager) || void 0 === _this$_actionsManager26 ? void 0 : _this$_actionsManager26.createContextMenuPreparingAction();\n        break;\n\n      case \"onScaleCellPrepared\":\n        null === (_this$_actionsManager27 = this._actionsManager) || void 0 === _this$_actionsManager27 ? void 0 : _this$_actionsManager27.createScaleCellPreparedAction();\n        break;\n\n      case \"allowSelection\":\n        null === (_this$_ganttTreeList7 = this._ganttTreeList) || void 0 === _this$_ganttTreeList7 ? void 0 : _this$_ganttTreeList7.setOption(\"selection.mode\", GanttHelper.getSelectionMode(args.value));\n\n        this._setGanttViewOption(\"allowSelection\", args.value);\n\n        break;\n\n      case \"showRowLines\":\n        null === (_this$_ganttTreeList8 = this._ganttTreeList) || void 0 === _this$_ganttTreeList8 ? void 0 : _this$_ganttTreeList8.setOption(\"showRowLines\", args.value);\n\n        this._setGanttViewOption(\"showRowLines\", args.value);\n\n        break;\n\n      case \"stripLines\":\n        this._setGanttViewOption(\"stripLines\", args.value);\n\n        break;\n\n      case \"scaleType\":\n        this._setGanttViewOption(\"scaleType\", args.value);\n\n        break;\n\n      case \"scaleTypeRange\":\n        this._setGanttViewOption(\"scaleTypeRange\", this.option(args.name));\n\n        break;\n\n      case \"editing\":\n        this._setGanttViewOption(\"editing\", this.option(args.name));\n\n        break;\n\n      case \"validation\":\n        this._setGanttViewOption(\"validation\", this.option(args.name));\n\n        break;\n\n      case \"toolbar\":\n        this._updateToolbarContent();\n\n        break;\n\n      case \"contextMenu\":\n        this._updateContextMenu();\n\n        break;\n\n      case \"taskTooltipContentTemplate\":\n        this._setGanttViewOption(\"taskTooltipContentTemplate\", null === (_this$_ganttTemplates = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates ? void 0 : _this$_ganttTemplates.getTaskTooltipContentTemplateFunc(args.value));\n\n        break;\n\n      case \"taskProgressTooltipContentTemplate\":\n        this._setGanttViewOption(\"taskProgressTooltipContentTemplate\", null === (_this$_ganttTemplates2 = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates2 ? void 0 : _this$_ganttTemplates2.getTaskProgressTooltipContentTemplateFunc(args.value));\n\n        break;\n\n      case \"taskTimeTooltipContentTemplate\":\n        this._setGanttViewOption(\"taskTimeTooltipContentTemplate\", null === (_this$_ganttTemplates3 = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates3 ? void 0 : _this$_ganttTemplates3.getTaskTimeTooltipContentTemplateFunc(args.value));\n\n        break;\n\n      case \"taskContentTemplate\":\n        this._setGanttViewOption(\"taskContentTemplate\", null === (_this$_ganttTemplates4 = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates4 ? void 0 : _this$_ganttTemplates4.getTaskContentTemplateFunc(args.value));\n\n        break;\n\n      case \"rootValue\":\n        null === (_this$_ganttTreeList9 = this._ganttTreeList) || void 0 === _this$_ganttTreeList9 ? void 0 : _this$_ganttTreeList9.setOption(\"rootValue\", args.value);\n        break;\n\n      case \"width\":\n        super._optionChanged(args);\n\n        null === (_this$_sizeHelper2 = this._sizeHelper) || void 0 === _this$_sizeHelper2 ? void 0 : _this$_sizeHelper2.updateGanttWidth();\n        break;\n\n      case \"height\":\n        super._optionChanged(args);\n\n        null === (_this$_sizeHelper3 = this._sizeHelper) || void 0 === _this$_sizeHelper3 ? void 0 : _this$_sizeHelper3.setGanttHeight(getHeight(this._$element));\n        break;\n\n      case \"sorting\":\n        null === (_this$_ganttTreeList10 = this._ganttTreeList) || void 0 === _this$_ganttTreeList10 ? void 0 : _this$_ganttTreeList10.setOption(\"sorting\", this.option(args.name));\n        break;\n\n      case \"filterRow\":\n        null === (_this$_ganttTreeList11 = this._ganttTreeList) || void 0 === _this$_ganttTreeList11 ? void 0 : _this$_ganttTreeList11.setOption(\"filterRow\", this.option(args.name));\n        break;\n\n      case \"headerFilter\":\n        null === (_this$_ganttTreeList12 = this._ganttTreeList) || void 0 === _this$_ganttTreeList12 ? void 0 : _this$_ganttTreeList12.setOption(\"headerFilter\", this.option(args.name));\n        break;\n\n      default:\n        super._optionChanged(args);\n\n    }\n  }\n\n}\n\nregisterComponent(\"dxGantt\", Gantt);\nexport default Gantt;","map":{"version":3,"names":["getHeight","$","compileGetter","extend","getWindow","isDefined","ModelChangesListener","DataOption","LoadPanel","registerComponent","SplitterControl","Widget","GanttActionsManager","GanttCustomFieldsManager","GanttDialog","GanttExportHelper","GanttHelper","GanttMappingHelper","GanttSizeHelper","GanttTemplatesManager","GanttToolbar","GanttContextMenuBar","GanttTreeList","GanttView","window","GANTT_CLASS","GANTT_VIEW_CLASS","GANTT_TREE_LIST_WRAPPER","GANTT_TOOLBAR_WRAPPER","GANTT_MAIN_WRAPPER","GANTT_TASKS","GANTT_DEPENDENCIES","GANTT_RESOURCES","GANTT_RESOURCE_ASSIGNMENTS","GANTT_NEW_TASK_CACHE_KEY","Gantt","_init","_initGantt","_isGanttRendered","_initHelpers","_refreshDataSources","_initMarkup","$element","addClass","_$toolbarWrapper","appendTo","_$toolbar","_$mainWrapper","_$treeListWrapper","_$treeList","_$splitter","_$ganttView","_$dialog","_$loadPanel","_$contextMenu","_clean","_this$_ganttView","_ganttView","_ganttViewCore","cleanMarkup","_dialogInstance","_loadPanel","_exportHelper","_refresh","_contentReadyRaised","_fireContentReadyAction","_dimensionChanged","_this$_ganttView2","_onDimensionChanged","_visibilityChanged","visible","_refreshGantt","_refreshDataSource","_renderContent","_isMainElementVisible","is","_renderBars","_renderTreeList","_renderSplitter","_ganttTreeList","_treeList","getTreeList","onAfterTreeListCreate","_splitter","_createComponent","container","leftElement","rightElement","onApplyPanelSize","e","_sizeHelper","option","_bars","_toolbar","_updateToolbarContent","push","_contextMenuBar","_updateContextMenu","_mappingHelper","_customFieldsManager","_actionsManager","_ganttTemplatesManager","_initGanttView","width","height","getOffsetHeight","rowHeight","getRowHeight","headerHeight","getHeaderHeight","tasks","_tasks","dependencies","_dependencies","resources","_resources","resourceAssignments","_resourceAssignments","allowSelection","selectedRowKey","showResources","showDependencies","startDateRange","endDateRange","taskTitlePosition","firstDayOfWeek","showRowLines","scaleType","scaleTypeRange","editing","validation","stripLines","bars","mainElement","onSelectionChanged","selectRows","getArrayFromOneElement","id","onScroll","scrollBy","scrollTop","onDialogShowing","_showDialog","bind","onPopupMenuShowing","_showPopupMenu","onPopupMenuHiding","_hidePopupMenu","onExpandAll","_expandAll","onCollapseAll","_collapseAll","modelChangesListener","create","exportHelper","_getExportHelper","taskTooltipContentTemplate","getTaskTooltipContentTemplateFunc","taskProgressTooltipContentTemplate","getTaskProgressTooltipContentTemplateFunc","taskTimeTooltipContentTemplate","getTaskTimeTooltipContentTemplateFunc","taskContentTemplate","getTaskContentTemplateFunc","onTaskClick","onRowClick","onTaskDblClick","onRowDblClick","onAdjustControl","onContentReady","_onGanttViewContentReady","_isParentAutoUpdateMode","_onTreeListContentReady","_treeListParentRecalculatedDataUpdating","name","dataOption","concat","dispose","_getLoadPanel","data","_dataSourceChanged","_getSpecificDataSourceOption","dataSource","Array","isArray","store","type","key","dataSourceName","getters","compileGettersByOption","validatedData","_validateSourceData","mappedData","map","prepareMapHandler","_setGanttViewOption","_this$_ganttTreeList","_this$_ganttTreeList2","_this$_ganttTreeList3","_tasksRaw","forceUpdate","getDataSource","saveExpandedKeys","updateDataSource","_validateTaskData","_this$option","keyGetter","parentIdGetter","rootValue","validationTree","i","length","item","_validationTree$key","isRootTask","treeItem","children","_parentIdGetter","_validationTree$paren","parentId","parentTreeItem","parent","validKeys","_appendChildKeys","filter","indexOf","keys","child","_onRecordInserted","optionName","record","callback","getStoreObject","isTaskInsert","addCustomFieldsDataFromCache","insert","response","insertedId","_reloadDataSource","done","onTaskInserted","raiseInsertedAction","_onRecordUpdated","values","isTaskUpdated","convertCoreToMappedData","hasCustomFieldsData","cache","hasData","update","raiseUpdatedAction","_onRecordRemoved","remove","raiseDeletedAction","_onParentTaskUpdated","getTaskDataByCoreData","_onParentTasksRecalculated","isSieving","setters","compileSettersByOption","treeDataSource","appendCustomFields","prepareSetterMapHandler","setTimeout","_this$_ganttTreeList4","setDataSource","_sortAndFilter","_this$_savedSortFilte","_this$_savedSortFilte2","_this$_savedSortFilte3","treeList","columns","getVisibleColumns","sortedColumns","c","sortIndex","sortedState","sortOrder","sortedStateChanged","_compareSortedState","_savedSortFilterState","sort","filterValue","filterChanged","sieveColumn","_c$filterValues","filterValues","isClearSieving","sieveOptions","sievedItems","getSievedItems","expandTasks","state1","state2","every","_getToolbarItems","items","show","hide","createItems","_updateBarItemsState","contextMenuOptions","enabled","updateBarItemsState","parameters","afterClosing","info","getBarManager","updateContextMenu","args","cancel","event","targetType","targetKey","_items","getTaskData","getDependencyData","raiseContextMenuPreparing","position","of","_getTaskKeyGetter","_findTaskByKey","_this$_tasksOption","_tasksOption","_getItems","find","t","value","_getGanttViewOption","_this$_ganttView3","_this$_exportHelper","_executeCoreCommand","executeCoreCommand","_changeExpandAll","_onTreeListRowExpandChanged","expanded","_lockRowExpandEvent","changeTaskExpanded","adjustHeight","level","rowKey","_promise","allExpandableNodes","nodesToExpand","forEachNode","node","_node$children","getNodeByKey","getAllParentNodesKeys","promise","state","reduce","previous","index","includes","action","expandRow","collapseRow","isLast","then","applyTasksExpandedState","getTaskResources","coreData","r","getVisibleTaskKeys","getVisibleDependencyKeys","getVisibleResourceKeys","getVisibleResourceAssignmentKeys","addCustomFieldsData","insertTask","saveCustomFieldsDataToCache","convertMappedToCoreData","deleteTask","updateTask","coreTaskData","isCustomFieldsUpdateOnly","Object","customFieldsData","_getCustomFieldsData","raiseUpdatingAction","newValues","insertDependency","deleteDependency","getResourceData","deleteResource","insertResource","taskKeys","getResourceAssignmentData","assignResourceToTask","resourceKey","taskKey","unassignResourceFromTask","unassignAllResourcesFromTask","updateDimensions","scrollToDate","date","showResourceManagerDialog","showResourcesDialog","showTaskDetailsDialog","exportToPdf","options","_exportToPdf","_fullOptions$pdfDocum","_fullOptions$docCreat","_window$jspdf$jsPDF","_window$jspdf","_fullOptions$format","reset","fullOptions","createDocumentMethod","docCreateMethod","pdfDocument","jsPDFDocument","jspdf","jsPDF","format","Promise","resolve","_this$_ganttView4","doc","refresh","reject","message","expandAll","collapseAll","expandAllToLevel","expandToTask","_node$parent","collapseTask","expandTask","zoomIn","zoomOut","_getDefaultOptions","getDefaultOptions","_optionChanged","_this$_ganttTreeList5","_this$_sizeHelper","_this$_ganttTreeList6","_this$_actionsManager","_this$_actionsManager2","_this$_actionsManager3","_this$_actionsManager4","_this$_actionsManager5","_this$_actionsManager6","_this$_actionsManager7","_this$_actionsManager8","_this$_actionsManager9","_this$_actionsManager10","_this$_actionsManager11","_this$_actionsManager12","_this$_actionsManager13","_this$_actionsManager14","_this$_actionsManager15","_this$_actionsManager16","_this$_actionsManager17","_this$_actionsManager18","_this$_actionsManager19","_this$_actionsManager20","_this$_actionsManager21","_this$_actionsManager22","_this$_actionsManager23","_this$_actionsManager24","_this$_actionsManager25","_this$_actionsManager26","_this$_actionsManager27","_this$_ganttTreeList7","_this$_ganttTreeList8","_this$_ganttTemplates","_this$_ganttTemplates2","_this$_ganttTemplates3","_this$_ganttTemplates4","_this$_ganttTreeList9","_this$_sizeHelper2","_this$_sizeHelper3","_this$_ganttTreeList10","_this$_ganttTreeList11","_this$_ganttTreeList12","setOption","getColumns","setInnerElementsWidth","createSelectionChangedAction","createTaskClickAction","createTaskDblClickAction","createTaskInsertingAction","createTaskInsertedAction","createTaskDeletingAction","createTaskDeletedAction","createTaskUpdatingAction","createTaskUpdatedAction","createTaskMovingAction","createTaskEditDialogShowingAction","createResourceManagerDialogShowingAction","createDependencyInsertingAction","createDependencyInsertedAction","createDependencyDeletingAction","createDependencyDeletedAction","createResourceInsertingAction","createResourceInsertedAction","createResourceDeletingAction","createResourceDeletedAction","createResourceAssigningAction","createResourceAssignedAction","createResourceUnassigningAction","createResourceUnassignedAction","createCustomCommandAction","createContextMenuPreparingAction","createScaleCellPreparedAction","getSelectionMode","updateGanttWidth","setGanttHeight","_$element"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/ui/gantt/ui.gantt.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    ModelChangesListener\r\n} from \"./ui.gantt.model_changes_listener\";\r\nimport DataOption from \"./ui.gantt.data.option\";\r\nimport LoadPanel from \"../load_panel\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport SplitterControl from \"../splitter\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport {\r\n    GanttActionsManager\r\n} from \"./ui.gantt.actions\";\r\nimport {\r\n    GanttCustomFieldsManager\r\n} from \"./ui.gantt.custom_fields\";\r\nimport {\r\n    GanttDialog\r\n} from \"./ui.gantt.dialogs\";\r\nimport {\r\n    GanttExportHelper\r\n} from \"./ui.gantt.export_helper\";\r\nimport {\r\n    GanttHelper\r\n} from \"./ui.gantt.helper\";\r\nimport {\r\n    GanttMappingHelper\r\n} from \"./ui.gantt.mapping_helper\";\r\nimport {\r\n    GanttSizeHelper\r\n} from \"./ui.gantt.size_helper\";\r\nimport {\r\n    GanttTemplatesManager\r\n} from \"./ui.gantt.templates\";\r\nimport {\r\n    GanttToolbar,\r\n    GanttContextMenuBar\r\n} from \"./ui.gantt.bars\";\r\nimport {\r\n    GanttTreeList\r\n} from \"./ui.gantt.treelist\";\r\nimport {\r\n    GanttView\r\n} from \"./ui.gantt.view\";\r\nvar window = getWindow();\r\nvar GANTT_CLASS = \"dx-gantt\";\r\nvar GANTT_VIEW_CLASS = \"dx-gantt-view\";\r\nvar GANTT_TREE_LIST_WRAPPER = \"dx-gantt-treelist-wrapper\";\r\nvar GANTT_TOOLBAR_WRAPPER = \"dx-gantt-toolbar-wrapper\";\r\nvar GANTT_MAIN_WRAPPER = \"dx-gantt-main-wrapper\";\r\nvar GANTT_TASKS = \"tasks\";\r\nvar GANTT_DEPENDENCIES = \"dependencies\";\r\nvar GANTT_RESOURCES = \"resources\";\r\nvar GANTT_RESOURCE_ASSIGNMENTS = \"resourceAssignments\";\r\nvar GANTT_NEW_TASK_CACHE_KEY = \"gantt_new_task_key\";\r\nclass Gantt extends Widget {\r\n    _init() {\r\n        super._init();\r\n        this._initGantt();\r\n        this._isGanttRendered = false;\r\n        this._initHelpers()\r\n    }\r\n    _initGantt() {\r\n        this._refreshDataSources()\r\n    }\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        this.$element().addClass(GANTT_CLASS);\r\n        this._$toolbarWrapper = $(\"<div>\").addClass(GANTT_TOOLBAR_WRAPPER).appendTo(this.$element());\r\n        this._$toolbar = $(\"<div>\").appendTo(this._$toolbarWrapper);\r\n        this._$mainWrapper = $(\"<div>\").addClass(GANTT_MAIN_WRAPPER).appendTo(this.$element());\r\n        this._$treeListWrapper = $(\"<div>\").addClass(GANTT_TREE_LIST_WRAPPER).appendTo(this._$mainWrapper);\r\n        this._$treeList = $(\"<div>\").appendTo(this._$treeListWrapper);\r\n        this._$splitter = $(\"<div>\").appendTo(this._$mainWrapper);\r\n        this._$ganttView = $(\"<div>\").addClass(GANTT_VIEW_CLASS).appendTo(this._$mainWrapper);\r\n        this._$dialog = $(\"<div>\").appendTo(this.$element());\r\n        this._$loadPanel = $(\"<div>\").appendTo(this.$element());\r\n        this._$contextMenu = $(\"<div>\").appendTo(this.$element())\r\n    }\r\n    _clean() {\r\n        var _this$_ganttView;\r\n        null === (_this$_ganttView = this._ganttView) || void 0 === _this$_ganttView ? void 0 : _this$_ganttView._ganttViewCore.cleanMarkup();\r\n        delete this._ganttView;\r\n        delete this._dialogInstance;\r\n        delete this._loadPanel;\r\n        delete this._exportHelper;\r\n        super._clean()\r\n    }\r\n    _refresh() {\r\n        this._isGanttRendered = false;\r\n        this._contentReadyRaised = false;\r\n        super._refresh()\r\n    }\r\n    _fireContentReadyAction() {\r\n        if (!this._contentReadyRaised) {\r\n            super._fireContentReadyAction()\r\n        }\r\n        this._contentReadyRaised = true\r\n    }\r\n    _dimensionChanged() {\r\n        var _this$_ganttView2;\r\n        null === (_this$_ganttView2 = this._ganttView) || void 0 === _this$_ganttView2 ? void 0 : _this$_ganttView2._onDimensionChanged()\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._refreshGantt()\r\n        }\r\n    }\r\n    _refreshGantt() {\r\n        this._refreshDataSources();\r\n        this._refresh()\r\n    }\r\n    _refreshDataSources() {\r\n        this._refreshDataSource(GANTT_TASKS);\r\n        this._refreshDataSource(GANTT_DEPENDENCIES);\r\n        this._refreshDataSource(GANTT_RESOURCES);\r\n        this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS)\r\n    }\r\n    _renderContent() {\r\n        this._isMainElementVisible = this.$element().is(\":visible\");\r\n        if (this._isMainElementVisible && !this._isGanttRendered) {\r\n            this._isGanttRendered = true;\r\n            this._renderBars();\r\n            this._renderTreeList();\r\n            this._renderSplitter()\r\n        }\r\n    }\r\n    _renderTreeList() {\r\n        this._ganttTreeList = new GanttTreeList(this);\r\n        this._treeList = this._ganttTreeList.getTreeList();\r\n        this._ganttTreeList.onAfterTreeListCreate()\r\n    }\r\n    _renderSplitter() {\r\n        this._splitter = this._createComponent(this._$splitter, SplitterControl, {\r\n            container: this.$element(),\r\n            leftElement: this._$treeListWrapper,\r\n            rightElement: this._$ganttView,\r\n            onApplyPanelSize: e => {\r\n                this._sizeHelper.onApplyPanelSize(e)\r\n            }\r\n        });\r\n        this._splitter.option(\"initialLeftPanelWidth\", this.option(\"taskListWidth\"))\r\n    }\r\n    _renderBars() {\r\n        this._bars = [];\r\n        this._toolbar = new GanttToolbar(this._$toolbar, this);\r\n        this._updateToolbarContent();\r\n        this._bars.push(this._toolbar);\r\n        this._contextMenuBar = new GanttContextMenuBar(this._$contextMenu, this);\r\n        this._updateContextMenu();\r\n        this._bars.push(this._contextMenuBar)\r\n    }\r\n    _initHelpers() {\r\n        this._mappingHelper = new GanttMappingHelper(this);\r\n        this._customFieldsManager = new GanttCustomFieldsManager(this);\r\n        this._actionsManager = new GanttActionsManager(this);\r\n        this._ganttTemplatesManager = new GanttTemplatesManager(this);\r\n        this._sizeHelper = new GanttSizeHelper(this)\r\n    }\r\n    _initGanttView() {\r\n        if (this._ganttView) {\r\n            return\r\n        }\r\n        this._ganttView = this._createComponent(this._$ganttView, GanttView, {\r\n            width: \"100%\",\r\n            height: this._ganttTreeList.getOffsetHeight(),\r\n            rowHeight: this._ganttTreeList.getRowHeight(),\r\n            headerHeight: this._ganttTreeList.getHeaderHeight(),\r\n            tasks: this._tasks,\r\n            dependencies: this._dependencies,\r\n            resources: this._resources,\r\n            resourceAssignments: this._resourceAssignments,\r\n            allowSelection: this.option(\"allowSelection\"),\r\n            selectedRowKey: this.option(\"selectedRowKey\"),\r\n            showResources: this.option(\"showResources\"),\r\n            showDependencies: this.option(\"showDependencies\"),\r\n            startDateRange: this.option(\"startDateRange\"),\r\n            endDateRange: this.option(\"endDateRange\"),\r\n            taskTitlePosition: this.option(\"taskTitlePosition\"),\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            showRowLines: this.option(\"showRowLines\"),\r\n            scaleType: this.option(\"scaleType\"),\r\n            scaleTypeRange: this.option(\"scaleTypeRange\"),\r\n            editing: this.option(\"editing\"),\r\n            validation: this.option(\"validation\"),\r\n            stripLines: this.option(\"stripLines\"),\r\n            bars: this._bars,\r\n            mainElement: this.$element(),\r\n            onSelectionChanged: e => {\r\n                this._ganttTreeList.selectRows(GanttHelper.getArrayFromOneElement(e.id))\r\n            },\r\n            onScroll: e => {\r\n                this._ganttTreeList.scrollBy(e.scrollTop)\r\n            },\r\n            onDialogShowing: this._showDialog.bind(this),\r\n            onPopupMenuShowing: this._showPopupMenu.bind(this),\r\n            onPopupMenuHiding: this._hidePopupMenu.bind(this),\r\n            onExpandAll: this._expandAll.bind(this),\r\n            onCollapseAll: this._collapseAll.bind(this),\r\n            modelChangesListener: ModelChangesListener.create(this),\r\n            exportHelper: this._getExportHelper(),\r\n            taskTooltipContentTemplate: this._ganttTemplatesManager.getTaskTooltipContentTemplateFunc(this.option(\"taskTooltipContentTemplate\")),\r\n            taskProgressTooltipContentTemplate: this._ganttTemplatesManager.getTaskProgressTooltipContentTemplateFunc(this.option(\"taskProgressTooltipContentTemplate\")),\r\n            taskTimeTooltipContentTemplate: this._ganttTemplatesManager.getTaskTimeTooltipContentTemplateFunc(this.option(\"taskTimeTooltipContentTemplate\")),\r\n            taskContentTemplate: this._ganttTemplatesManager.getTaskContentTemplateFunc(this.option(\"taskContentTemplate\")),\r\n            onTaskClick: e => {\r\n                this._ganttTreeList.onRowClick(e)\r\n            },\r\n            onTaskDblClick: e => {\r\n                this._ganttTreeList.onRowDblClick(e)\r\n            },\r\n            onAdjustControl: () => {\r\n                this._sizeHelper.onAdjustControl()\r\n            },\r\n            onContentReady: this._onGanttViewContentReady.bind(this)\r\n        })\r\n    }\r\n    _onGanttViewContentReady(e) {\r\n        if (!this._isParentAutoUpdateMode()) {\r\n            this._fireContentReadyAction()\r\n        }\r\n    }\r\n    _isParentAutoUpdateMode() {\r\n        return this.option(\"validation.autoUpdateParentTasks\")\r\n    }\r\n    _onTreeListContentReady(e) {\r\n        if (this._isParentAutoUpdateMode() && this._treeListParentRecalculatedDataUpdating) {\r\n            this._fireContentReadyAction()\r\n        }\r\n        delete this._treeListParentRecalculatedDataUpdating\r\n    }\r\n    _refreshDataSource(name) {\r\n        var dataOption = this[\"_\".concat(name, \"Option\")];\r\n        if (dataOption) {\r\n            dataOption.dispose();\r\n            delete this[\"_\".concat(name, \"Option\")];\r\n            delete this[\"_\".concat(name)]\r\n        }\r\n        dataOption = new DataOption(name, this._getLoadPanel.bind(this), (name, data) => {\r\n            this._dataSourceChanged(name, data)\r\n        });\r\n        dataOption.option(\"dataSource\", this._getSpecificDataSourceOption(name));\r\n        dataOption._refreshDataSource();\r\n        this[\"_\".concat(name, \"Option\")] = dataOption\r\n    }\r\n    _getSpecificDataSourceOption(name) {\r\n        var dataSource = this.option(\"\".concat(name, \".dataSource\"));\r\n        if (!dataSource || Array.isArray(dataSource)) {\r\n            return {\r\n                store: {\r\n                    type: \"array\",\r\n                    data: null !== dataSource && void 0 !== dataSource ? dataSource : [],\r\n                    key: this.option(\"\".concat(name, \".keyExpr\"))\r\n                }\r\n            }\r\n        }\r\n        return dataSource\r\n    }\r\n    _dataSourceChanged(dataSourceName, data) {\r\n        var getters = GanttHelper.compileGettersByOption(this.option(dataSourceName));\r\n        var validatedData = this._validateSourceData(dataSourceName, data);\r\n        var mappedData = validatedData.map(GanttHelper.prepareMapHandler(getters));\r\n        this[\"_\".concat(dataSourceName)] = mappedData;\r\n        this._setGanttViewOption(dataSourceName, mappedData);\r\n        if (dataSourceName === GANTT_TASKS) {\r\n            var _this$_ganttTreeList, _this$_ganttTreeList2, _this$_ganttTreeList3;\r\n            this._tasksRaw = validatedData;\r\n            var forceUpdate = !(null !== (_this$_ganttTreeList = this._ganttTreeList) && void 0 !== _this$_ganttTreeList && _this$_ganttTreeList.getDataSource()) && !this._ganttView;\r\n            null === (_this$_ganttTreeList2 = this._ganttTreeList) || void 0 === _this$_ganttTreeList2 ? void 0 : _this$_ganttTreeList2.saveExpandedKeys();\r\n            null === (_this$_ganttTreeList3 = this._ganttTreeList) || void 0 === _this$_ganttTreeList3 ? void 0 : _this$_ganttTreeList3.updateDataSource(validatedData, forceUpdate)\r\n        }\r\n    }\r\n    _validateSourceData(dataSourceName, data) {\r\n        return data && dataSourceName === GANTT_TASKS ? this._validateTaskData(data) : data\r\n    }\r\n    _validateTaskData(data) {\r\n        var _this$option;\r\n        var keyGetter = compileGetter(this.option(\"\".concat(GANTT_TASKS, \".keyExpr\")));\r\n        var parentIdGetter = compileGetter(this.option(\"\".concat(GANTT_TASKS, \".parentIdExpr\")));\r\n        var rootValue = null !== (_this$option = this.option(\"rootValue\")) && void 0 !== _this$option ? _this$option : \"dx_dxt_gantt_default_root_value\";\r\n        var validationTree = {};\r\n        for (var i = 0; i < data.length; i++) {\r\n            var item = data[i];\r\n            if (item) {\r\n                var _validationTree$key;\r\n                var key = keyGetter(item);\r\n                var isRootTask = key === rootValue;\r\n                var treeItem = null !== (_validationTree$key = validationTree[key]) && void 0 !== _validationTree$key ? _validationTree$key : validationTree[key] = {\r\n                    key: key,\r\n                    children: []\r\n                };\r\n                if (!isRootTask) {\r\n                    var _parentIdGetter, _validationTree$paren;\r\n                    var parentId = null !== (_parentIdGetter = parentIdGetter(item)) && void 0 !== _parentIdGetter ? _parentIdGetter : rootValue;\r\n                    var parentTreeItem = null !== (_validationTree$paren = validationTree[parentId]) && void 0 !== _validationTree$paren ? _validationTree$paren : validationTree[parentId] = {\r\n                        key: parentId,\r\n                        children: []\r\n                    };\r\n                    parentTreeItem.children.push(treeItem);\r\n                    treeItem.parent = parentTreeItem\r\n                }\r\n            }\r\n        }\r\n        var validKeys = [rootValue];\r\n        this._appendChildKeys(validationTree[rootValue], validKeys);\r\n        return data.filter(item => validKeys.indexOf(keyGetter(item)) > -1)\r\n    }\r\n    _appendChildKeys(treeItem, keys) {\r\n        var children = null === treeItem || void 0 === treeItem ? void 0 : treeItem.children;\r\n        for (var i = 0; i < (null === children || void 0 === children ? void 0 : children.length); i++) {\r\n            var child = children[i];\r\n            keys.push(child.key);\r\n            this._appendChildKeys(child, keys)\r\n        }\r\n    }\r\n    _onRecordInserted(optionName, record, callback) {\r\n        var dataOption = this[\"_\".concat(optionName, \"Option\")];\r\n        if (dataOption) {\r\n            var data = GanttHelper.getStoreObject(this.option(optionName), record);\r\n            var isTaskInsert = optionName === GANTT_TASKS;\r\n            if (isTaskInsert) {\r\n                this._customFieldsManager.addCustomFieldsDataFromCache(GANTT_NEW_TASK_CACHE_KEY, data)\r\n            }\r\n            dataOption.insert(data, response => {\r\n                var keyGetter = compileGetter(this.option(\"\".concat(optionName, \".keyExpr\")));\r\n                var insertedId = keyGetter(response);\r\n                callback(insertedId);\r\n                this._ganttTreeList.saveExpandedKeys();\r\n                dataOption._reloadDataSource().done(data => {\r\n                    if (isTaskInsert) {\r\n                        this._ganttTreeList.onTaskInserted(insertedId, record.parentId)\r\n                    }\r\n                });\r\n                this._actionsManager.raiseInsertedAction(optionName, data, insertedId)\r\n            })\r\n        }\r\n    }\r\n    _onRecordUpdated(optionName, key, values) {\r\n        var dataOption = this[\"_\".concat(optionName, \"Option\")];\r\n        var isTaskUpdated = optionName === GANTT_TASKS;\r\n        if (dataOption) {\r\n            var data = this._mappingHelper.convertCoreToMappedData(optionName, values);\r\n            var hasCustomFieldsData = isTaskUpdated && this._customFieldsManager.cache.hasData(key);\r\n            if (hasCustomFieldsData) {\r\n                this._customFieldsManager.addCustomFieldsDataFromCache(key, data)\r\n            }\r\n            dataOption.update(key, data, () => {\r\n                this._ganttTreeList.saveExpandedKeys();\r\n                dataOption._reloadDataSource();\r\n                this._actionsManager.raiseUpdatedAction(optionName, data, key)\r\n            })\r\n        }\r\n    }\r\n    _onRecordRemoved(optionName, key, data) {\r\n        var dataOption = this[\"_\".concat(optionName, \"Option\")];\r\n        if (dataOption) {\r\n            dataOption.remove(key, () => {\r\n                this._ganttTreeList.saveExpandedKeys();\r\n                dataOption._reloadDataSource();\r\n                this._actionsManager.raiseDeletedAction(optionName, key, this._mappingHelper.convertCoreToMappedData(optionName, data))\r\n            })\r\n        }\r\n    }\r\n    _onParentTaskUpdated(data) {\r\n        var mappedData = this.getTaskDataByCoreData(data);\r\n        this._actionsManager.raiseUpdatedAction(GANTT_TASKS, mappedData, data.id)\r\n    }\r\n    _onParentTasksRecalculated(data) {\r\n        if (!this.isSieving) {\r\n            var setters = GanttHelper.compileSettersByOption(this.option(GANTT_TASKS));\r\n            var treeDataSource = this._customFieldsManager.appendCustomFields(data.map(GanttHelper.prepareSetterMapHandler(setters)));\r\n            setTimeout(() => {\r\n                var _this$_ganttTreeList4;\r\n                this._treeListParentRecalculatedDataUpdating = true;\r\n                null === (_this$_ganttTreeList4 = this._ganttTreeList) || void 0 === _this$_ganttTreeList4 ? void 0 : _this$_ganttTreeList4.setDataSource(treeDataSource)\r\n            })\r\n        }\r\n        this.isSieving = false\r\n    }\r\n    _sortAndFilter() {\r\n        var _this$_savedSortFilte, _this$_savedSortFilte2, _this$_savedSortFilte3;\r\n        var treeList = this._treeList;\r\n        var columns = treeList.getVisibleColumns();\r\n        var sortedColumns = columns.filter(c => c.sortIndex > -1);\r\n        var sortedState = sortedColumns.map(c => ({\r\n            sortIndex: c.sortIndex,\r\n            sortOrder: c.sortOrder\r\n        }));\r\n        var sortedStateChanged = !this._compareSortedState(null === (_this$_savedSortFilte = this._savedSortFilterState) || void 0 === _this$_savedSortFilte ? void 0 : _this$_savedSortFilte.sort, sortedState);\r\n        var filterValue = treeList.option(\"filterValue\");\r\n        var filterChanged = treeList.option(\"expandNodesOnFiltering\") && filterValue !== (null === (_this$_savedSortFilte2 = this._savedSortFilterState) || void 0 === _this$_savedSortFilte2 ? void 0 : _this$_savedSortFilte2.filter);\r\n        var sieveColumn = sortedColumns[0] || columns.filter(c => {\r\n            var _c$filterValues;\r\n            return isDefined(c.filterValue) || (null === (_c$filterValues = c.filterValues) || void 0 === _c$filterValues ? void 0 : _c$filterValues.length)\r\n        })[0];\r\n        var isClearSieving = (null === (_this$_savedSortFilte3 = this._savedSortFilterState) || void 0 === _this$_savedSortFilte3 ? void 0 : _this$_savedSortFilte3.sieveColumn) && !sieveColumn;\r\n        if (sieveColumn || isClearSieving) {\r\n            var sieveOptions = sieveColumn && {\r\n                sievedItems: this._ganttTreeList.getSievedItems(),\r\n                sieveColumn: sieveColumn,\r\n                expandTasks: filterChanged || filterValue && sortedStateChanged\r\n            };\r\n            this.isSieving = !isClearSieving;\r\n            this._setGanttViewOption(\"sieve\", sieveOptions)\r\n        }\r\n        this._savedSortFilterState = {\r\n            sort: sortedState,\r\n            filter: filterValue,\r\n            sieveColumn: sieveColumn\r\n        }\r\n    }\r\n    _compareSortedState(state1, state2) {\r\n        if (!state1 || !state2 || state1.length !== state2.length) {\r\n            return false\r\n        }\r\n        return state1.every((c, i) => c.sortIndex === state2[i].sortIndex && c.sortOrder === state2[i].sortOrder)\r\n    }\r\n    _getToolbarItems() {\r\n        var items = this.option(\"toolbar.items\");\r\n        return items ? items : []\r\n    }\r\n    _updateToolbarContent() {\r\n        var items = this._getToolbarItems();\r\n        if (items.length) {\r\n            this._$toolbarWrapper.show()\r\n        } else {\r\n            this._$toolbarWrapper.hide()\r\n        }\r\n        this._toolbar && this._toolbar.createItems(items);\r\n        this._updateBarItemsState()\r\n    }\r\n    _updateContextMenu() {\r\n        var contextMenuOptions = this.option(\"contextMenu\");\r\n        if (contextMenuOptions.enabled && this._contextMenuBar) {\r\n            this._contextMenuBar.createItems(contextMenuOptions.items);\r\n            this._updateBarItemsState()\r\n        }\r\n    }\r\n    _updateBarItemsState() {\r\n        this._ganttView && this._ganttView.updateBarItemsState()\r\n    }\r\n    _showDialog(e) {\r\n        if (!this._dialogInstance) {\r\n            this._dialogInstance = new GanttDialog(this, this._$dialog)\r\n        }\r\n        this._dialogInstance.show(e.name, e.parameters, e.callback, e.afterClosing, this.option(\"editing\"))\r\n    }\r\n    _showPopupMenu(info) {\r\n        if (this.option(\"contextMenu.enabled\")) {\r\n            this._ganttView.getBarManager().updateContextMenu();\r\n            var args = {\r\n                cancel: false,\r\n                event: info.event,\r\n                targetType: info.type,\r\n                targetKey: info.key,\r\n                items: extend(true, [], this._contextMenuBar._items),\r\n                data: \"task\" === info.type ? this.getTaskData(info.key) : this.getDependencyData(info.key)\r\n            };\r\n            this._actionsManager.raiseContextMenuPreparing(args);\r\n            if (!args.cancel) {\r\n                this._contextMenuBar.show(info.position, args.items)\r\n            }\r\n        }\r\n    }\r\n    _hidePopupMenu() {\r\n        this._contextMenuBar.hide()\r\n    }\r\n    _getLoadPanel() {\r\n        if (!this._loadPanel) {\r\n            this._loadPanel = this._createComponent(this._$loadPanel, LoadPanel, {\r\n                position: {\r\n                    of: this.$element()\r\n                }\r\n            })\r\n        }\r\n        return this._loadPanel\r\n    }\r\n    _getTaskKeyGetter() {\r\n        return compileGetter(this.option(\"\".concat(GANTT_TASKS, \".keyExpr\")))\r\n    }\r\n    _findTaskByKey(key) {\r\n        var _this$_tasksOption;\r\n        var tasks = null === (_this$_tasksOption = this._tasksOption) || void 0 === _this$_tasksOption ? void 0 : _this$_tasksOption._getItems();\r\n        var keyGetter = this._getTaskKeyGetter();\r\n        return tasks.find(t => keyGetter(t) === key)\r\n    }\r\n    _setGanttViewOption(optionName, value) {\r\n        this._ganttView && this._ganttView.option(optionName, value)\r\n    }\r\n    _getGanttViewOption(optionName, value) {\r\n        var _this$_ganttView3;\r\n        return null === (_this$_ganttView3 = this._ganttView) || void 0 === _this$_ganttView3 ? void 0 : _this$_ganttView3.option(optionName)\r\n    }\r\n    _getExportHelper() {\r\n        var _this$_exportHelper;\r\n        null !== (_this$_exportHelper = this._exportHelper) && void 0 !== _this$_exportHelper ? _this$_exportHelper : this._exportHelper = new GanttExportHelper(this);\r\n        return this._exportHelper\r\n    }\r\n    _executeCoreCommand(id) {\r\n        this._ganttView.executeCoreCommand(id)\r\n    }\r\n    _expandAll() {\r\n        this._changeExpandAll(true)\r\n    }\r\n    _collapseAll() {\r\n        this._changeExpandAll(false)\r\n    }\r\n    _onTreeListRowExpandChanged(e, expanded) {\r\n        if (!this._lockRowExpandEvent) {\r\n            this._ganttView.changeTaskExpanded(e.key, expanded);\r\n            this._sizeHelper.adjustHeight()\r\n        }\r\n    }\r\n    _changeExpandAll(expanded, level, rowKey) {\r\n        var _promise;\r\n        var allExpandableNodes = [];\r\n        var nodesToExpand = [];\r\n        this._treeList.forEachNode(node => {\r\n            var _node$children;\r\n            if (null !== (_node$children = node.children) && void 0 !== _node$children && _node$children.length) {\r\n                allExpandableNodes.push(node)\r\n            }\r\n        });\r\n        if (rowKey) {\r\n            var node = this._treeList.getNodeByKey(rowKey);\r\n            GanttHelper.getAllParentNodesKeys(node, nodesToExpand)\r\n        }\r\n        var promise;\r\n        this._lockRowExpandEvent = allExpandableNodes.length > 0;\r\n        var state = allExpandableNodes.reduce((previous, node, index) => {\r\n            if (rowKey) {\r\n                expanded = nodesToExpand.includes(node.key)\r\n            } else if (level) {\r\n                expanded = node.level < level\r\n            }\r\n            previous[node.key] = expanded;\r\n            var action = expanded ? this._treeList.expandRow : this._treeList.collapseRow;\r\n            var isLast = index === allExpandableNodes.length - 1;\r\n            if (isLast) {\r\n                promise = action(node.key)\r\n            } else {\r\n                action(node.key)\r\n            }\r\n            return previous\r\n        }, {});\r\n        null === (_promise = promise) || void 0 === _promise ? void 0 : _promise.then(() => {\r\n            this._ganttView._ganttViewCore.applyTasksExpandedState(state);\r\n            this._sizeHelper.adjustHeight();\r\n            delete this._lockRowExpandEvent\r\n        })\r\n    }\r\n    getTaskResources(key) {\r\n        if (!isDefined(key)) {\r\n            return null\r\n        }\r\n        var coreData = this._ganttView._ganttViewCore.getTaskResources(key);\r\n        return coreData.map(r => this._mappingHelper.convertCoreToMappedData(GANTT_RESOURCES, r))\r\n    }\r\n    getVisibleTaskKeys() {\r\n        return this._ganttView._ganttViewCore.getVisibleTaskKeys()\r\n    }\r\n    getVisibleDependencyKeys() {\r\n        return this._ganttView._ganttViewCore.getVisibleDependencyKeys()\r\n    }\r\n    getVisibleResourceKeys() {\r\n        return this._ganttView._ganttViewCore.getVisibleResourceKeys()\r\n    }\r\n    getVisibleResourceAssignmentKeys() {\r\n        return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()\r\n    }\r\n    getTaskData(key) {\r\n        if (!isDefined(key)) {\r\n            return null\r\n        }\r\n        var coreData = this._ganttView._ganttViewCore.getTaskData(key);\r\n        var mappedData = this.getTaskDataByCoreData(coreData);\r\n        return mappedData\r\n    }\r\n    getTaskDataByCoreData(coreData) {\r\n        var mappedData = coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_TASKS, coreData) : null;\r\n        this._customFieldsManager.addCustomFieldsData(coreData.id, mappedData);\r\n        return mappedData\r\n    }\r\n    insertTask(data) {\r\n        this._customFieldsManager.saveCustomFieldsDataToCache(GANTT_NEW_TASK_CACHE_KEY, data);\r\n        this._ganttView._ganttViewCore.insertTask(this._mappingHelper.convertMappedToCoreData(GANTT_TASKS, data))\r\n    }\r\n    deleteTask(key) {\r\n        this._ganttView._ganttViewCore.deleteTask(key)\r\n    }\r\n    updateTask(key, data) {\r\n        var coreTaskData = this._mappingHelper.convertMappedToCoreData(GANTT_TASKS, data);\r\n        var isCustomFieldsUpdateOnly = !Object.keys(coreTaskData).length;\r\n        this._customFieldsManager.saveCustomFieldsDataToCache(key, data, true, isCustomFieldsUpdateOnly);\r\n        if (isCustomFieldsUpdateOnly) {\r\n            var customFieldsData = this._customFieldsManager._getCustomFieldsData(data);\r\n            if (Object.keys(customFieldsData).length > 0) {\r\n                this._actionsManager.raiseUpdatingAction(GANTT_TASKS, {\r\n                    cancel: false,\r\n                    key: key,\r\n                    newValues: {}\r\n                })\r\n            }\r\n        } else {\r\n            this._ganttView._ganttViewCore.updateTask(key, coreTaskData)\r\n        }\r\n    }\r\n    getDependencyData(key) {\r\n        if (!isDefined(key)) {\r\n            return null\r\n        }\r\n        var coreData = this._ganttView._ganttViewCore.getDependencyData(key);\r\n        return coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_DEPENDENCIES, coreData) : null\r\n    }\r\n    insertDependency(data) {\r\n        this._ganttView._ganttViewCore.insertDependency(this._mappingHelper.convertMappedToCoreData(GANTT_DEPENDENCIES, data))\r\n    }\r\n    deleteDependency(key) {\r\n        this._ganttView._ganttViewCore.deleteDependency(key)\r\n    }\r\n    getResourceData(key) {\r\n        var coreData = this._ganttView._ganttViewCore.getResourceData(key);\r\n        return coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_RESOURCES, coreData) : null\r\n    }\r\n    deleteResource(key) {\r\n        this._ganttView._ganttViewCore.deleteResource(key)\r\n    }\r\n    insertResource(data, taskKeys) {\r\n        this._ganttView._ganttViewCore.insertResource(this._mappingHelper.convertMappedToCoreData(GANTT_RESOURCES, data), taskKeys)\r\n    }\r\n    getResourceAssignmentData(key) {\r\n        var coreData = this._ganttView._ganttViewCore.getResourceAssignmentData(key);\r\n        return coreData ? this._mappingHelper.convertCoreToMappedData(GANTT_RESOURCE_ASSIGNMENTS, coreData) : null\r\n    }\r\n    assignResourceToTask(resourceKey, taskKey) {\r\n        this._ganttView._ganttViewCore.assignResourceToTask(resourceKey, taskKey)\r\n    }\r\n    unassignResourceFromTask(resourceKey, taskKey) {\r\n        this._ganttView._ganttViewCore.unassignResourceFromTask(resourceKey, taskKey)\r\n    }\r\n    unassignAllResourcesFromTask(taskKey) {\r\n        this._ganttView._ganttViewCore.unassignAllResourcesFromTask(taskKey)\r\n    }\r\n    updateDimensions() {\r\n        this._sizeHelper.onAdjustControl()\r\n    }\r\n    scrollToDate(date) {\r\n        this._ganttView._ganttViewCore.scrollToDate(date)\r\n    }\r\n    showResourceManagerDialog() {\r\n        this._ganttView._ganttViewCore.showResourcesDialog()\r\n    }\r\n    showTaskDetailsDialog(taskKey) {\r\n        this._ganttView._ganttViewCore.showTaskDetailsDialog(taskKey)\r\n    }\r\n    exportToPdf(options) {\r\n        return this._exportToPdf(options)\r\n    }\r\n    _exportToPdf(options) {\r\n        var _fullOptions$pdfDocum, _fullOptions$docCreat, _window$jspdf$jsPDF, _window$jspdf, _fullOptions$format;\r\n        this._exportHelper.reset();\r\n        var fullOptions = extend({}, options);\r\n        if (fullOptions.createDocumentMethod) {\r\n            fullOptions.docCreateMethod = fullOptions.createDocumentMethod\r\n        }\r\n        null !== (_fullOptions$pdfDocum = fullOptions.pdfDocument) && void 0 !== _fullOptions$pdfDocum ? _fullOptions$pdfDocum : fullOptions.pdfDocument = fullOptions.jsPDFDocument;\r\n        null !== (_fullOptions$docCreat = fullOptions.docCreateMethod) && void 0 !== _fullOptions$docCreat ? _fullOptions$docCreat : fullOptions.docCreateMethod = null !== (_window$jspdf$jsPDF = null === (_window$jspdf = window.jspdf) || void 0 === _window$jspdf ? void 0 : _window$jspdf.jsPDF) && void 0 !== _window$jspdf$jsPDF ? _window$jspdf$jsPDF : window.jsPDF;\r\n        null !== (_fullOptions$format = fullOptions.format) && void 0 !== _fullOptions$format ? _fullOptions$format : fullOptions.format = \"a4\";\r\n        return new Promise(resolve => {\r\n            var _this$_ganttView4;\r\n            var doc = null === (_this$_ganttView4 = this._ganttView) || void 0 === _this$_ganttView4 ? void 0 : _this$_ganttView4._ganttViewCore.exportToPdf(fullOptions);\r\n            resolve(doc)\r\n        })\r\n    }\r\n    refresh() {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                this._refreshGantt();\r\n                resolve()\r\n            } catch (e) {\r\n                reject(e.message)\r\n            }\r\n        })\r\n    }\r\n    expandAll() {\r\n        this._expandAll()\r\n    }\r\n    collapseAll() {\r\n        this._collapseAll()\r\n    }\r\n    expandAllToLevel(level) {\r\n        this._changeExpandAll(false, level)\r\n    }\r\n    expandToTask(key) {\r\n        var _node$parent;\r\n        var node = this._treeList.getNodeByKey(key);\r\n        this._changeExpandAll(false, 0, null === node || void 0 === node ? void 0 : null === (_node$parent = node.parent) || void 0 === _node$parent ? void 0 : _node$parent.key)\r\n    }\r\n    collapseTask(key) {\r\n        this._treeList.collapseRow(key)\r\n    }\r\n    expandTask(key) {\r\n        this._treeList.expandRow(key)\r\n    }\r\n    showResources(value) {\r\n        this.option(\"showResources\", value)\r\n    }\r\n    showDependencies(value) {\r\n        this.option(\"showDependencies\", value)\r\n    }\r\n    zoomIn() {\r\n        this._ganttView._ganttViewCore.zoomIn()\r\n    }\r\n    zoomOut() {\r\n        this._ganttView._ganttViewCore.zoomOut()\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), GanttHelper.getDefaultOptions())\r\n    }\r\n    _optionChanged(args) {\r\n        var _this$_ganttTreeList5, _this$_sizeHelper, _this$_ganttTreeList6, _this$_actionsManager, _this$_actionsManager2, _this$_actionsManager3, _this$_actionsManager4, _this$_actionsManager5, _this$_actionsManager6, _this$_actionsManager7, _this$_actionsManager8, _this$_actionsManager9, _this$_actionsManager10, _this$_actionsManager11, _this$_actionsManager12, _this$_actionsManager13, _this$_actionsManager14, _this$_actionsManager15, _this$_actionsManager16, _this$_actionsManager17, _this$_actionsManager18, _this$_actionsManager19, _this$_actionsManager20, _this$_actionsManager21, _this$_actionsManager22, _this$_actionsManager23, _this$_actionsManager24, _this$_actionsManager25, _this$_actionsManager26, _this$_actionsManager27, _this$_ganttTreeList7, _this$_ganttTreeList8, _this$_ganttTemplates, _this$_ganttTemplates2, _this$_ganttTemplates3, _this$_ganttTemplates4, _this$_ganttTreeList9, _this$_sizeHelper2, _this$_sizeHelper3, _this$_ganttTreeList10, _this$_ganttTreeList11, _this$_ganttTreeList12;\r\n        switch (args.name) {\r\n            case \"tasks\":\r\n                this._refreshDataSource(GANTT_TASKS);\r\n                break;\r\n            case \"dependencies\":\r\n                this._refreshDataSource(GANTT_DEPENDENCIES);\r\n                break;\r\n            case \"resources\":\r\n                this._refreshDataSource(GANTT_RESOURCES);\r\n                break;\r\n            case \"resourceAssignments\":\r\n                this._refreshDataSource(GANTT_RESOURCE_ASSIGNMENTS);\r\n                break;\r\n            case \"columns\":\r\n                null === (_this$_ganttTreeList5 = this._ganttTreeList) || void 0 === _this$_ganttTreeList5 ? void 0 : _this$_ganttTreeList5.setOption(\"columns\", this._ganttTreeList.getColumns());\r\n                break;\r\n            case \"taskListWidth\":\r\n                null === (_this$_sizeHelper = this._sizeHelper) || void 0 === _this$_sizeHelper ? void 0 : _this$_sizeHelper.setInnerElementsWidth();\r\n                break;\r\n            case \"showResources\":\r\n                this._setGanttViewOption(\"showResources\", args.value);\r\n                break;\r\n            case \"showDependencies\":\r\n                this._setGanttViewOption(\"showDependencies\", args.value);\r\n                break;\r\n            case \"taskTitlePosition\":\r\n                this._setGanttViewOption(\"taskTitlePosition\", args.value);\r\n                break;\r\n            case \"firstDayOfWeek\":\r\n                this._setGanttViewOption(\"firstDayOfWeek\", args.value);\r\n                break;\r\n            case \"startDateRange\":\r\n                this._setGanttViewOption(\"startDateRange\", args.value);\r\n                break;\r\n            case \"endDateRange\":\r\n                this._setGanttViewOption(\"endDateRange\", args.value);\r\n                break;\r\n            case \"selectedRowKey\":\r\n                null === (_this$_ganttTreeList6 = this._ganttTreeList) || void 0 === _this$_ganttTreeList6 ? void 0 : _this$_ganttTreeList6.selectRows(GanttHelper.getArrayFromOneElement(args.value));\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                null === (_this$_actionsManager = this._actionsManager) || void 0 === _this$_actionsManager ? void 0 : _this$_actionsManager.createSelectionChangedAction();\r\n                break;\r\n            case \"onTaskClick\":\r\n                null === (_this$_actionsManager2 = this._actionsManager) || void 0 === _this$_actionsManager2 ? void 0 : _this$_actionsManager2.createTaskClickAction();\r\n                break;\r\n            case \"onTaskDblClick\":\r\n                null === (_this$_actionsManager3 = this._actionsManager) || void 0 === _this$_actionsManager3 ? void 0 : _this$_actionsManager3.createTaskDblClickAction();\r\n                break;\r\n            case \"onTaskInserting\":\r\n                null === (_this$_actionsManager4 = this._actionsManager) || void 0 === _this$_actionsManager4 ? void 0 : _this$_actionsManager4.createTaskInsertingAction();\r\n                break;\r\n            case \"onTaskInserted\":\r\n                null === (_this$_actionsManager5 = this._actionsManager) || void 0 === _this$_actionsManager5 ? void 0 : _this$_actionsManager5.createTaskInsertedAction();\r\n                break;\r\n            case \"onTaskDeleting\":\r\n                null === (_this$_actionsManager6 = this._actionsManager) || void 0 === _this$_actionsManager6 ? void 0 : _this$_actionsManager6.createTaskDeletingAction();\r\n                break;\r\n            case \"onTaskDeleted\":\r\n                null === (_this$_actionsManager7 = this._actionsManager) || void 0 === _this$_actionsManager7 ? void 0 : _this$_actionsManager7.createTaskDeletedAction();\r\n                break;\r\n            case \"onTaskUpdating\":\r\n                null === (_this$_actionsManager8 = this._actionsManager) || void 0 === _this$_actionsManager8 ? void 0 : _this$_actionsManager8.createTaskUpdatingAction();\r\n                break;\r\n            case \"onTaskUpdated\":\r\n                null === (_this$_actionsManager9 = this._actionsManager) || void 0 === _this$_actionsManager9 ? void 0 : _this$_actionsManager9.createTaskUpdatedAction();\r\n                break;\r\n            case \"onTaskMoving\":\r\n                null === (_this$_actionsManager10 = this._actionsManager) || void 0 === _this$_actionsManager10 ? void 0 : _this$_actionsManager10.createTaskMovingAction();\r\n                break;\r\n            case \"onTaskEditDialogShowing\":\r\n                null === (_this$_actionsManager11 = this._actionsManager) || void 0 === _this$_actionsManager11 ? void 0 : _this$_actionsManager11.createTaskEditDialogShowingAction();\r\n                break;\r\n            case \"onResourceManagerDialogShowing\":\r\n                null === (_this$_actionsManager12 = this._actionsManager) || void 0 === _this$_actionsManager12 ? void 0 : _this$_actionsManager12.createResourceManagerDialogShowingAction();\r\n                break;\r\n            case \"onDependencyInserting\":\r\n                null === (_this$_actionsManager13 = this._actionsManager) || void 0 === _this$_actionsManager13 ? void 0 : _this$_actionsManager13.createDependencyInsertingAction();\r\n                break;\r\n            case \"onDependencyInserted\":\r\n                null === (_this$_actionsManager14 = this._actionsManager) || void 0 === _this$_actionsManager14 ? void 0 : _this$_actionsManager14.createDependencyInsertedAction();\r\n                break;\r\n            case \"onDependencyDeleting\":\r\n                null === (_this$_actionsManager15 = this._actionsManager) || void 0 === _this$_actionsManager15 ? void 0 : _this$_actionsManager15.createDependencyDeletingAction();\r\n                break;\r\n            case \"onDependencyDeleted\":\r\n                null === (_this$_actionsManager16 = this._actionsManager) || void 0 === _this$_actionsManager16 ? void 0 : _this$_actionsManager16.createDependencyDeletedAction();\r\n                break;\r\n            case \"onResourceInserting\":\r\n                null === (_this$_actionsManager17 = this._actionsManager) || void 0 === _this$_actionsManager17 ? void 0 : _this$_actionsManager17.createResourceInsertingAction();\r\n                break;\r\n            case \"onResourceInserted\":\r\n                null === (_this$_actionsManager18 = this._actionsManager) || void 0 === _this$_actionsManager18 ? void 0 : _this$_actionsManager18.createResourceInsertedAction();\r\n                break;\r\n            case \"onResourceDeleting\":\r\n                null === (_this$_actionsManager19 = this._actionsManager) || void 0 === _this$_actionsManager19 ? void 0 : _this$_actionsManager19.createResourceDeletingAction();\r\n                break;\r\n            case \"onResourceDeleted\":\r\n                null === (_this$_actionsManager20 = this._actionsManager) || void 0 === _this$_actionsManager20 ? void 0 : _this$_actionsManager20.createResourceDeletedAction();\r\n                break;\r\n            case \"onResourceAssigning\":\r\n                null === (_this$_actionsManager21 = this._actionsManager) || void 0 === _this$_actionsManager21 ? void 0 : _this$_actionsManager21.createResourceAssigningAction();\r\n                break;\r\n            case \"onResourceAssigned\":\r\n                null === (_this$_actionsManager22 = this._actionsManager) || void 0 === _this$_actionsManager22 ? void 0 : _this$_actionsManager22.createResourceAssignedAction();\r\n                break;\r\n            case \"onResourceUnassigning\":\r\n                null === (_this$_actionsManager23 = this._actionsManager) || void 0 === _this$_actionsManager23 ? void 0 : _this$_actionsManager23.createResourceUnassigningAction();\r\n                break;\r\n            case \"onResourceUnassigned\":\r\n                null === (_this$_actionsManager24 = this._actionsManager) || void 0 === _this$_actionsManager24 ? void 0 : _this$_actionsManager24.createResourceUnassignedAction();\r\n                break;\r\n            case \"onCustomCommand\":\r\n                null === (_this$_actionsManager25 = this._actionsManager) || void 0 === _this$_actionsManager25 ? void 0 : _this$_actionsManager25.createCustomCommandAction();\r\n                break;\r\n            case \"onContextMenuPreparing\":\r\n                null === (_this$_actionsManager26 = this._actionsManager) || void 0 === _this$_actionsManager26 ? void 0 : _this$_actionsManager26.createContextMenuPreparingAction();\r\n                break;\r\n            case \"onScaleCellPrepared\":\r\n                null === (_this$_actionsManager27 = this._actionsManager) || void 0 === _this$_actionsManager27 ? void 0 : _this$_actionsManager27.createScaleCellPreparedAction();\r\n                break;\r\n            case \"allowSelection\":\r\n                null === (_this$_ganttTreeList7 = this._ganttTreeList) || void 0 === _this$_ganttTreeList7 ? void 0 : _this$_ganttTreeList7.setOption(\"selection.mode\", GanttHelper.getSelectionMode(args.value));\r\n                this._setGanttViewOption(\"allowSelection\", args.value);\r\n                break;\r\n            case \"showRowLines\":\r\n                null === (_this$_ganttTreeList8 = this._ganttTreeList) || void 0 === _this$_ganttTreeList8 ? void 0 : _this$_ganttTreeList8.setOption(\"showRowLines\", args.value);\r\n                this._setGanttViewOption(\"showRowLines\", args.value);\r\n                break;\r\n            case \"stripLines\":\r\n                this._setGanttViewOption(\"stripLines\", args.value);\r\n                break;\r\n            case \"scaleType\":\r\n                this._setGanttViewOption(\"scaleType\", args.value);\r\n                break;\r\n            case \"scaleTypeRange\":\r\n                this._setGanttViewOption(\"scaleTypeRange\", this.option(args.name));\r\n                break;\r\n            case \"editing\":\r\n                this._setGanttViewOption(\"editing\", this.option(args.name));\r\n                break;\r\n            case \"validation\":\r\n                this._setGanttViewOption(\"validation\", this.option(args.name));\r\n                break;\r\n            case \"toolbar\":\r\n                this._updateToolbarContent();\r\n                break;\r\n            case \"contextMenu\":\r\n                this._updateContextMenu();\r\n                break;\r\n            case \"taskTooltipContentTemplate\":\r\n                this._setGanttViewOption(\"taskTooltipContentTemplate\", null === (_this$_ganttTemplates = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates ? void 0 : _this$_ganttTemplates.getTaskTooltipContentTemplateFunc(args.value));\r\n                break;\r\n            case \"taskProgressTooltipContentTemplate\":\r\n                this._setGanttViewOption(\"taskProgressTooltipContentTemplate\", null === (_this$_ganttTemplates2 = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates2 ? void 0 : _this$_ganttTemplates2.getTaskProgressTooltipContentTemplateFunc(args.value));\r\n                break;\r\n            case \"taskTimeTooltipContentTemplate\":\r\n                this._setGanttViewOption(\"taskTimeTooltipContentTemplate\", null === (_this$_ganttTemplates3 = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates3 ? void 0 : _this$_ganttTemplates3.getTaskTimeTooltipContentTemplateFunc(args.value));\r\n                break;\r\n            case \"taskContentTemplate\":\r\n                this._setGanttViewOption(\"taskContentTemplate\", null === (_this$_ganttTemplates4 = this._ganttTemplatesManager) || void 0 === _this$_ganttTemplates4 ? void 0 : _this$_ganttTemplates4.getTaskContentTemplateFunc(args.value));\r\n                break;\r\n            case \"rootValue\":\r\n                null === (_this$_ganttTreeList9 = this._ganttTreeList) || void 0 === _this$_ganttTreeList9 ? void 0 : _this$_ganttTreeList9.setOption(\"rootValue\", args.value);\r\n                break;\r\n            case \"width\":\r\n                super._optionChanged(args);\r\n                null === (_this$_sizeHelper2 = this._sizeHelper) || void 0 === _this$_sizeHelper2 ? void 0 : _this$_sizeHelper2.updateGanttWidth();\r\n                break;\r\n            case \"height\":\r\n                super._optionChanged(args);\r\n                null === (_this$_sizeHelper3 = this._sizeHelper) || void 0 === _this$_sizeHelper3 ? void 0 : _this$_sizeHelper3.setGanttHeight(getHeight(this._$element));\r\n                break;\r\n            case \"sorting\":\r\n                null === (_this$_ganttTreeList10 = this._ganttTreeList) || void 0 === _this$_ganttTreeList10 ? void 0 : _this$_ganttTreeList10.setOption(\"sorting\", this.option(args.name));\r\n                break;\r\n            case \"filterRow\":\r\n                null === (_this$_ganttTreeList11 = this._ganttTreeList) || void 0 === _this$_ganttTreeList11 ? void 0 : _this$_ganttTreeList11.setOption(\"filterRow\", this.option(args.name));\r\n                break;\r\n            case \"headerFilter\":\r\n                null === (_this$_ganttTreeList12 = this._ganttTreeList) || void 0 === _this$_ganttTreeList12 ? void 0 : _this$_ganttTreeList12.setOption(\"headerFilter\", this.option(args.name));\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nregisterComponent(\"dxGantt\", Gantt);\r\nexport default Gantt;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,SADJ,QAEO,uBAFP;AAGA,OAAOC,CAAP,MAAc,qBAAd;AACA,SACIC,aADJ,QAEO,uBAFP;AAGA,SACIC,MADJ,QAEO,yBAFP;AAGA,SACIC,SADJ,QAEO,yBAFP;AAGA,SACIC,SADJ,QAEO,uBAFP;AAGA,SACIC,oBADJ,QAEO,mCAFP;AAGA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,eAAP,MAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SACIC,mBADJ,QAEO,oBAFP;AAGA,SACIC,wBADJ,QAEO,0BAFP;AAGA,SACIC,WADJ,QAEO,oBAFP;AAGA,SACIC,iBADJ,QAEO,0BAFP;AAGA,SACIC,WADJ,QAEO,mBAFP;AAGA,SACIC,kBADJ,QAEO,2BAFP;AAGA,SACIC,eADJ,QAEO,wBAFP;AAGA,SACIC,qBADJ,QAEO,sBAFP;AAGA,SACIC,YADJ,EAEIC,mBAFJ,QAGO,iBAHP;AAIA,SACIC,aADJ,QAEO,qBAFP;AAGA,SACIC,SADJ,QAEO,iBAFP;AAGA,IAAIC,MAAM,GAAGpB,SAAS,EAAtB;AACA,IAAIqB,WAAW,GAAG,UAAlB;AACA,IAAIC,gBAAgB,GAAG,eAAvB;AACA,IAAIC,uBAAuB,GAAG,2BAA9B;AACA,IAAIC,qBAAqB,GAAG,0BAA5B;AACA,IAAIC,kBAAkB,GAAG,uBAAzB;AACA,IAAIC,WAAW,GAAG,OAAlB;AACA,IAAIC,kBAAkB,GAAG,cAAzB;AACA,IAAIC,eAAe,GAAG,WAAtB;AACA,IAAIC,0BAA0B,GAAG,qBAAjC;AACA,IAAIC,wBAAwB,GAAG,oBAA/B;;AACA,MAAMC,KAAN,SAAoBxB,MAApB,CAA2B;EACvByB,KAAK,GAAG;IACJ,MAAMA,KAAN;;IACA,KAAKC,UAAL;;IACA,KAAKC,gBAAL,GAAwB,KAAxB;;IACA,KAAKC,YAAL;EACH;;EACDF,UAAU,GAAG;IACT,KAAKG,mBAAL;EACH;;EACDC,WAAW,GAAG;IACV,MAAMA,WAAN;;IACA,KAAKC,QAAL,GAAgBC,QAAhB,CAAyBlB,WAAzB;IACA,KAAKmB,gBAAL,GAAwB3C,CAAC,CAAC,OAAD,CAAD,CAAW0C,QAAX,CAAoBf,qBAApB,EAA2CiB,QAA3C,CAAoD,KAAKH,QAAL,EAApD,CAAxB;IACA,KAAKI,SAAL,GAAiB7C,CAAC,CAAC,OAAD,CAAD,CAAW4C,QAAX,CAAoB,KAAKD,gBAAzB,CAAjB;IACA,KAAKG,aAAL,GAAqB9C,CAAC,CAAC,OAAD,CAAD,CAAW0C,QAAX,CAAoBd,kBAApB,EAAwCgB,QAAxC,CAAiD,KAAKH,QAAL,EAAjD,CAArB;IACA,KAAKM,iBAAL,GAAyB/C,CAAC,CAAC,OAAD,CAAD,CAAW0C,QAAX,CAAoBhB,uBAApB,EAA6CkB,QAA7C,CAAsD,KAAKE,aAA3D,CAAzB;IACA,KAAKE,UAAL,GAAkBhD,CAAC,CAAC,OAAD,CAAD,CAAW4C,QAAX,CAAoB,KAAKG,iBAAzB,CAAlB;IACA,KAAKE,UAAL,GAAkBjD,CAAC,CAAC,OAAD,CAAD,CAAW4C,QAAX,CAAoB,KAAKE,aAAzB,CAAlB;IACA,KAAKI,WAAL,GAAmBlD,CAAC,CAAC,OAAD,CAAD,CAAW0C,QAAX,CAAoBjB,gBAApB,EAAsCmB,QAAtC,CAA+C,KAAKE,aAApD,CAAnB;IACA,KAAKK,QAAL,GAAgBnD,CAAC,CAAC,OAAD,CAAD,CAAW4C,QAAX,CAAoB,KAAKH,QAAL,EAApB,CAAhB;IACA,KAAKW,WAAL,GAAmBpD,CAAC,CAAC,OAAD,CAAD,CAAW4C,QAAX,CAAoB,KAAKH,QAAL,EAApB,CAAnB;IACA,KAAKY,aAAL,GAAqBrD,CAAC,CAAC,OAAD,CAAD,CAAW4C,QAAX,CAAoB,KAAKH,QAAL,EAApB,CAArB;EACH;;EACDa,MAAM,GAAG;IACL,IAAIC,gBAAJ;;IACA,UAAUA,gBAAgB,GAAG,KAAKC,UAAlC,KAAiD,KAAK,CAAL,KAAWD,gBAA5D,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACE,cAAjB,CAAgCC,WAAhC,EAAxF;IACA,OAAO,KAAKF,UAAZ;IACA,OAAO,KAAKG,eAAZ;IACA,OAAO,KAAKC,UAAZ;IACA,OAAO,KAAKC,aAAZ;;IACA,MAAMP,MAAN;EACH;;EACDQ,QAAQ,GAAG;IACP,KAAKzB,gBAAL,GAAwB,KAAxB;IACA,KAAK0B,mBAAL,GAA2B,KAA3B;;IACA,MAAMD,QAAN;EACH;;EACDE,uBAAuB,GAAG;IACtB,IAAI,CAAC,KAAKD,mBAAV,EAA+B;MAC3B,MAAMC,uBAAN;IACH;;IACD,KAAKD,mBAAL,GAA2B,IAA3B;EACH;;EACDE,iBAAiB,GAAG;IAChB,IAAIC,iBAAJ;;IACA,UAAUA,iBAAiB,GAAG,KAAKV,UAAnC,KAAkD,KAAK,CAAL,KAAWU,iBAA7D,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACC,mBAAlB,EAA1F;EACH;;EACDC,kBAAkB,CAACC,OAAD,EAAU;IACxB,IAAIA,OAAJ,EAAa;MACT,KAAKC,aAAL;IACH;EACJ;;EACDA,aAAa,GAAG;IACZ,KAAK/B,mBAAL;;IACA,KAAKuB,QAAL;EACH;;EACDvB,mBAAmB,GAAG;IAClB,KAAKgC,kBAAL,CAAwB1C,WAAxB;;IACA,KAAK0C,kBAAL,CAAwBzC,kBAAxB;;IACA,KAAKyC,kBAAL,CAAwBxC,eAAxB;;IACA,KAAKwC,kBAAL,CAAwBvC,0BAAxB;EACH;;EACDwC,cAAc,GAAG;IACb,KAAKC,qBAAL,GAA6B,KAAKhC,QAAL,GAAgBiC,EAAhB,CAAmB,UAAnB,CAA7B;;IACA,IAAI,KAAKD,qBAAL,IAA8B,CAAC,KAAKpC,gBAAxC,EAA0D;MACtD,KAAKA,gBAAL,GAAwB,IAAxB;;MACA,KAAKsC,WAAL;;MACA,KAAKC,eAAL;;MACA,KAAKC,eAAL;IACH;EACJ;;EACDD,eAAe,GAAG;IACd,KAAKE,cAAL,GAAsB,IAAIzD,aAAJ,CAAkB,IAAlB,CAAtB;IACA,KAAK0D,SAAL,GAAiB,KAAKD,cAAL,CAAoBE,WAApB,EAAjB;;IACA,KAAKF,cAAL,CAAoBG,qBAApB;EACH;;EACDJ,eAAe,GAAG;IACd,KAAKK,SAAL,GAAiB,KAAKC,gBAAL,CAAsB,KAAKlC,UAA3B,EAAuCxC,eAAvC,EAAwD;MACrE2E,SAAS,EAAE,KAAK3C,QAAL,EAD0D;MAErE4C,WAAW,EAAE,KAAKtC,iBAFmD;MAGrEuC,YAAY,EAAE,KAAKpC,WAHkD;MAIrEqC,gBAAgB,EAAEC,CAAC,IAAI;QACnB,KAAKC,WAAL,CAAiBF,gBAAjB,CAAkCC,CAAlC;MACH;IANoE,CAAxD,CAAjB;;IAQA,KAAKN,SAAL,CAAeQ,MAAf,CAAsB,uBAAtB,EAA+C,KAAKA,MAAL,CAAY,eAAZ,CAA/C;EACH;;EACDf,WAAW,GAAG;IACV,KAAKgB,KAAL,GAAa,EAAb;IACA,KAAKC,QAAL,GAAgB,IAAIzE,YAAJ,CAAiB,KAAK0B,SAAtB,EAAiC,IAAjC,CAAhB;;IACA,KAAKgD,qBAAL;;IACA,KAAKF,KAAL,CAAWG,IAAX,CAAgB,KAAKF,QAArB;;IACA,KAAKG,eAAL,GAAuB,IAAI3E,mBAAJ,CAAwB,KAAKiC,aAA7B,EAA4C,IAA5C,CAAvB;;IACA,KAAK2C,kBAAL;;IACA,KAAKL,KAAL,CAAWG,IAAX,CAAgB,KAAKC,eAArB;EACH;;EACDzD,YAAY,GAAG;IACX,KAAK2D,cAAL,GAAsB,IAAIjF,kBAAJ,CAAuB,IAAvB,CAAtB;IACA,KAAKkF,oBAAL,GAA4B,IAAItF,wBAAJ,CAA6B,IAA7B,CAA5B;IACA,KAAKuF,eAAL,GAAuB,IAAIxF,mBAAJ,CAAwB,IAAxB,CAAvB;IACA,KAAKyF,sBAAL,GAA8B,IAAIlF,qBAAJ,CAA0B,IAA1B,CAA9B;IACA,KAAKuE,WAAL,GAAmB,IAAIxE,eAAJ,CAAoB,IAApB,CAAnB;EACH;;EACDoF,cAAc,GAAG;IACb,IAAI,KAAK7C,UAAT,EAAqB;MACjB;IACH;;IACD,KAAKA,UAAL,GAAkB,KAAK2B,gBAAL,CAAsB,KAAKjC,WAA3B,EAAwC5B,SAAxC,EAAmD;MACjEgF,KAAK,EAAE,MAD0D;MAEjEC,MAAM,EAAE,KAAKzB,cAAL,CAAoB0B,eAApB,EAFyD;MAGjEC,SAAS,EAAE,KAAK3B,cAAL,CAAoB4B,YAApB,EAHsD;MAIjEC,YAAY,EAAE,KAAK7B,cAAL,CAAoB8B,eAApB,EAJmD;MAKjEC,KAAK,EAAE,KAAKC,MALqD;MAMjEC,YAAY,EAAE,KAAKC,aAN8C;MAOjEC,SAAS,EAAE,KAAKC,UAPiD;MAQjEC,mBAAmB,EAAE,KAAKC,oBARuC;MASjEC,cAAc,EAAE,KAAK3B,MAAL,CAAY,gBAAZ,CATiD;MAUjE4B,cAAc,EAAE,KAAK5B,MAAL,CAAY,gBAAZ,CAViD;MAWjE6B,aAAa,EAAE,KAAK7B,MAAL,CAAY,eAAZ,CAXkD;MAYjE8B,gBAAgB,EAAE,KAAK9B,MAAL,CAAY,kBAAZ,CAZ+C;MAajE+B,cAAc,EAAE,KAAK/B,MAAL,CAAY,gBAAZ,CAbiD;MAcjEgC,YAAY,EAAE,KAAKhC,MAAL,CAAY,cAAZ,CAdmD;MAejEiC,iBAAiB,EAAE,KAAKjC,MAAL,CAAY,mBAAZ,CAf8C;MAgBjEkC,cAAc,EAAE,KAAKlC,MAAL,CAAY,gBAAZ,CAhBiD;MAiBjEmC,YAAY,EAAE,KAAKnC,MAAL,CAAY,cAAZ,CAjBmD;MAkBjEoC,SAAS,EAAE,KAAKpC,MAAL,CAAY,WAAZ,CAlBsD;MAmBjEqC,cAAc,EAAE,KAAKrC,MAAL,CAAY,gBAAZ,CAnBiD;MAoBjEsC,OAAO,EAAE,KAAKtC,MAAL,CAAY,SAAZ,CApBwD;MAqBjEuC,UAAU,EAAE,KAAKvC,MAAL,CAAY,YAAZ,CArBqD;MAsBjEwC,UAAU,EAAE,KAAKxC,MAAL,CAAY,YAAZ,CAtBqD;MAuBjEyC,IAAI,EAAE,KAAKxC,KAvBsD;MAwBjEyC,WAAW,EAAE,KAAK3F,QAAL,EAxBoD;MAyBjE4F,kBAAkB,EAAE7C,CAAC,IAAI;QACrB,KAAKV,cAAL,CAAoBwD,UAApB,CAA+BvH,WAAW,CAACwH,sBAAZ,CAAmC/C,CAAC,CAACgD,EAArC,CAA/B;MACH,CA3BgE;MA4BjEC,QAAQ,EAAEjD,CAAC,IAAI;QACX,KAAKV,cAAL,CAAoB4D,QAApB,CAA6BlD,CAAC,CAACmD,SAA/B;MACH,CA9BgE;MA+BjEC,eAAe,EAAE,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CA/BgD;MAgCjEC,kBAAkB,EAAE,KAAKC,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAhC6C;MAiCjEG,iBAAiB,EAAE,KAAKC,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAjC8C;MAkCjEK,WAAW,EAAE,KAAKC,UAAL,CAAgBN,IAAhB,CAAqB,IAArB,CAlCoD;MAmCjEO,aAAa,EAAE,KAAKC,YAAL,CAAkBR,IAAlB,CAAuB,IAAvB,CAnCkD;MAoCjES,oBAAoB,EAAElJ,oBAAoB,CAACmJ,MAArB,CAA4B,IAA5B,CApC2C;MAqCjEC,YAAY,EAAE,KAAKC,gBAAL,EArCmD;MAsCjEC,0BAA0B,EAAE,KAAKvD,sBAAL,CAA4BwD,iCAA5B,CAA8D,KAAKlE,MAAL,CAAY,4BAAZ,CAA9D,CAtCqC;MAuCjEmE,kCAAkC,EAAE,KAAKzD,sBAAL,CAA4B0D,yCAA5B,CAAsE,KAAKpE,MAAL,CAAY,oCAAZ,CAAtE,CAvC6B;MAwCjEqE,8BAA8B,EAAE,KAAK3D,sBAAL,CAA4B4D,qCAA5B,CAAkE,KAAKtE,MAAL,CAAY,gCAAZ,CAAlE,CAxCiC;MAyCjEuE,mBAAmB,EAAE,KAAK7D,sBAAL,CAA4B8D,0BAA5B,CAAuD,KAAKxE,MAAL,CAAY,qBAAZ,CAAvD,CAzC4C;MA0CjEyE,WAAW,EAAE3E,CAAC,IAAI;QACd,KAAKV,cAAL,CAAoBsF,UAApB,CAA+B5E,CAA/B;MACH,CA5CgE;MA6CjE6E,cAAc,EAAE7E,CAAC,IAAI;QACjB,KAAKV,cAAL,CAAoBwF,aAApB,CAAkC9E,CAAlC;MACH,CA/CgE;MAgDjE+E,eAAe,EAAE,MAAM;QACnB,KAAK9E,WAAL,CAAiB8E,eAAjB;MACH,CAlDgE;MAmDjEC,cAAc,EAAE,KAAKC,wBAAL,CAA8B3B,IAA9B,CAAmC,IAAnC;IAnDiD,CAAnD,CAAlB;EAqDH;;EACD2B,wBAAwB,CAACjF,CAAD,EAAI;IACxB,IAAI,CAAC,KAAKkF,uBAAL,EAAL,EAAqC;MACjC,KAAK1G,uBAAL;IACH;EACJ;;EACD0G,uBAAuB,GAAG;IACtB,OAAO,KAAKhF,MAAL,CAAY,kCAAZ,CAAP;EACH;;EACDiF,uBAAuB,CAACnF,CAAD,EAAI;IACvB,IAAI,KAAKkF,uBAAL,MAAkC,KAAKE,uCAA3C,EAAoF;MAChF,KAAK5G,uBAAL;IACH;;IACD,OAAO,KAAK4G,uCAAZ;EACH;;EACDrG,kBAAkB,CAACsG,IAAD,EAAO;IACrB,IAAIC,UAAU,GAAG,KAAK,IAAIC,MAAJ,CAAWF,IAAX,EAAiB,QAAjB,CAAL,CAAjB;;IACA,IAAIC,UAAJ,EAAgB;MACZA,UAAU,CAACE,OAAX;MACA,OAAO,KAAK,IAAID,MAAJ,CAAWF,IAAX,EAAiB,QAAjB,CAAL,CAAP;MACA,OAAO,KAAK,IAAIE,MAAJ,CAAWF,IAAX,CAAL,CAAP;IACH;;IACDC,UAAU,GAAG,IAAIxK,UAAJ,CAAeuK,IAAf,EAAqB,KAAKI,aAAL,CAAmBnC,IAAnB,CAAwB,IAAxB,CAArB,EAAoD,CAAC+B,IAAD,EAAOK,IAAP,KAAgB;MAC7E,KAAKC,kBAAL,CAAwBN,IAAxB,EAA8BK,IAA9B;IACH,CAFY,CAAb;IAGAJ,UAAU,CAACpF,MAAX,CAAkB,YAAlB,EAAgC,KAAK0F,4BAAL,CAAkCP,IAAlC,CAAhC;;IACAC,UAAU,CAACvG,kBAAX;;IACA,KAAK,IAAIwG,MAAJ,CAAWF,IAAX,EAAiB,QAAjB,CAAL,IAAmCC,UAAnC;EACH;;EACDM,4BAA4B,CAACP,IAAD,EAAO;IAC/B,IAAIQ,UAAU,GAAG,KAAK3F,MAAL,CAAY,GAAGqF,MAAH,CAAUF,IAAV,EAAgB,aAAhB,CAAZ,CAAjB;;IACA,IAAI,CAACQ,UAAD,IAAeC,KAAK,CAACC,OAAN,CAAcF,UAAd,CAAnB,EAA8C;MAC1C,OAAO;QACHG,KAAK,EAAE;UACHC,IAAI,EAAE,OADH;UAEHP,IAAI,EAAE,SAASG,UAAT,IAAuB,KAAK,CAAL,KAAWA,UAAlC,GAA+CA,UAA/C,GAA4D,EAF/D;UAGHK,GAAG,EAAE,KAAKhG,MAAL,CAAY,GAAGqF,MAAH,CAAUF,IAAV,EAAgB,UAAhB,CAAZ;QAHF;MADJ,CAAP;IAOH;;IACD,OAAOQ,UAAP;EACH;;EACDF,kBAAkB,CAACQ,cAAD,EAAiBT,IAAjB,EAAuB;IACrC,IAAIU,OAAO,GAAG7K,WAAW,CAAC8K,sBAAZ,CAAmC,KAAKnG,MAAL,CAAYiG,cAAZ,CAAnC,CAAd;;IACA,IAAIG,aAAa,GAAG,KAAKC,mBAAL,CAAyBJ,cAAzB,EAAyCT,IAAzC,CAApB;;IACA,IAAIc,UAAU,GAAGF,aAAa,CAACG,GAAd,CAAkBlL,WAAW,CAACmL,iBAAZ,CAA8BN,OAA9B,CAAlB,CAAjB;IACA,KAAK,IAAIb,MAAJ,CAAWY,cAAX,CAAL,IAAmCK,UAAnC;;IACA,KAAKG,mBAAL,CAAyBR,cAAzB,EAAyCK,UAAzC;;IACA,IAAIL,cAAc,KAAK9J,WAAvB,EAAoC;MAChC,IAAIuK,oBAAJ,EAA0BC,qBAA1B,EAAiDC,qBAAjD;;MACA,KAAKC,SAAL,GAAiBT,aAAjB;MACA,IAAIU,WAAW,GAAG,EAAE,UAAUJ,oBAAoB,GAAG,KAAKtH,cAAtC,KAAyD,KAAK,CAAL,KAAWsH,oBAApE,IAA4FA,oBAAoB,CAACK,aAArB,EAA9F,KAAuI,CAAC,KAAKjJ,UAA/J;MACA,UAAU6I,qBAAqB,GAAG,KAAKvH,cAAvC,KAA0D,KAAK,CAAL,KAAWuH,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACK,gBAAtB,EAAtG;MACA,UAAUJ,qBAAqB,GAAG,KAAKxH,cAAvC,KAA0D,KAAK,CAAL,KAAWwH,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACK,gBAAtB,CAAuCb,aAAvC,EAAsDU,WAAtD,CAAtG;IACH;EACJ;;EACDT,mBAAmB,CAACJ,cAAD,EAAiBT,IAAjB,EAAuB;IACtC,OAAOA,IAAI,IAAIS,cAAc,KAAK9J,WAA3B,GAAyC,KAAK+K,iBAAL,CAAuB1B,IAAvB,CAAzC,GAAwEA,IAA/E;EACH;;EACD0B,iBAAiB,CAAC1B,IAAD,EAAO;IACpB,IAAI2B,YAAJ;;IACA,IAAIC,SAAS,GAAG7M,aAAa,CAAC,KAAKyF,MAAL,CAAY,GAAGqF,MAAH,CAAUlJ,WAAV,EAAuB,UAAvB,CAAZ,CAAD,CAA7B;IACA,IAAIkL,cAAc,GAAG9M,aAAa,CAAC,KAAKyF,MAAL,CAAY,GAAGqF,MAAH,CAAUlJ,WAAV,EAAuB,eAAvB,CAAZ,CAAD,CAAlC;IACA,IAAImL,SAAS,GAAG,UAAUH,YAAY,GAAG,KAAKnH,MAAL,CAAY,WAAZ,CAAzB,KAAsD,KAAK,CAAL,KAAWmH,YAAjE,GAAgFA,YAAhF,GAA+F,iCAA/G;IACA,IAAII,cAAc,GAAG,EAArB;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhC,IAAI,CAACiC,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;MAClC,IAAIE,IAAI,GAAGlC,IAAI,CAACgC,CAAD,CAAf;;MACA,IAAIE,IAAJ,EAAU;QACN,IAAIC,mBAAJ;;QACA,IAAI3B,GAAG,GAAGoB,SAAS,CAACM,IAAD,CAAnB;QACA,IAAIE,UAAU,GAAG5B,GAAG,KAAKsB,SAAzB;QACA,IAAIO,QAAQ,GAAG,UAAUF,mBAAmB,GAAGJ,cAAc,CAACvB,GAAD,CAA9C,KAAwD,KAAK,CAAL,KAAW2B,mBAAnE,GAAyFA,mBAAzF,GAA+GJ,cAAc,CAACvB,GAAD,CAAd,GAAsB;UAChJA,GAAG,EAAEA,GAD2I;UAEhJ8B,QAAQ,EAAE;QAFsI,CAApJ;;QAIA,IAAI,CAACF,UAAL,EAAiB;UACb,IAAIG,eAAJ,EAAqBC,qBAArB;;UACA,IAAIC,QAAQ,GAAG,UAAUF,eAAe,GAAGV,cAAc,CAACK,IAAD,CAA1C,KAAqD,KAAK,CAAL,KAAWK,eAAhE,GAAkFA,eAAlF,GAAoGT,SAAnH;UACA,IAAIY,cAAc,GAAG,UAAUF,qBAAqB,GAAGT,cAAc,CAACU,QAAD,CAAhD,KAA+D,KAAK,CAAL,KAAWD,qBAA1E,GAAkGA,qBAAlG,GAA0HT,cAAc,CAACU,QAAD,CAAd,GAA2B;YACtKjC,GAAG,EAAEiC,QADiK;YAEtKH,QAAQ,EAAE;UAF4J,CAA1K;UAIAI,cAAc,CAACJ,QAAf,CAAwB1H,IAAxB,CAA6ByH,QAA7B;UACAA,QAAQ,CAACM,MAAT,GAAkBD,cAAlB;QACH;MACJ;IACJ;;IACD,IAAIE,SAAS,GAAG,CAACd,SAAD,CAAhB;;IACA,KAAKe,gBAAL,CAAsBd,cAAc,CAACD,SAAD,CAApC,EAAiDc,SAAjD;;IACA,OAAO5C,IAAI,CAAC8C,MAAL,CAAYZ,IAAI,IAAIU,SAAS,CAACG,OAAV,CAAkBnB,SAAS,CAACM,IAAD,CAA3B,IAAqC,CAAC,CAA1D,CAAP;EACH;;EACDW,gBAAgB,CAACR,QAAD,EAAWW,IAAX,EAAiB;IAC7B,IAAIV,QAAQ,GAAG,SAASD,QAAT,IAAqB,KAAK,CAAL,KAAWA,QAAhC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACC,QAA5E;;IACA,KAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,SAASM,QAAT,IAAqB,KAAK,CAAL,KAAWA,QAAhC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACL,MAAjE,CAAjB,EAA2FD,CAAC,EAA5F,EAAgG;MAC5F,IAAIiB,KAAK,GAAGX,QAAQ,CAACN,CAAD,CAApB;MACAgB,IAAI,CAACpI,IAAL,CAAUqI,KAAK,CAACzC,GAAhB;;MACA,KAAKqC,gBAAL,CAAsBI,KAAtB,EAA6BD,IAA7B;IACH;EACJ;;EACDE,iBAAiB,CAACC,UAAD,EAAaC,MAAb,EAAqBC,QAArB,EAA+B;IAC5C,IAAIzD,UAAU,GAAG,KAAK,IAAIC,MAAJ,CAAWsD,UAAX,EAAuB,QAAvB,CAAL,CAAjB;;IACA,IAAIvD,UAAJ,EAAgB;MACZ,IAAII,IAAI,GAAGnK,WAAW,CAACyN,cAAZ,CAA2B,KAAK9I,MAAL,CAAY2I,UAAZ,CAA3B,EAAoDC,MAApD,CAAX;MACA,IAAIG,YAAY,GAAGJ,UAAU,KAAKxM,WAAlC;;MACA,IAAI4M,YAAJ,EAAkB;QACd,KAAKvI,oBAAL,CAA0BwI,4BAA1B,CAAuDzM,wBAAvD,EAAiFiJ,IAAjF;MACH;;MACDJ,UAAU,CAAC6D,MAAX,CAAkBzD,IAAlB,EAAwB0D,QAAQ,IAAI;QAChC,IAAI9B,SAAS,GAAG7M,aAAa,CAAC,KAAKyF,MAAL,CAAY,GAAGqF,MAAH,CAAUsD,UAAV,EAAsB,UAAtB,CAAZ,CAAD,CAA7B;QACA,IAAIQ,UAAU,GAAG/B,SAAS,CAAC8B,QAAD,CAA1B;QACAL,QAAQ,CAACM,UAAD,CAAR;;QACA,KAAK/J,cAAL,CAAoB4H,gBAApB;;QACA5B,UAAU,CAACgE,iBAAX,GAA+BC,IAA/B,CAAoC7D,IAAI,IAAI;UACxC,IAAIuD,YAAJ,EAAkB;YACd,KAAK3J,cAAL,CAAoBkK,cAApB,CAAmCH,UAAnC,EAA+CP,MAAM,CAACX,QAAtD;UACH;QACJ,CAJD;;QAKA,KAAKxH,eAAL,CAAqB8I,mBAArB,CAAyCZ,UAAzC,EAAqDnD,IAArD,EAA2D2D,UAA3D;MACH,CAXD;IAYH;EACJ;;EACDK,gBAAgB,CAACb,UAAD,EAAa3C,GAAb,EAAkByD,MAAlB,EAA0B;IACtC,IAAIrE,UAAU,GAAG,KAAK,IAAIC,MAAJ,CAAWsD,UAAX,EAAuB,QAAvB,CAAL,CAAjB;IACA,IAAIe,aAAa,GAAGf,UAAU,KAAKxM,WAAnC;;IACA,IAAIiJ,UAAJ,EAAgB;MACZ,IAAII,IAAI,GAAG,KAAKjF,cAAL,CAAoBoJ,uBAApB,CAA4ChB,UAA5C,EAAwDc,MAAxD,CAAX;;MACA,IAAIG,mBAAmB,GAAGF,aAAa,IAAI,KAAKlJ,oBAAL,CAA0BqJ,KAA1B,CAAgCC,OAAhC,CAAwC9D,GAAxC,CAA3C;;MACA,IAAI4D,mBAAJ,EAAyB;QACrB,KAAKpJ,oBAAL,CAA0BwI,4BAA1B,CAAuDhD,GAAvD,EAA4DR,IAA5D;MACH;;MACDJ,UAAU,CAAC2E,MAAX,CAAkB/D,GAAlB,EAAuBR,IAAvB,EAA6B,MAAM;QAC/B,KAAKpG,cAAL,CAAoB4H,gBAApB;;QACA5B,UAAU,CAACgE,iBAAX;;QACA,KAAK3I,eAAL,CAAqBuJ,kBAArB,CAAwCrB,UAAxC,EAAoDnD,IAApD,EAA0DQ,GAA1D;MACH,CAJD;IAKH;EACJ;;EACDiE,gBAAgB,CAACtB,UAAD,EAAa3C,GAAb,EAAkBR,IAAlB,EAAwB;IACpC,IAAIJ,UAAU,GAAG,KAAK,IAAIC,MAAJ,CAAWsD,UAAX,EAAuB,QAAvB,CAAL,CAAjB;;IACA,IAAIvD,UAAJ,EAAgB;MACZA,UAAU,CAAC8E,MAAX,CAAkBlE,GAAlB,EAAuB,MAAM;QACzB,KAAK5G,cAAL,CAAoB4H,gBAApB;;QACA5B,UAAU,CAACgE,iBAAX;;QACA,KAAK3I,eAAL,CAAqB0J,kBAArB,CAAwCxB,UAAxC,EAAoD3C,GAApD,EAAyD,KAAKzF,cAAL,CAAoBoJ,uBAApB,CAA4ChB,UAA5C,EAAwDnD,IAAxD,CAAzD;MACH,CAJD;IAKH;EACJ;;EACD4E,oBAAoB,CAAC5E,IAAD,EAAO;IACvB,IAAIc,UAAU,GAAG,KAAK+D,qBAAL,CAA2B7E,IAA3B,CAAjB;;IACA,KAAK/E,eAAL,CAAqBuJ,kBAArB,CAAwC7N,WAAxC,EAAqDmK,UAArD,EAAiEd,IAAI,CAAC1C,EAAtE;EACH;;EACDwH,0BAA0B,CAAC9E,IAAD,EAAO;IAC7B,IAAI,CAAC,KAAK+E,SAAV,EAAqB;MACjB,IAAIC,OAAO,GAAGnP,WAAW,CAACoP,sBAAZ,CAAmC,KAAKzK,MAAL,CAAY7D,WAAZ,CAAnC,CAAd;;MACA,IAAIuO,cAAc,GAAG,KAAKlK,oBAAL,CAA0BmK,kBAA1B,CAA6CnF,IAAI,CAACe,GAAL,CAASlL,WAAW,CAACuP,uBAAZ,CAAoCJ,OAApC,CAAT,CAA7C,CAArB;;MACAK,UAAU,CAAC,MAAM;QACb,IAAIC,qBAAJ;;QACA,KAAK5F,uCAAL,GAA+C,IAA/C;QACA,UAAU4F,qBAAqB,GAAG,KAAK1L,cAAvC,KAA0D,KAAK,CAAL,KAAW0L,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACC,aAAtB,CAAoCL,cAApC,CAAtG;MACH,CAJS,CAAV;IAKH;;IACD,KAAKH,SAAL,GAAiB,KAAjB;EACH;;EACDS,cAAc,GAAG;IACb,IAAIC,qBAAJ,EAA2BC,sBAA3B,EAAmDC,sBAAnD;;IACA,IAAIC,QAAQ,GAAG,KAAK/L,SAApB;IACA,IAAIgM,OAAO,GAAGD,QAAQ,CAACE,iBAAT,EAAd;IACA,IAAIC,aAAa,GAAGF,OAAO,CAAC/C,MAAR,CAAekD,CAAC,IAAIA,CAAC,CAACC,SAAF,GAAc,CAAC,CAAnC,CAApB;IACA,IAAIC,WAAW,GAAGH,aAAa,CAAChF,GAAd,CAAkBiF,CAAC,KAAK;MACtCC,SAAS,EAAED,CAAC,CAACC,SADyB;MAEtCE,SAAS,EAAEH,CAAC,CAACG;IAFyB,CAAL,CAAnB,CAAlB;IAIA,IAAIC,kBAAkB,GAAG,CAAC,KAAKC,mBAAL,CAAyB,UAAUZ,qBAAqB,GAAG,KAAKa,qBAAvC,KAAiE,KAAK,CAAL,KAAWb,qBAA5E,GAAoG,KAAK,CAAzG,GAA6GA,qBAAqB,CAACc,IAA5J,EAAkKL,WAAlK,CAA1B;IACA,IAAIM,WAAW,GAAGZ,QAAQ,CAACpL,MAAT,CAAgB,aAAhB,CAAlB;IACA,IAAIiM,aAAa,GAAGb,QAAQ,CAACpL,MAAT,CAAgB,wBAAhB,KAA6CgM,WAAW,MAAM,UAAUd,sBAAsB,GAAG,KAAKY,qBAAxC,KAAkE,KAAK,CAAL,KAAWZ,sBAA7E,GAAsG,KAAK,CAA3G,GAA+GA,sBAAsB,CAAC5C,MAA5I,CAA5E;IACA,IAAI4D,WAAW,GAAGX,aAAa,CAAC,CAAD,CAAb,IAAoBF,OAAO,CAAC/C,MAAR,CAAekD,CAAC,IAAI;MACtD,IAAIW,eAAJ;;MACA,OAAOzR,SAAS,CAAC8Q,CAAC,CAACQ,WAAH,CAAT,KAA6B,UAAUG,eAAe,GAAGX,CAAC,CAACY,YAA9B,KAA+C,KAAK,CAAL,KAAWD,eAA1D,GAA4E,KAAK,CAAjF,GAAqFA,eAAe,CAAC1E,MAAlI,CAAP;IACH,CAHqC,EAGnC,CAHmC,CAAtC;IAIA,IAAI4E,cAAc,GAAG,CAAC,UAAUlB,sBAAsB,GAAG,KAAKW,qBAAxC,KAAkE,KAAK,CAAL,KAAWX,sBAA7E,GAAsG,KAAK,CAA3G,GAA+GA,sBAAsB,CAACe,WAAvI,KAAuJ,CAACA,WAA7K;;IACA,IAAIA,WAAW,IAAIG,cAAnB,EAAmC;MAC/B,IAAIC,YAAY,GAAGJ,WAAW,IAAI;QAC9BK,WAAW,EAAE,KAAKnN,cAAL,CAAoBoN,cAApB,EADiB;QAE9BN,WAAW,EAAEA,WAFiB;QAG9BO,WAAW,EAAER,aAAa,IAAID,WAAW,IAAIJ;MAHf,CAAlC;MAKA,KAAKrB,SAAL,GAAiB,CAAC8B,cAAlB;;MACA,KAAK5F,mBAAL,CAAyB,OAAzB,EAAkC6F,YAAlC;IACH;;IACD,KAAKR,qBAAL,GAA6B;MACzBC,IAAI,EAAEL,WADmB;MAEzBpD,MAAM,EAAE0D,WAFiB;MAGzBE,WAAW,EAAEA;IAHY,CAA7B;EAKH;;EACDL,mBAAmB,CAACa,MAAD,EAASC,MAAT,EAAiB;IAChC,IAAI,CAACD,MAAD,IAAW,CAACC,MAAZ,IAAsBD,MAAM,CAACjF,MAAP,KAAkBkF,MAAM,CAAClF,MAAnD,EAA2D;MACvD,OAAO,KAAP;IACH;;IACD,OAAOiF,MAAM,CAACE,KAAP,CAAa,CAACpB,CAAD,EAAIhE,CAAJ,KAAUgE,CAAC,CAACC,SAAF,KAAgBkB,MAAM,CAACnF,CAAD,CAAN,CAAUiE,SAA1B,IAAuCD,CAAC,CAACG,SAAF,KAAgBgB,MAAM,CAACnF,CAAD,CAAN,CAAUmE,SAAxF,CAAP;EACH;;EACDkB,gBAAgB,GAAG;IACf,IAAIC,KAAK,GAAG,KAAK9M,MAAL,CAAY,eAAZ,CAAZ;IACA,OAAO8M,KAAK,GAAGA,KAAH,GAAW,EAAvB;EACH;;EACD3M,qBAAqB,GAAG;IACpB,IAAI2M,KAAK,GAAG,KAAKD,gBAAL,EAAZ;;IACA,IAAIC,KAAK,CAACrF,MAAV,EAAkB;MACd,KAAKxK,gBAAL,CAAsB8P,IAAtB;IACH,CAFD,MAEO;MACH,KAAK9P,gBAAL,CAAsB+P,IAAtB;IACH;;IACD,KAAK9M,QAAL,IAAiB,KAAKA,QAAL,CAAc+M,WAAd,CAA0BH,KAA1B,CAAjB;;IACA,KAAKI,oBAAL;EACH;;EACD5M,kBAAkB,GAAG;IACjB,IAAI6M,kBAAkB,GAAG,KAAKnN,MAAL,CAAY,aAAZ,CAAzB;;IACA,IAAImN,kBAAkB,CAACC,OAAnB,IAA8B,KAAK/M,eAAvC,EAAwD;MACpD,KAAKA,eAAL,CAAqB4M,WAArB,CAAiCE,kBAAkB,CAACL,KAApD;;MACA,KAAKI,oBAAL;IACH;EACJ;;EACDA,oBAAoB,GAAG;IACnB,KAAKpP,UAAL,IAAmB,KAAKA,UAAL,CAAgBuP,mBAAhB,EAAnB;EACH;;EACDlK,WAAW,CAACrD,CAAD,EAAI;IACX,IAAI,CAAC,KAAK7B,eAAV,EAA2B;MACvB,KAAKA,eAAL,GAAuB,IAAI9C,WAAJ,CAAgB,IAAhB,EAAsB,KAAKsC,QAA3B,CAAvB;IACH;;IACD,KAAKQ,eAAL,CAAqB8O,IAArB,CAA0BjN,CAAC,CAACqF,IAA5B,EAAkCrF,CAAC,CAACwN,UAApC,EAAgDxN,CAAC,CAAC+I,QAAlD,EAA4D/I,CAAC,CAACyN,YAA9D,EAA4E,KAAKvN,MAAL,CAAY,SAAZ,CAA5E;EACH;;EACDsD,cAAc,CAACkK,IAAD,EAAO;IACjB,IAAI,KAAKxN,MAAL,CAAY,qBAAZ,CAAJ,EAAwC;MACpC,KAAKlC,UAAL,CAAgB2P,aAAhB,GAAgCC,iBAAhC;;MACA,IAAIC,IAAI,GAAG;QACPC,MAAM,EAAE,KADD;QAEPC,KAAK,EAAEL,IAAI,CAACK,KAFL;QAGPC,UAAU,EAAEN,IAAI,CAACzH,IAHV;QAIPgI,SAAS,EAAEP,IAAI,CAACxH,GAJT;QAKP8G,KAAK,EAAEtS,MAAM,CAAC,IAAD,EAAO,EAAP,EAAW,KAAK6F,eAAL,CAAqB2N,MAAhC,CALN;QAMPxI,IAAI,EAAE,WAAWgI,IAAI,CAACzH,IAAhB,GAAuB,KAAKkI,WAAL,CAAiBT,IAAI,CAACxH,GAAtB,CAAvB,GAAoD,KAAKkI,iBAAL,CAAuBV,IAAI,CAACxH,GAA5B;MANnD,CAAX;;MAQA,KAAKvF,eAAL,CAAqB0N,yBAArB,CAA+CR,IAA/C;;MACA,IAAI,CAACA,IAAI,CAACC,MAAV,EAAkB;QACd,KAAKvN,eAAL,CAAqB0M,IAArB,CAA0BS,IAAI,CAACY,QAA/B,EAAyCT,IAAI,CAACb,KAA9C;MACH;IACJ;EACJ;;EACDtJ,cAAc,GAAG;IACb,KAAKnD,eAAL,CAAqB2M,IAArB;EACH;;EACDzH,aAAa,GAAG;IACZ,IAAI,CAAC,KAAKrH,UAAV,EAAsB;MAClB,KAAKA,UAAL,GAAkB,KAAKuB,gBAAL,CAAsB,KAAK/B,WAA3B,EAAwC7C,SAAxC,EAAmD;QACjEuT,QAAQ,EAAE;UACNC,EAAE,EAAE,KAAKtR,QAAL;QADE;MADuD,CAAnD,CAAlB;IAKH;;IACD,OAAO,KAAKmB,UAAZ;EACH;;EACDoQ,iBAAiB,GAAG;IAChB,OAAO/T,aAAa,CAAC,KAAKyF,MAAL,CAAY,GAAGqF,MAAH,CAAUlJ,WAAV,EAAuB,UAAvB,CAAZ,CAAD,CAApB;EACH;;EACDoS,cAAc,CAACvI,GAAD,EAAM;IAChB,IAAIwI,kBAAJ;;IACA,IAAIrN,KAAK,GAAG,UAAUqN,kBAAkB,GAAG,KAAKC,YAApC,KAAqD,KAAK,CAAL,KAAWD,kBAAhE,GAAqF,KAAK,CAA1F,GAA8FA,kBAAkB,CAACE,SAAnB,EAA1G;;IACA,IAAItH,SAAS,GAAG,KAAKkH,iBAAL,EAAhB;;IACA,OAAOnN,KAAK,CAACwN,IAAN,CAAWC,CAAC,IAAIxH,SAAS,CAACwH,CAAD,CAAT,KAAiB5I,GAAjC,CAAP;EACH;;EACDS,mBAAmB,CAACkC,UAAD,EAAakG,KAAb,EAAoB;IACnC,KAAK/Q,UAAL,IAAmB,KAAKA,UAAL,CAAgBkC,MAAhB,CAAuB2I,UAAvB,EAAmCkG,KAAnC,CAAnB;EACH;;EACDC,mBAAmB,CAACnG,UAAD,EAAakG,KAAb,EAAoB;IACnC,IAAIE,iBAAJ;;IACA,OAAO,UAAUA,iBAAiB,GAAG,KAAKjR,UAAnC,KAAkD,KAAK,CAAL,KAAWiR,iBAA7D,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAAC/O,MAAlB,CAAyB2I,UAAzB,CAAjG;EACH;;EACD3E,gBAAgB,GAAG;IACf,IAAIgL,mBAAJ;;IACA,UAAUA,mBAAmB,GAAG,KAAK7Q,aAArC,KAAuD,KAAK,CAAL,KAAW6Q,mBAAlE,GAAwFA,mBAAxF,GAA8G,KAAK7Q,aAAL,GAAqB,IAAI/C,iBAAJ,CAAsB,IAAtB,CAAnI;IACA,OAAO,KAAK+C,aAAZ;EACH;;EACD8Q,mBAAmB,CAACnM,EAAD,EAAK;IACpB,KAAKhF,UAAL,CAAgBoR,kBAAhB,CAAmCpM,EAAnC;EACH;;EACDY,UAAU,GAAG;IACT,KAAKyL,gBAAL,CAAsB,IAAtB;EACH;;EACDvL,YAAY,GAAG;IACX,KAAKuL,gBAAL,CAAsB,KAAtB;EACH;;EACDC,2BAA2B,CAACtP,CAAD,EAAIuP,QAAJ,EAAc;IACrC,IAAI,CAAC,KAAKC,mBAAV,EAA+B;MAC3B,KAAKxR,UAAL,CAAgByR,kBAAhB,CAAmCzP,CAAC,CAACkG,GAArC,EAA0CqJ,QAA1C;;MACA,KAAKtP,WAAL,CAAiByP,YAAjB;IACH;EACJ;;EACDL,gBAAgB,CAACE,QAAD,EAAWI,KAAX,EAAkBC,MAAlB,EAA0B;IACtC,IAAIC,QAAJ;;IACA,IAAIC,kBAAkB,GAAG,EAAzB;IACA,IAAIC,aAAa,GAAG,EAApB;;IACA,KAAKxQ,SAAL,CAAeyQ,WAAf,CAA2BC,IAAI,IAAI;MAC/B,IAAIC,cAAJ;;MACA,IAAI,UAAUA,cAAc,GAAGD,IAAI,CAACjI,QAAhC,KAA6C,KAAK,CAAL,KAAWkI,cAAxD,IAA0EA,cAAc,CAACvI,MAA7F,EAAqG;QACjGmI,kBAAkB,CAACxP,IAAnB,CAAwB2P,IAAxB;MACH;IACJ,CALD;;IAMA,IAAIL,MAAJ,EAAY;MACR,IAAIK,IAAI,GAAG,KAAK1Q,SAAL,CAAe4Q,YAAf,CAA4BP,MAA5B,CAAX;;MACArU,WAAW,CAAC6U,qBAAZ,CAAkCH,IAAlC,EAAwCF,aAAxC;IACH;;IACD,IAAIM,OAAJ;IACA,KAAKb,mBAAL,GAA2BM,kBAAkB,CAACnI,MAAnB,GAA4B,CAAvD;IACA,IAAI2I,KAAK,GAAGR,kBAAkB,CAACS,MAAnB,CAA0B,CAACC,QAAD,EAAWP,IAAX,EAAiBQ,KAAjB,KAA2B;MAC7D,IAAIb,MAAJ,EAAY;QACRL,QAAQ,GAAGQ,aAAa,CAACW,QAAd,CAAuBT,IAAI,CAAC/J,GAA5B,CAAX;MACH,CAFD,MAEO,IAAIyJ,KAAJ,EAAW;QACdJ,QAAQ,GAAGU,IAAI,CAACN,KAAL,GAAaA,KAAxB;MACH;;MACDa,QAAQ,CAACP,IAAI,CAAC/J,GAAN,CAAR,GAAqBqJ,QAArB;MACA,IAAIoB,MAAM,GAAGpB,QAAQ,GAAG,KAAKhQ,SAAL,CAAeqR,SAAlB,GAA8B,KAAKrR,SAAL,CAAesR,WAAlE;MACA,IAAIC,MAAM,GAAGL,KAAK,KAAKX,kBAAkB,CAACnI,MAAnB,GAA4B,CAAnD;;MACA,IAAImJ,MAAJ,EAAY;QACRT,OAAO,GAAGM,MAAM,CAACV,IAAI,CAAC/J,GAAN,CAAhB;MACH,CAFD,MAEO;QACHyK,MAAM,CAACV,IAAI,CAAC/J,GAAN,CAAN;MACH;;MACD,OAAOsK,QAAP;IACH,CAfW,EAeT,EAfS,CAAZ;IAgBA,UAAUX,QAAQ,GAAGQ,OAArB,KAAiC,KAAK,CAAL,KAAWR,QAA5C,GAAuD,KAAK,CAA5D,GAAgEA,QAAQ,CAACkB,IAAT,CAAc,MAAM;MAChF,KAAK/S,UAAL,CAAgBC,cAAhB,CAA+B+S,uBAA/B,CAAuDV,KAAvD;;MACA,KAAKrQ,WAAL,CAAiByP,YAAjB;;MACA,OAAO,KAAKF,mBAAZ;IACH,CAJ+D,CAAhE;EAKH;;EACDyB,gBAAgB,CAAC/K,GAAD,EAAM;IAClB,IAAI,CAACtL,SAAS,CAACsL,GAAD,CAAd,EAAqB;MACjB,OAAO,IAAP;IACH;;IACD,IAAIgL,QAAQ,GAAG,KAAKlT,UAAL,CAAgBC,cAAhB,CAA+BgT,gBAA/B,CAAgD/K,GAAhD,CAAf;;IACA,OAAOgL,QAAQ,CAACzK,GAAT,CAAa0K,CAAC,IAAI,KAAK1Q,cAAL,CAAoBoJ,uBAApB,CAA4CtN,eAA5C,EAA6D4U,CAA7D,CAAlB,CAAP;EACH;;EACDC,kBAAkB,GAAG;IACjB,OAAO,KAAKpT,UAAL,CAAgBC,cAAhB,CAA+BmT,kBAA/B,EAAP;EACH;;EACDC,wBAAwB,GAAG;IACvB,OAAO,KAAKrT,UAAL,CAAgBC,cAAhB,CAA+BoT,wBAA/B,EAAP;EACH;;EACDC,sBAAsB,GAAG;IACrB,OAAO,KAAKtT,UAAL,CAAgBC,cAAhB,CAA+BqT,sBAA/B,EAAP;EACH;;EACDC,gCAAgC,GAAG;IAC/B,OAAO,KAAKvT,UAAL,CAAgBC,cAAhB,CAA+BsT,gCAA/B,EAAP;EACH;;EACDpD,WAAW,CAACjI,GAAD,EAAM;IACb,IAAI,CAACtL,SAAS,CAACsL,GAAD,CAAd,EAAqB;MACjB,OAAO,IAAP;IACH;;IACD,IAAIgL,QAAQ,GAAG,KAAKlT,UAAL,CAAgBC,cAAhB,CAA+BkQ,WAA/B,CAA2CjI,GAA3C,CAAf;;IACA,IAAIM,UAAU,GAAG,KAAK+D,qBAAL,CAA2B2G,QAA3B,CAAjB;IACA,OAAO1K,UAAP;EACH;;EACD+D,qBAAqB,CAAC2G,QAAD,EAAW;IAC5B,IAAI1K,UAAU,GAAG0K,QAAQ,GAAG,KAAKzQ,cAAL,CAAoBoJ,uBAApB,CAA4CxN,WAA5C,EAAyD6U,QAAzD,CAAH,GAAwE,IAAjG;;IACA,KAAKxQ,oBAAL,CAA0B8Q,mBAA1B,CAA8CN,QAAQ,CAAClO,EAAvD,EAA2DwD,UAA3D;;IACA,OAAOA,UAAP;EACH;;EACDiL,UAAU,CAAC/L,IAAD,EAAO;IACb,KAAKhF,oBAAL,CAA0BgR,2BAA1B,CAAsDjV,wBAAtD,EAAgFiJ,IAAhF;;IACA,KAAK1H,UAAL,CAAgBC,cAAhB,CAA+BwT,UAA/B,CAA0C,KAAKhR,cAAL,CAAoBkR,uBAApB,CAA4CtV,WAA5C,EAAyDqJ,IAAzD,CAA1C;EACH;;EACDkM,UAAU,CAAC1L,GAAD,EAAM;IACZ,KAAKlI,UAAL,CAAgBC,cAAhB,CAA+B2T,UAA/B,CAA0C1L,GAA1C;EACH;;EACD2L,UAAU,CAAC3L,GAAD,EAAMR,IAAN,EAAY;IAClB,IAAIoM,YAAY,GAAG,KAAKrR,cAAL,CAAoBkR,uBAApB,CAA4CtV,WAA5C,EAAyDqJ,IAAzD,CAAnB;;IACA,IAAIqM,wBAAwB,GAAG,CAACC,MAAM,CAACtJ,IAAP,CAAYoJ,YAAZ,EAA0BnK,MAA1D;;IACA,KAAKjH,oBAAL,CAA0BgR,2BAA1B,CAAsDxL,GAAtD,EAA2DR,IAA3D,EAAiE,IAAjE,EAAuEqM,wBAAvE;;IACA,IAAIA,wBAAJ,EAA8B;MAC1B,IAAIE,gBAAgB,GAAG,KAAKvR,oBAAL,CAA0BwR,oBAA1B,CAA+CxM,IAA/C,CAAvB;;MACA,IAAIsM,MAAM,CAACtJ,IAAP,CAAYuJ,gBAAZ,EAA8BtK,MAA9B,GAAuC,CAA3C,EAA8C;QAC1C,KAAKhH,eAAL,CAAqBwR,mBAArB,CAAyC9V,WAAzC,EAAsD;UAClDyR,MAAM,EAAE,KAD0C;UAElD5H,GAAG,EAAEA,GAF6C;UAGlDkM,SAAS,EAAE;QAHuC,CAAtD;MAKH;IACJ,CATD,MASO;MACH,KAAKpU,UAAL,CAAgBC,cAAhB,CAA+B4T,UAA/B,CAA0C3L,GAA1C,EAA+C4L,YAA/C;IACH;EACJ;;EACD1D,iBAAiB,CAAClI,GAAD,EAAM;IACnB,IAAI,CAACtL,SAAS,CAACsL,GAAD,CAAd,EAAqB;MACjB,OAAO,IAAP;IACH;;IACD,IAAIgL,QAAQ,GAAG,KAAKlT,UAAL,CAAgBC,cAAhB,CAA+BmQ,iBAA/B,CAAiDlI,GAAjD,CAAf;;IACA,OAAOgL,QAAQ,GAAG,KAAKzQ,cAAL,CAAoBoJ,uBAApB,CAA4CvN,kBAA5C,EAAgE4U,QAAhE,CAAH,GAA+E,IAA9F;EACH;;EACDmB,gBAAgB,CAAC3M,IAAD,EAAO;IACnB,KAAK1H,UAAL,CAAgBC,cAAhB,CAA+BoU,gBAA/B,CAAgD,KAAK5R,cAAL,CAAoBkR,uBAApB,CAA4CrV,kBAA5C,EAAgEoJ,IAAhE,CAAhD;EACH;;EACD4M,gBAAgB,CAACpM,GAAD,EAAM;IAClB,KAAKlI,UAAL,CAAgBC,cAAhB,CAA+BqU,gBAA/B,CAAgDpM,GAAhD;EACH;;EACDqM,eAAe,CAACrM,GAAD,EAAM;IACjB,IAAIgL,QAAQ,GAAG,KAAKlT,UAAL,CAAgBC,cAAhB,CAA+BsU,eAA/B,CAA+CrM,GAA/C,CAAf;;IACA,OAAOgL,QAAQ,GAAG,KAAKzQ,cAAL,CAAoBoJ,uBAApB,CAA4CtN,eAA5C,EAA6D2U,QAA7D,CAAH,GAA4E,IAA3F;EACH;;EACDsB,cAAc,CAACtM,GAAD,EAAM;IAChB,KAAKlI,UAAL,CAAgBC,cAAhB,CAA+BuU,cAA/B,CAA8CtM,GAA9C;EACH;;EACDuM,cAAc,CAAC/M,IAAD,EAAOgN,QAAP,EAAiB;IAC3B,KAAK1U,UAAL,CAAgBC,cAAhB,CAA+BwU,cAA/B,CAA8C,KAAKhS,cAAL,CAAoBkR,uBAApB,CAA4CpV,eAA5C,EAA6DmJ,IAA7D,CAA9C,EAAkHgN,QAAlH;EACH;;EACDC,yBAAyB,CAACzM,GAAD,EAAM;IAC3B,IAAIgL,QAAQ,GAAG,KAAKlT,UAAL,CAAgBC,cAAhB,CAA+B0U,yBAA/B,CAAyDzM,GAAzD,CAAf;;IACA,OAAOgL,QAAQ,GAAG,KAAKzQ,cAAL,CAAoBoJ,uBAApB,CAA4CrN,0BAA5C,EAAwE0U,QAAxE,CAAH,GAAuF,IAAtG;EACH;;EACD0B,oBAAoB,CAACC,WAAD,EAAcC,OAAd,EAAuB;IACvC,KAAK9U,UAAL,CAAgBC,cAAhB,CAA+B2U,oBAA/B,CAAoDC,WAApD,EAAiEC,OAAjE;EACH;;EACDC,wBAAwB,CAACF,WAAD,EAAcC,OAAd,EAAuB;IAC3C,KAAK9U,UAAL,CAAgBC,cAAhB,CAA+B8U,wBAA/B,CAAwDF,WAAxD,EAAqEC,OAArE;EACH;;EACDE,4BAA4B,CAACF,OAAD,EAAU;IAClC,KAAK9U,UAAL,CAAgBC,cAAhB,CAA+B+U,4BAA/B,CAA4DF,OAA5D;EACH;;EACDG,gBAAgB,GAAG;IACf,KAAKhT,WAAL,CAAiB8E,eAAjB;EACH;;EACDmO,YAAY,CAACC,IAAD,EAAO;IACf,KAAKnV,UAAL,CAAgBC,cAAhB,CAA+BiV,YAA/B,CAA4CC,IAA5C;EACH;;EACDC,yBAAyB,GAAG;IACxB,KAAKpV,UAAL,CAAgBC,cAAhB,CAA+BoV,mBAA/B;EACH;;EACDC,qBAAqB,CAACR,OAAD,EAAU;IAC3B,KAAK9U,UAAL,CAAgBC,cAAhB,CAA+BqV,qBAA/B,CAAqDR,OAArD;EACH;;EACDS,WAAW,CAACC,OAAD,EAAU;IACjB,OAAO,KAAKC,YAAL,CAAkBD,OAAlB,CAAP;EACH;;EACDC,YAAY,CAACD,OAAD,EAAU;IAClB,IAAIE,qBAAJ,EAA2BC,qBAA3B,EAAkDC,mBAAlD,EAAuEC,aAAvE,EAAsFC,mBAAtF;;IACA,KAAKzV,aAAL,CAAmB0V,KAAnB;;IACA,IAAIC,WAAW,GAAGtZ,MAAM,CAAC,EAAD,EAAK8Y,OAAL,CAAxB;;IACA,IAAIQ,WAAW,CAACC,oBAAhB,EAAsC;MAClCD,WAAW,CAACE,eAAZ,GAA8BF,WAAW,CAACC,oBAA1C;IACH;;IACD,UAAUP,qBAAqB,GAAGM,WAAW,CAACG,WAA9C,KAA8D,KAAK,CAAL,KAAWT,qBAAzE,GAAiGA,qBAAjG,GAAyHM,WAAW,CAACG,WAAZ,GAA0BH,WAAW,CAACI,aAA/J;IACA,UAAUT,qBAAqB,GAAGK,WAAW,CAACE,eAA9C,KAAkE,KAAK,CAAL,KAAWP,qBAA7E,GAAqGA,qBAArG,GAA6HK,WAAW,CAACE,eAAZ,GAA8B,UAAUN,mBAAmB,GAAG,UAAUC,aAAa,GAAG9X,MAAM,CAACsY,KAAjC,KAA2C,KAAK,CAAL,KAAWR,aAAtD,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAACS,KAA7H,KAAuI,KAAK,CAAL,KAAWV,mBAAlJ,GAAwKA,mBAAxK,GAA8L7X,MAAM,CAACuY,KAAhW;IACA,UAAUR,mBAAmB,GAAGE,WAAW,CAACO,MAA5C,KAAuD,KAAK,CAAL,KAAWT,mBAAlE,GAAwFA,mBAAxF,GAA8GE,WAAW,CAACO,MAAZ,GAAqB,IAAnI;IACA,OAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;MAC1B,IAAIC,iBAAJ;;MACA,IAAIC,GAAG,GAAG,UAAUD,iBAAiB,GAAG,KAAK1W,UAAnC,KAAkD,KAAK,CAAL,KAAW0W,iBAA7D,GAAiF,KAAK,CAAtF,GAA0FA,iBAAiB,CAACzW,cAAlB,CAAiCsV,WAAjC,CAA6CS,WAA7C,CAApG;MACAS,OAAO,CAACE,GAAD,CAAP;IACH,CAJM,CAAP;EAKH;;EACDC,OAAO,GAAG;IACN,OAAO,IAAIJ,OAAJ,CAAY,CAACC,OAAD,EAAUI,MAAV,KAAqB;MACpC,IAAI;QACA,KAAK/V,aAAL;;QACA2V,OAAO;MACV,CAHD,CAGE,OAAOzU,CAAP,EAAU;QACR6U,MAAM,CAAC7U,CAAC,CAAC8U,OAAH,CAAN;MACH;IACJ,CAPM,CAAP;EAQH;;EACDC,SAAS,GAAG;IACR,KAAKnR,UAAL;EACH;;EACDoR,WAAW,GAAG;IACV,KAAKlR,YAAL;EACH;;EACDmR,gBAAgB,CAACtF,KAAD,EAAQ;IACpB,KAAKN,gBAAL,CAAsB,KAAtB,EAA6BM,KAA7B;EACH;;EACDuF,YAAY,CAAChP,GAAD,EAAM;IACd,IAAIiP,YAAJ;;IACA,IAAIlF,IAAI,GAAG,KAAK1Q,SAAL,CAAe4Q,YAAf,CAA4BjK,GAA5B,CAAX;;IACA,KAAKmJ,gBAAL,CAAsB,KAAtB,EAA6B,CAA7B,EAAgC,SAASY,IAAT,IAAiB,KAAK,CAAL,KAAWA,IAA5B,GAAmC,KAAK,CAAxC,GAA4C,UAAUkF,YAAY,GAAGlF,IAAI,CAAC5H,MAA9B,KAAyC,KAAK,CAAL,KAAW8M,YAApD,GAAmE,KAAK,CAAxE,GAA4EA,YAAY,CAACjP,GAArK;EACH;;EACDkP,YAAY,CAAClP,GAAD,EAAM;IACd,KAAK3G,SAAL,CAAesR,WAAf,CAA2B3K,GAA3B;EACH;;EACDmP,UAAU,CAACnP,GAAD,EAAM;IACZ,KAAK3G,SAAL,CAAeqR,SAAf,CAAyB1K,GAAzB;EACH;;EACDnE,aAAa,CAACgN,KAAD,EAAQ;IACjB,KAAK7O,MAAL,CAAY,eAAZ,EAA6B6O,KAA7B;EACH;;EACD/M,gBAAgB,CAAC+M,KAAD,EAAQ;IACpB,KAAK7O,MAAL,CAAY,kBAAZ,EAAgC6O,KAAhC;EACH;;EACDuG,MAAM,GAAG;IACL,KAAKtX,UAAL,CAAgBC,cAAhB,CAA+BqX,MAA/B;EACH;;EACDC,OAAO,GAAG;IACN,KAAKvX,UAAL,CAAgBC,cAAhB,CAA+BsX,OAA/B;EACH;;EACDC,kBAAkB,GAAG;IACjB,OAAO9a,MAAM,CAAC,MAAM8a,kBAAN,EAAD,EAA6Bja,WAAW,CAACka,iBAAZ,EAA7B,CAAb;EACH;;EACDC,cAAc,CAAC7H,IAAD,EAAO;IACjB,IAAI8H,qBAAJ,EAA2BC,iBAA3B,EAA8CC,qBAA9C,EAAqEC,qBAArE,EAA4FC,sBAA5F,EAAoHC,sBAApH,EAA4IC,sBAA5I,EAAoKC,sBAApK,EAA4LC,sBAA5L,EAAoNC,sBAApN,EAA4OC,sBAA5O,EAAoQC,sBAApQ,EAA4RC,uBAA5R,EAAqTC,uBAArT,EAA8UC,uBAA9U,EAAuWC,uBAAvW,EAAgYC,uBAAhY,EAAyZC,uBAAzZ,EAAkbC,uBAAlb,EAA2cC,uBAA3c,EAAoeC,uBAApe,EAA6fC,uBAA7f,EAAshBC,uBAAthB,EAA+iBC,uBAA/iB,EAAwkBC,uBAAxkB,EAAimBC,uBAAjmB,EAA0nBC,uBAA1nB,EAAmpBC,uBAAnpB,EAA4qBC,uBAA5qB,EAAqsBC,uBAArsB,EAA8tBC,qBAA9tB,EAAqvBC,qBAArvB,EAA4wBC,qBAA5wB,EAAmyBC,sBAAnyB,EAA2zBC,sBAA3zB,EAAm1BC,sBAAn1B,EAA22BC,qBAA32B,EAAk4BC,kBAAl4B,EAAs5BC,kBAAt5B,EAA06BC,sBAA16B,EAAk8BC,sBAAl8B,EAA09BC,sBAA19B;;IACA,QAAQvK,IAAI,CAACxI,IAAb;MACI,KAAK,OAAL;QACI,KAAKtG,kBAAL,CAAwB1C,WAAxB;;QACA;;MACJ,KAAK,cAAL;QACI,KAAK0C,kBAAL,CAAwBzC,kBAAxB;;QACA;;MACJ,KAAK,WAAL;QACI,KAAKyC,kBAAL,CAAwBxC,eAAxB;;QACA;;MACJ,KAAK,qBAAL;QACI,KAAKwC,kBAAL,CAAwBvC,0BAAxB;;QACA;;MACJ,KAAK,SAAL;QACI,UAAUmZ,qBAAqB,GAAG,KAAKrW,cAAvC,KAA0D,KAAK,CAAL,KAAWqW,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAAC0C,SAAtB,CAAgC,SAAhC,EAA2C,KAAK/Y,cAAL,CAAoBgZ,UAApB,EAA3C,CAAtG;QACA;;MACJ,KAAK,eAAL;QACI,UAAU1C,iBAAiB,GAAG,KAAK3V,WAAnC,KAAmD,KAAK,CAAL,KAAW2V,iBAA9D,GAAkF,KAAK,CAAvF,GAA2FA,iBAAiB,CAAC2C,qBAAlB,EAA3F;QACA;;MACJ,KAAK,eAAL;QACI,KAAK5R,mBAAL,CAAyB,eAAzB,EAA0CkH,IAAI,CAACkB,KAA/C;;QACA;;MACJ,KAAK,kBAAL;QACI,KAAKpI,mBAAL,CAAyB,kBAAzB,EAA6CkH,IAAI,CAACkB,KAAlD;;QACA;;MACJ,KAAK,mBAAL;QACI,KAAKpI,mBAAL,CAAyB,mBAAzB,EAA8CkH,IAAI,CAACkB,KAAnD;;QACA;;MACJ,KAAK,gBAAL;QACI,KAAKpI,mBAAL,CAAyB,gBAAzB,EAA2CkH,IAAI,CAACkB,KAAhD;;QACA;;MACJ,KAAK,gBAAL;QACI,KAAKpI,mBAAL,CAAyB,gBAAzB,EAA2CkH,IAAI,CAACkB,KAAhD;;QACA;;MACJ,KAAK,cAAL;QACI,KAAKpI,mBAAL,CAAyB,cAAzB,EAAyCkH,IAAI,CAACkB,KAA9C;;QACA;;MACJ,KAAK,gBAAL;QACI,UAAU8G,qBAAqB,GAAG,KAAKvW,cAAvC,KAA0D,KAAK,CAAL,KAAWuW,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAAC/S,UAAtB,CAAiCvH,WAAW,CAACwH,sBAAZ,CAAmC8K,IAAI,CAACkB,KAAxC,CAAjC,CAAtG;QACA;;MACJ,KAAK,oBAAL;QACI,UAAU+G,qBAAqB,GAAG,KAAKnV,eAAvC,KAA2D,KAAK,CAAL,KAAWmV,qBAAtE,GAA8F,KAAK,CAAnG,GAAuGA,qBAAqB,CAAC0C,4BAAtB,EAAvG;QACA;;MACJ,KAAK,aAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAKpV,eAAxC,KAA4D,KAAK,CAAL,KAAWoV,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,qBAAvB,EAAzG;QACA;;MACJ,KAAK,gBAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAKrV,eAAxC,KAA4D,KAAK,CAAL,KAAWqV,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,wBAAvB,EAAzG;QACA;;MACJ,KAAK,iBAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAKtV,eAAxC,KAA4D,KAAK,CAAL,KAAWsV,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,yBAAvB,EAAzG;QACA;;MACJ,KAAK,gBAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAKvV,eAAxC,KAA4D,KAAK,CAAL,KAAWuV,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,wBAAvB,EAAzG;QACA;;MACJ,KAAK,gBAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAKxV,eAAxC,KAA4D,KAAK,CAAL,KAAWwV,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,wBAAvB,EAAzG;QACA;;MACJ,KAAK,eAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAKzV,eAAxC,KAA4D,KAAK,CAAL,KAAWyV,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,uBAAvB,EAAzG;QACA;;MACJ,KAAK,gBAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAK1V,eAAxC,KAA4D,KAAK,CAAL,KAAW0V,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,wBAAvB,EAAzG;QACA;;MACJ,KAAK,eAAL;QACI,UAAUzC,sBAAsB,GAAG,KAAK3V,eAAxC,KAA4D,KAAK,CAAL,KAAW2V,sBAAvE,GAAgG,KAAK,CAArG,GAAyGA,sBAAsB,CAAC0C,uBAAvB,EAAzG;QACA;;MACJ,KAAK,cAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK5V,eAAzC,KAA6D,KAAK,CAAL,KAAW4V,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,sBAAxB,EAA3G;QACA;;MACJ,KAAK,yBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK7V,eAAzC,KAA6D,KAAK,CAAL,KAAW6V,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,iCAAxB,EAA3G;QACA;;MACJ,KAAK,gCAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK9V,eAAzC,KAA6D,KAAK,CAAL,KAAW8V,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,wCAAxB,EAA3G;QACA;;MACJ,KAAK,uBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK/V,eAAzC,KAA6D,KAAK,CAAL,KAAW+V,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,+BAAxB,EAA3G;QACA;;MACJ,KAAK,sBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKhW,eAAzC,KAA6D,KAAK,CAAL,KAAWgW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,8BAAxB,EAA3G;QACA;;MACJ,KAAK,sBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKjW,eAAzC,KAA6D,KAAK,CAAL,KAAWiW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,8BAAxB,EAA3G;QACA;;MACJ,KAAK,qBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKlW,eAAzC,KAA6D,KAAK,CAAL,KAAWkW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,6BAAxB,EAA3G;QACA;;MACJ,KAAK,qBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKnW,eAAzC,KAA6D,KAAK,CAAL,KAAWmW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,6BAAxB,EAA3G;QACA;;MACJ,KAAK,oBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKpW,eAAzC,KAA6D,KAAK,CAAL,KAAWoW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,4BAAxB,EAA3G;QACA;;MACJ,KAAK,oBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKrW,eAAzC,KAA6D,KAAK,CAAL,KAAWqW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,4BAAxB,EAA3G;QACA;;MACJ,KAAK,mBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKtW,eAAzC,KAA6D,KAAK,CAAL,KAAWsW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,2BAAxB,EAA3G;QACA;;MACJ,KAAK,qBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKvW,eAAzC,KAA6D,KAAK,CAAL,KAAWuW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,6BAAxB,EAA3G;QACA;;MACJ,KAAK,oBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKxW,eAAzC,KAA6D,KAAK,CAAL,KAAWwW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,4BAAxB,EAA3G;QACA;;MACJ,KAAK,uBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAKzW,eAAzC,KAA6D,KAAK,CAAL,KAAWyW,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,+BAAxB,EAA3G;QACA;;MACJ,KAAK,sBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK1W,eAAzC,KAA6D,KAAK,CAAL,KAAW0W,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,8BAAxB,EAA3G;QACA;;MACJ,KAAK,iBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK3W,eAAzC,KAA6D,KAAK,CAAL,KAAW2W,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,yBAAxB,EAA3G;QACA;;MACJ,KAAK,wBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK5W,eAAzC,KAA6D,KAAK,CAAL,KAAW4W,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,gCAAxB,EAA3G;QACA;;MACJ,KAAK,qBAAL;QACI,UAAUzC,uBAAuB,GAAG,KAAK7W,eAAzC,KAA6D,KAAK,CAAL,KAAW6W,uBAAxE,GAAkG,KAAK,CAAvG,GAA2GA,uBAAuB,CAAC0C,6BAAxB,EAA3G;QACA;;MACJ,KAAK,gBAAL;QACI,UAAUzC,qBAAqB,GAAG,KAAKnY,cAAvC,KAA0D,KAAK,CAAL,KAAWmY,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACY,SAAtB,CAAgC,gBAAhC,EAAkD9c,WAAW,CAAC4e,gBAAZ,CAA6BtM,IAAI,CAACkB,KAAlC,CAAlD,CAAtG;;QACA,KAAKpI,mBAAL,CAAyB,gBAAzB,EAA2CkH,IAAI,CAACkB,KAAhD;;QACA;;MACJ,KAAK,cAAL;QACI,UAAU2I,qBAAqB,GAAG,KAAKpY,cAAvC,KAA0D,KAAK,CAAL,KAAWoY,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACW,SAAtB,CAAgC,cAAhC,EAAgDxK,IAAI,CAACkB,KAArD,CAAtG;;QACA,KAAKpI,mBAAL,CAAyB,cAAzB,EAAyCkH,IAAI,CAACkB,KAA9C;;QACA;;MACJ,KAAK,YAAL;QACI,KAAKpI,mBAAL,CAAyB,YAAzB,EAAuCkH,IAAI,CAACkB,KAA5C;;QACA;;MACJ,KAAK,WAAL;QACI,KAAKpI,mBAAL,CAAyB,WAAzB,EAAsCkH,IAAI,CAACkB,KAA3C;;QACA;;MACJ,KAAK,gBAAL;QACI,KAAKpI,mBAAL,CAAyB,gBAAzB,EAA2C,KAAKzG,MAAL,CAAY2N,IAAI,CAACxI,IAAjB,CAA3C;;QACA;;MACJ,KAAK,SAAL;QACI,KAAKsB,mBAAL,CAAyB,SAAzB,EAAoC,KAAKzG,MAAL,CAAY2N,IAAI,CAACxI,IAAjB,CAApC;;QACA;;MACJ,KAAK,YAAL;QACI,KAAKsB,mBAAL,CAAyB,YAAzB,EAAuC,KAAKzG,MAAL,CAAY2N,IAAI,CAACxI,IAAjB,CAAvC;;QACA;;MACJ,KAAK,SAAL;QACI,KAAKhF,qBAAL;;QACA;;MACJ,KAAK,aAAL;QACI,KAAKG,kBAAL;;QACA;;MACJ,KAAK,4BAAL;QACI,KAAKmG,mBAAL,CAAyB,4BAAzB,EAAuD,UAAUgR,qBAAqB,GAAG,KAAK/W,sBAAvC,KAAkE,KAAK,CAAL,KAAW+W,qBAA7E,GAAqG,KAAK,CAA1G,GAA8GA,qBAAqB,CAACvT,iCAAtB,CAAwDyJ,IAAI,CAACkB,KAA7D,CAArK;;QACA;;MACJ,KAAK,oCAAL;QACI,KAAKpI,mBAAL,CAAyB,oCAAzB,EAA+D,UAAUiR,sBAAsB,GAAG,KAAKhX,sBAAxC,KAAmE,KAAK,CAAL,KAAWgX,sBAA9E,GAAuG,KAAK,CAA5G,GAAgHA,sBAAsB,CAACtT,yCAAvB,CAAiEuJ,IAAI,CAACkB,KAAtE,CAA/K;;QACA;;MACJ,KAAK,gCAAL;QACI,KAAKpI,mBAAL,CAAyB,gCAAzB,EAA2D,UAAUkR,sBAAsB,GAAG,KAAKjX,sBAAxC,KAAmE,KAAK,CAAL,KAAWiX,sBAA9E,GAAuG,KAAK,CAA5G,GAAgHA,sBAAsB,CAACrT,qCAAvB,CAA6DqJ,IAAI,CAACkB,KAAlE,CAA3K;;QACA;;MACJ,KAAK,qBAAL;QACI,KAAKpI,mBAAL,CAAyB,qBAAzB,EAAgD,UAAUmR,sBAAsB,GAAG,KAAKlX,sBAAxC,KAAmE,KAAK,CAAL,KAAWkX,sBAA9E,GAAuG,KAAK,CAA5G,GAAgHA,sBAAsB,CAACpT,0BAAvB,CAAkDmJ,IAAI,CAACkB,KAAvD,CAAhK;;QACA;;MACJ,KAAK,WAAL;QACI,UAAUgJ,qBAAqB,GAAG,KAAKzY,cAAvC,KAA0D,KAAK,CAAL,KAAWyY,qBAArE,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACM,SAAtB,CAAgC,WAAhC,EAA6CxK,IAAI,CAACkB,KAAlD,CAAtG;QACA;;MACJ,KAAK,OAAL;QACI,MAAM2G,cAAN,CAAqB7H,IAArB;;QACA,UAAUmK,kBAAkB,GAAG,KAAK/X,WAApC,KAAoD,KAAK,CAAL,KAAW+X,kBAA/D,GAAoF,KAAK,CAAzF,GAA6FA,kBAAkB,CAACoC,gBAAnB,EAA7F;QACA;;MACJ,KAAK,QAAL;QACI,MAAM1E,cAAN,CAAqB7H,IAArB;;QACA,UAAUoK,kBAAkB,GAAG,KAAKhY,WAApC,KAAoD,KAAK,CAAL,KAAWgY,kBAA/D,GAAoF,KAAK,CAAzF,GAA6FA,kBAAkB,CAACoC,cAAnB,CAAkC9f,SAAS,CAAC,KAAK+f,SAAN,CAA3C,CAA7F;QACA;;MACJ,KAAK,SAAL;QACI,UAAUpC,sBAAsB,GAAG,KAAK5Y,cAAxC,KAA2D,KAAK,CAAL,KAAW4Y,sBAAtE,GAA+F,KAAK,CAApG,GAAwGA,sBAAsB,CAACG,SAAvB,CAAiC,SAAjC,EAA4C,KAAKnY,MAAL,CAAY2N,IAAI,CAACxI,IAAjB,CAA5C,CAAxG;QACA;;MACJ,KAAK,WAAL;QACI,UAAU8S,sBAAsB,GAAG,KAAK7Y,cAAxC,KAA2D,KAAK,CAAL,KAAW6Y,sBAAtE,GAA+F,KAAK,CAApG,GAAwGA,sBAAsB,CAACE,SAAvB,CAAiC,WAAjC,EAA8C,KAAKnY,MAAL,CAAY2N,IAAI,CAACxI,IAAjB,CAA9C,CAAxG;QACA;;MACJ,KAAK,cAAL;QACI,UAAU+S,sBAAsB,GAAG,KAAK9Y,cAAxC,KAA2D,KAAK,CAAL,KAAW8Y,sBAAtE,GAA+F,KAAK,CAApG,GAAwGA,sBAAsB,CAACC,SAAvB,CAAiC,cAAjC,EAAiD,KAAKnY,MAAL,CAAY2N,IAAI,CAACxI,IAAjB,CAAjD,CAAxG;QACA;;MACJ;QACI,MAAMqQ,cAAN,CAAqB7H,IAArB;;IAvLR;EAyLH;;AAn1BsB;;AAq1B3B7S,iBAAiB,CAAC,SAAD,EAAY0B,KAAZ,CAAjB;AACA,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}