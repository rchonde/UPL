{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/toolbar/strategy/toolbar.singleline.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getOuterWidth } from \"../../../core/utils/size\";\nimport $ from \"../../../core/renderer\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { grep, deferRender } from \"../../../core/utils/common\";\nimport { extend } from \"../../../core/utils/extend\";\nimport DropDownMenu from \"../internal/ui.toolbar.menu\";\nimport { compileGetter } from \"../../../core/utils/data\";\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\nvar TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\nvar TOOLBAR_BUTTON_CLASS = \"dx-toolbar-button\";\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\nexport class SingleLineStrategy {\n  constructor(toolbar) {\n    this._toolbar = toolbar;\n  }\n\n  _initMarkup() {\n    deferRender(() => {\n      this._renderOverflowMenu();\n\n      this._renderMenuItems();\n    });\n  }\n\n  _renderOverflowMenu() {\n    if (!this._hasVisibleMenuItems()) {\n      return;\n    }\n\n    this._renderMenuButtonContainer();\n\n    var $menu = $(\"<div>\").appendTo(this._overflowMenuContainer());\n\n    var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\n\n    var menuItemTemplate = this._toolbar._getTemplateByOption(\"menuItemTemplate\");\n\n    this._menu = this._toolbar._createComponent($menu, DropDownMenu, {\n      disabled: this._toolbar.option(\"disabled\"),\n      itemTemplate: () => menuItemTemplate,\n      onItemClick: e => {\n        itemClickAction(e);\n      },\n      container: this._toolbar.option(\"menuContainer\"),\n      onOptionChanged: _ref => {\n        var {\n          name: name,\n          value: value\n        } = _ref;\n\n        if (\"opened\" === name) {\n          this._toolbar.option(\"overflowMenuVisible\", value);\n        }\n\n        if (\"items\" === name) {\n          this._updateMenuVisibility(value);\n        }\n      }\n    });\n  }\n\n  renderMenuItems() {\n    if (!this._menu) {\n      this._renderOverflowMenu();\n    }\n\n    this._menu && this._menu.option(\"items\", this._getMenuItems());\n\n    if (this._menu && !this._menu.option(\"items\").length) {\n      this._menu.option(\"opened\", false);\n    }\n  }\n\n  _renderMenuButtonContainer() {\n    this._$overflowMenuContainer = $(\"<div>\").appendTo(this._toolbar._$afterSection).addClass(TOOLBAR_BUTTON_CLASS).addClass(TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS);\n  }\n\n  _overflowMenuContainer() {\n    return this._$overflowMenuContainer;\n  }\n\n  _updateMenuVisibility(menuItems) {\n    var items = null !== menuItems && void 0 !== menuItems ? menuItems : this._getMenuItems();\n\n    var isMenuVisible = items.length && this._hasVisibleMenuItems(items);\n\n    this._toggleMenuVisibility(isMenuVisible);\n  }\n\n  _toggleMenuVisibility(value) {\n    if (!this._overflowMenuContainer()) {\n      return;\n    }\n\n    this._overflowMenuContainer().toggleClass(INVISIBLE_STATE_CLASS, !value);\n  }\n\n  _renderMenuItems() {\n    deferRender(() => {\n      this.renderMenuItems();\n    });\n  }\n\n  _dimensionChanged() {\n    this.renderMenuItems();\n  }\n\n  _getToolbarItems() {\n    var _this$_toolbar$option;\n\n    return grep(null !== (_this$_toolbar$option = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option ? _this$_toolbar$option : [], item => !this._toolbar._isMenuItem(item));\n  }\n\n  _getMenuItems() {\n    var _this$_toolbar$option2, _this$_restoreItems;\n\n    var menuItems = grep(null !== (_this$_toolbar$option2 = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option2 ? _this$_toolbar$option2 : [], item => this._toolbar._isMenuItem(item));\n\n    var $hiddenItems = this._toolbar._itemContainer().children(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS, \".\").concat(TOOLBAR_HIDDEN_ITEM)).not(\".\".concat(INVISIBLE_STATE_CLASS));\n\n    this._restoreItems = null !== (_this$_restoreItems = this._restoreItems) && void 0 !== _this$_restoreItems ? _this$_restoreItems : [];\n    var overflowItems = [].slice.call($hiddenItems).map(item => {\n      var itemData = this._toolbar._getItemData(item);\n\n      var $itemContainer = $(item);\n      var $itemMarkup = $itemContainer.children();\n      return extend({\n        menuItemTemplate: () => {\n          this._restoreItems.push({\n            container: $itemContainer,\n            item: $itemMarkup\n          });\n\n          var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n          return $container.append($itemMarkup);\n        }\n      }, itemData);\n    });\n    return [...overflowItems, ...menuItems];\n  }\n\n  _hasVisibleMenuItems(items) {\n    var menuItems = null !== items && void 0 !== items ? items : this._toolbar.option(\"items\");\n    var result = false;\n    var optionGetter = compileGetter(\"visible\");\n    var overflowGetter = compileGetter(\"locateInMenu\");\n    each(menuItems, function (index, item) {\n      var itemVisible = optionGetter(item, {\n        functionsAsIs: true\n      });\n      var itemOverflow = overflowGetter(item, {\n        functionsAsIs: true\n      });\n\n      if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\n        result = true;\n      }\n    });\n    return result;\n  }\n\n  _arrangeItems() {\n    var _this$_restoreItems2;\n\n    this._toolbar._$centerSection.css({\n      margin: \"0 auto\",\n      float: \"none\"\n    });\n\n    each(null !== (_this$_restoreItems2 = this._restoreItems) && void 0 !== _this$_restoreItems2 ? _this$_restoreItems2 : [], function (_, obj) {\n      $(obj.container).append(obj.item);\n    });\n    this._restoreItems = [];\n    var elementWidth = getWidth(this._toolbar.$element());\n\n    this._hideOverflowItems(elementWidth);\n\n    return elementWidth;\n  }\n\n  _hideOverflowItems(elementWidth) {\n    var _elementWidth;\n\n    var overflowItems = this._toolbar.$element().find(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS));\n\n    if (!overflowItems.length) {\n      return;\n    }\n\n    elementWidth = null !== (_elementWidth = elementWidth) && void 0 !== _elementWidth ? _elementWidth : getWidth(this._toolbar.$element());\n    $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\n\n    var itemsWidth = this._getItemsWidth();\n\n    while (overflowItems.length && elementWidth < itemsWidth) {\n      var $item = overflowItems.eq(-1);\n      itemsWidth -= getOuterWidth($item);\n      $item.addClass(TOOLBAR_HIDDEN_ITEM);\n      overflowItems.splice(-1, 1);\n    }\n  }\n\n  _getItemsWidth() {\n    return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection, this._toolbar._$centerSection, this._toolbar._$afterSection]);\n  }\n\n  _itemOptionChanged(item, property, value) {\n    if (this._toolbar._isMenuItem(item)) {\n      if (\"disabled\" === property || \"options.disabled\" === property) {\n        var _this$_menu;\n\n        null === (_this$_menu = this._menu) || void 0 === _this$_menu ? void 0 : _this$_menu._itemOptionChanged(item, property, value);\n        return;\n      }\n    }\n\n    this.renderMenuItems();\n  }\n\n  _renderItem(item, itemElement) {\n    if (\"auto\" === item.locateInMenu) {\n      itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n    }\n  }\n\n  _optionChanged(name, value) {\n    var _this$_menu2, _this$_menu3, _this$_menu4, _this$_menu5, _this$_menu6;\n\n    switch (name) {\n      case \"disabled\":\n        null === (_this$_menu2 = this._menu) || void 0 === _this$_menu2 ? void 0 : _this$_menu2.option(name, value);\n        break;\n\n      case \"overflowMenuVisible\":\n        null === (_this$_menu3 = this._menu) || void 0 === _this$_menu3 ? void 0 : _this$_menu3.option(\"opened\", value);\n        break;\n\n      case \"onItemClick\":\n        null === (_this$_menu4 = this._menu) || void 0 === _this$_menu4 ? void 0 : _this$_menu4.option(name, value);\n        break;\n\n      case \"menuContainer\":\n        null === (_this$_menu5 = this._menu) || void 0 === _this$_menu5 ? void 0 : _this$_menu5.option(\"container\", value);\n        break;\n\n      case \"menuItemTemplate\":\n        null === (_this$_menu6 = this._menu) || void 0 === _this$_menu6 ? void 0 : _this$_menu6.option(\"itemTemplate\", value);\n    }\n  }\n\n}","map":{"version":3,"names":["getWidth","getOuterWidth","$","each","grep","deferRender","extend","DropDownMenu","compileGetter","INVISIBLE_STATE_CLASS","TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS","TOOLBAR_BUTTON_CLASS","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_HIDDEN_ITEM","SingleLineStrategy","constructor","toolbar","_toolbar","_initMarkup","_renderOverflowMenu","_renderMenuItems","_hasVisibleMenuItems","_renderMenuButtonContainer","$menu","appendTo","_overflowMenuContainer","itemClickAction","_createActionByOption","menuItemTemplate","_getTemplateByOption","_menu","_createComponent","disabled","option","itemTemplate","onItemClick","e","container","onOptionChanged","_ref","name","value","_updateMenuVisibility","renderMenuItems","_getMenuItems","length","_$overflowMenuContainer","_$afterSection","addClass","menuItems","items","isMenuVisible","_toggleMenuVisibility","toggleClass","_dimensionChanged","_getToolbarItems","_this$_toolbar$option","item","_isMenuItem","_this$_toolbar$option2","_this$_restoreItems","$hiddenItems","_itemContainer","children","concat","not","_restoreItems","overflowItems","slice","call","map","itemData","_getItemData","$itemContainer","$itemMarkup","push","$container","append","result","optionGetter","overflowGetter","index","itemVisible","functionsAsIs","itemOverflow","location","_arrangeItems","_this$_restoreItems2","_$centerSection","css","margin","float","_","obj","elementWidth","$element","_hideOverflowItems","_elementWidth","find","removeClass","itemsWidth","_getItemsWidth","$item","eq","splice","_getSummaryItemsWidth","_$beforeSection","_itemOptionChanged","property","_this$_menu","_renderItem","itemElement","locateInMenu","_optionChanged","_this$_menu2","_this$_menu3","_this$_menu4","_this$_menu5","_this$_menu6"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/ui/toolbar/strategy/toolbar.singleline.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/toolbar/strategy/toolbar.singleline.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../../core/utils/size\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    grep,\r\n    deferRender\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport DropDownMenu from \"../internal/ui.toolbar.menu\";\r\nimport {\r\n    compileGetter\r\n} from \"../../../core/utils/data\";\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar TOOLBAR_BUTTON_CLASS = \"dx-toolbar-button\";\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nexport class SingleLineStrategy {\r\n    constructor(toolbar) {\r\n        this._toolbar = toolbar\r\n    }\r\n    _initMarkup() {\r\n        deferRender(() => {\r\n            this._renderOverflowMenu();\r\n            this._renderMenuItems()\r\n        })\r\n    }\r\n    _renderOverflowMenu() {\r\n        if (!this._hasVisibleMenuItems()) {\r\n            return\r\n        }\r\n        this._renderMenuButtonContainer();\r\n        var $menu = $(\"<div>\").appendTo(this._overflowMenuContainer());\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        var menuItemTemplate = this._toolbar._getTemplateByOption(\"menuItemTemplate\");\r\n        this._menu = this._toolbar._createComponent($menu, DropDownMenu, {\r\n            disabled: this._toolbar.option(\"disabled\"),\r\n            itemTemplate: () => menuItemTemplate,\r\n            onItemClick: e => {\r\n                itemClickAction(e)\r\n            },\r\n            container: this._toolbar.option(\"menuContainer\"),\r\n            onOptionChanged: _ref => {\r\n                var {\r\n                    name: name,\r\n                    value: value\r\n                } = _ref;\r\n                if (\"opened\" === name) {\r\n                    this._toolbar.option(\"overflowMenuVisible\", value)\r\n                }\r\n                if (\"items\" === name) {\r\n                    this._updateMenuVisibility(value)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    renderMenuItems() {\r\n        if (!this._menu) {\r\n            this._renderOverflowMenu()\r\n        }\r\n        this._menu && this._menu.option(\"items\", this._getMenuItems());\r\n        if (this._menu && !this._menu.option(\"items\").length) {\r\n            this._menu.option(\"opened\", false)\r\n        }\r\n    }\r\n    _renderMenuButtonContainer() {\r\n        this._$overflowMenuContainer = $(\"<div>\").appendTo(this._toolbar._$afterSection).addClass(TOOLBAR_BUTTON_CLASS).addClass(TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS)\r\n    }\r\n    _overflowMenuContainer() {\r\n        return this._$overflowMenuContainer\r\n    }\r\n    _updateMenuVisibility(menuItems) {\r\n        var items = null !== menuItems && void 0 !== menuItems ? menuItems : this._getMenuItems();\r\n        var isMenuVisible = items.length && this._hasVisibleMenuItems(items);\r\n        this._toggleMenuVisibility(isMenuVisible)\r\n    }\r\n    _toggleMenuVisibility(value) {\r\n        if (!this._overflowMenuContainer()) {\r\n            return\r\n        }\r\n        this._overflowMenuContainer().toggleClass(INVISIBLE_STATE_CLASS, !value)\r\n    }\r\n    _renderMenuItems() {\r\n        deferRender(() => {\r\n            this.renderMenuItems()\r\n        })\r\n    }\r\n    _dimensionChanged() {\r\n        this.renderMenuItems()\r\n    }\r\n    _getToolbarItems() {\r\n        var _this$_toolbar$option;\r\n        return grep(null !== (_this$_toolbar$option = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option ? _this$_toolbar$option : [], item => !this._toolbar._isMenuItem(item))\r\n    }\r\n    _getMenuItems() {\r\n        var _this$_toolbar$option2, _this$_restoreItems;\r\n        var menuItems = grep(null !== (_this$_toolbar$option2 = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option2 ? _this$_toolbar$option2 : [], item => this._toolbar._isMenuItem(item));\r\n        var $hiddenItems = this._toolbar._itemContainer().children(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS, \".\").concat(TOOLBAR_HIDDEN_ITEM)).not(\".\".concat(INVISIBLE_STATE_CLASS));\r\n        this._restoreItems = null !== (_this$_restoreItems = this._restoreItems) && void 0 !== _this$_restoreItems ? _this$_restoreItems : [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(item => {\r\n            var itemData = this._toolbar._getItemData(item);\r\n            var $itemContainer = $(item);\r\n            var $itemMarkup = $itemContainer.children();\r\n            return extend({\r\n                menuItemTemplate: () => {\r\n                    this._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return [...overflowItems, ...menuItems]\r\n    }\r\n    _hasVisibleMenuItems(items) {\r\n        var menuItems = null !== items && void 0 !== items ? items : this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        each(menuItems, (function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\r\n                result = true\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _arrangeItems() {\r\n        var _this$_restoreItems2;\r\n        this._toolbar._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            float: \"none\"\r\n        });\r\n        each(null !== (_this$_restoreItems2 = this._restoreItems) && void 0 !== _this$_restoreItems2 ? _this$_restoreItems2 : [], (function(_, obj) {\r\n            $(obj.container).append(obj.item)\r\n        }));\r\n        this._restoreItems = [];\r\n        var elementWidth = getWidth(this._toolbar.$element());\r\n        this._hideOverflowItems(elementWidth);\r\n        return elementWidth\r\n    }\r\n    _hideOverflowItems(elementWidth) {\r\n        var _elementWidth;\r\n        var overflowItems = this._toolbar.$element().find(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS));\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = null !== (_elementWidth = elementWidth) && void 0 !== _elementWidth ? _elementWidth : getWidth(this._toolbar.$element());\r\n        $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= getOuterWidth($item);\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    }\r\n    _getItemsWidth() {\r\n        return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection, this._toolbar._$centerSection, this._toolbar._$afterSection])\r\n    }\r\n    _itemOptionChanged(item, property, value) {\r\n        if (this._toolbar._isMenuItem(item)) {\r\n            if (\"disabled\" === property || \"options.disabled\" === property) {\r\n                var _this$_menu;\r\n                null === (_this$_menu = this._menu) || void 0 === _this$_menu ? void 0 : _this$_menu._itemOptionChanged(item, property, value);\r\n                return\r\n            }\r\n        }\r\n        this.renderMenuItems()\r\n    }\r\n    _renderItem(item, itemElement) {\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n    }\r\n    _optionChanged(name, value) {\r\n        var _this$_menu2, _this$_menu3, _this$_menu4, _this$_menu5, _this$_menu6;\r\n        switch (name) {\r\n            case \"disabled\":\r\n                null === (_this$_menu2 = this._menu) || void 0 === _this$_menu2 ? void 0 : _this$_menu2.option(name, value);\r\n                break;\r\n            case \"overflowMenuVisible\":\r\n                null === (_this$_menu3 = this._menu) || void 0 === _this$_menu3 ? void 0 : _this$_menu3.option(\"opened\", value);\r\n                break;\r\n            case \"onItemClick\":\r\n                null === (_this$_menu4 = this._menu) || void 0 === _this$_menu4 ? void 0 : _this$_menu4.option(name, value);\r\n                break;\r\n            case \"menuContainer\":\r\n                null === (_this$_menu5 = this._menu) || void 0 === _this$_menu5 ? void 0 : _this$_menu5.option(\"container\", value);\r\n                break;\r\n            case \"menuItemTemplate\":\r\n                null === (_this$_menu6 = this._menu) || void 0 === _this$_menu6 ? void 0 : _this$_menu6.option(\"itemTemplate\", value)\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}