{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/shared/accessibility.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { normalizeKeyName } from \"../../events/utils/index\";\nimport { extend } from \"../../core/utils/extend\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { noop } from \"../../core/utils/common\";\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\nvar FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\nvar FOCUSED_ROW_SELECTOR = \".dx-row-focused\";\nvar GRID_ROW_SELECTOR = \".dx-datagrid-rowsview .dx-row\";\nvar GRID_CELL_SELECTOR = \"\".concat(GRID_ROW_SELECTOR, \" > td\");\nvar TREELIST_ROW_SELECTOR = \".dx-treelist-rowsview .dx-row\";\nvar TREELIST_CELL_SELECTOR = \"\".concat(TREELIST_ROW_SELECTOR, \" > td\");\nvar viewItemSelectorMap = {\n  groupPanel: [\".dx-datagrid-group-panel .dx-group-panel-item[tabindex]\"],\n  columnHeaders: [\".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action\", \".dx-treelist-headers .dx-header-row > td.dx-treelist-action\"],\n  filterRow: [\".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input\", \".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input\"],\n  rowsView: [\"\".concat(FOCUSED_ROW_SELECTOR), \"\".concat(GRID_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR), \"\".concat(TREELIST_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR)],\n  footer: [\".dx-datagrid-total-footer .dx-datagrid-summary-item\", \".dx-treelist-total-footer .dx-treelist-summary-item\"],\n  filterPanel: [\".dx-datagrid-filter-panel .dx-icon-filter\", \".dx-treelist-filter-panel .dx-icon-filter\"],\n  pager: [\".dx-datagrid-pager [tabindex]\", \".dx-treelist-pager [tabindex]\"]\n};\nvar isMouseDown = false;\nvar isHiddenFocusing = false;\nvar focusedElementInfo = null;\n\nfunction processKeyDown(viewName, instance, event, action, $mainElement, executeKeyDown) {\n  var isHandled = fireKeyDownEvent(instance, event.originalEvent, executeKeyDown);\n\n  if (isHandled) {\n    return;\n  }\n\n  var keyName = normalizeKeyName(event);\n\n  if (\"enter\" === keyName || \"space\" === keyName) {\n    saveFocusedElementInfo(event.target, instance);\n    action && action({\n      event: event\n    });\n  } else if (\"tab\" === keyName) {\n    $mainElement.addClass(FOCUS_STATE_CLASS);\n  } else {\n    selectView(viewName, instance, event);\n  }\n}\n\nexport function saveFocusedElementInfo(target, instance) {\n  var $target = $(target);\n  var ariaLabel = $target.attr(\"aria-label\");\n  var $activeElements = getActiveAccessibleElements(ariaLabel, instance.element());\n  var targetIndex = $activeElements.index($target);\n  focusedElementInfo = extend({}, {\n    ariaLabel: ariaLabel,\n    index: targetIndex\n  }, {\n    viewInstance: instance\n  });\n}\n\nfunction getActiveAccessibleElements(ariaLabel, viewElement) {\n  var $viewElement = $(viewElement);\n  var $activeElements;\n\n  if (ariaLabel) {\n    $activeElements = $viewElement.find('[aria-label=\"'.concat(ariaLabel, '\"][tabindex]'));\n  } else {\n    $activeElements = $viewElement.find(\"[tabindex]\");\n  }\n\n  return $activeElements;\n}\n\nfunction findFocusedViewElement(viewSelectors, element) {\n  var root = (null === element || void 0 === element ? void 0 : element.getRootNode()) || domAdapter.getDocument();\n\n  for (var index in viewSelectors) {\n    var selector = viewSelectors[index];\n    var $focusViewElement = $(root).find(selector).first();\n\n    if ($focusViewElement.length) {\n      return $focusViewElement;\n    }\n  }\n}\n\nfunction fireKeyDownEvent(instance, event, executeAction) {\n  var args = {\n    event: event,\n    handled: false\n  };\n\n  if (executeAction) {\n    executeAction(args);\n  } else {\n    instance._createActionByOption(\"onKeyDown\")(args);\n  }\n\n  return args.handled;\n}\n\nfunction onDocumentVisibilityChange() {\n  isHiddenFocusing = \"visible\" === domAdapter.getDocument().visibilityState;\n}\n\nexport function subscribeVisibilityChange() {\n  eventsEngine.on(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange);\n}\nexport function unsubscribeVisibilityChange() {\n  eventsEngine.off(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange);\n}\nexport function hiddenFocus(element) {\n  isHiddenFocusing = true;\n  element.focus();\n  isHiddenFocusing = false;\n}\nexport function registerKeyboardAction(viewName, instance, $element, selector, action, executeKeyDown) {\n  if (instance.option(\"useLegacyKeyboardNavigation\")) {\n    return noop;\n  }\n\n  var getMainElement = () => $(instance.element());\n\n  var keyDownHandler = e => processKeyDown(viewName, instance, e, action, getMainElement(), executeKeyDown);\n\n  var mouseDownHandler = () => {\n    isMouseDown = true;\n    getMainElement().removeClass(FOCUS_STATE_CLASS);\n  };\n\n  var focusinHandler = () => {\n    var needShowOverlay = !isMouseDown && !isHiddenFocusing;\n\n    if (needShowOverlay) {\n      getMainElement().addClass(FOCUS_STATE_CLASS);\n    }\n\n    isMouseDown = false;\n  };\n\n  eventsEngine.on($element, \"keydown\", selector, keyDownHandler);\n  eventsEngine.on($element, \"mousedown\", selector, mouseDownHandler);\n  eventsEngine.on($element, \"focusin\", selector, focusinHandler);\n  return () => {\n    eventsEngine.off($element, \"keydown\", selector, keyDownHandler);\n    eventsEngine.off($element, \"mousedown\", selector, mouseDownHandler);\n    eventsEngine.off($element, \"focusin\", selector, focusinHandler);\n  };\n}\nexport function restoreFocus(instance) {\n  if (!instance.option(\"useLegacyKeyboardNavigation\") && focusedElementInfo) {\n    var viewInstance = focusedElementInfo.viewInstance;\n\n    if (viewInstance) {\n      var $activeElements = getActiveAccessibleElements(focusedElementInfo.ariaLabel, viewInstance.element());\n      var $targetElement = $activeElements.eq(focusedElementInfo.index);\n      focusedElementInfo = null;\n      eventsEngine.trigger($targetElement, \"focus\");\n    }\n  }\n}\nexport function selectView(viewName, instance, event) {\n  var keyName = normalizeKeyName(event);\n\n  if (event.ctrlKey && (\"upArrow\" === keyName || \"downArrow\" === keyName)) {\n    var viewNames = Object.keys(viewItemSelectorMap);\n    var viewItemIndex = viewNames.indexOf(viewName);\n\n    while (viewItemIndex >= 0 && viewItemIndex < viewNames.length) {\n      viewItemIndex = \"upArrow\" === keyName ? --viewItemIndex : ++viewItemIndex;\n      var _viewName = viewNames[viewItemIndex];\n      var viewSelectors = viewItemSelectorMap[_viewName];\n      var $focusViewElement = findFocusedViewElement(viewSelectors, event.target);\n\n      if ($focusViewElement && $focusViewElement.length) {\n        $focusViewElement.attr(\"tabindex\", instance.option(\"tabindex\") || 0);\n        eventsEngine.trigger($focusViewElement, \"focus\");\n        $focusViewElement.removeClass(FOCUS_DISABLED_CLASS);\n        break;\n      }\n    }\n  }\n}\nexport function setTabIndex(instance, $element) {\n  if (!instance.option(\"useLegacyKeyboardnavigation\")) {\n    $element.attr(\"tabindex\", instance.option(\"tabindex\") || 0);\n  }\n}","map":{"version":3,"names":["$","eventsEngine","normalizeKeyName","extend","domAdapter","noop","FOCUS_STATE_CLASS","FOCUS_DISABLED_CLASS","FOCUSED_ROW_SELECTOR","GRID_ROW_SELECTOR","GRID_CELL_SELECTOR","concat","TREELIST_ROW_SELECTOR","TREELIST_CELL_SELECTOR","viewItemSelectorMap","groupPanel","columnHeaders","filterRow","rowsView","footer","filterPanel","pager","isMouseDown","isHiddenFocusing","focusedElementInfo","processKeyDown","viewName","instance","event","action","$mainElement","executeKeyDown","isHandled","fireKeyDownEvent","originalEvent","keyName","saveFocusedElementInfo","target","addClass","selectView","$target","ariaLabel","attr","$activeElements","getActiveAccessibleElements","element","targetIndex","index","viewInstance","viewElement","$viewElement","find","findFocusedViewElement","viewSelectors","root","getRootNode","getDocument","selector","$focusViewElement","first","length","executeAction","args","handled","_createActionByOption","onDocumentVisibilityChange","visibilityState","subscribeVisibilityChange","on","unsubscribeVisibilityChange","off","hiddenFocus","focus","registerKeyboardAction","$element","option","getMainElement","keyDownHandler","e","mouseDownHandler","removeClass","focusinHandler","needShowOverlay","restoreFocus","$targetElement","eq","trigger","ctrlKey","viewNames","Object","keys","viewItemIndex","indexOf","_viewName","setTabIndex"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/ui/shared/accessibility.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/shared/accessibility.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row-focused\";\r\nvar GRID_ROW_SELECTOR = \".dx-datagrid-rowsview .dx-row\";\r\nvar GRID_CELL_SELECTOR = \"\".concat(GRID_ROW_SELECTOR, \" > td\");\r\nvar TREELIST_ROW_SELECTOR = \".dx-treelist-rowsview .dx-row\";\r\nvar TREELIST_CELL_SELECTOR = \"\".concat(TREELIST_ROW_SELECTOR, \" > td\");\r\nvar viewItemSelectorMap = {\r\n    groupPanel: [\".dx-datagrid-group-panel .dx-group-panel-item[tabindex]\"],\r\n    columnHeaders: [\".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action\", \".dx-treelist-headers .dx-header-row > td.dx-treelist-action\"],\r\n    filterRow: [\".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input\", \".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input\"],\r\n    rowsView: [\"\".concat(FOCUSED_ROW_SELECTOR), \"\".concat(GRID_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR), \"\".concat(TREELIST_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR)],\r\n    footer: [\".dx-datagrid-total-footer .dx-datagrid-summary-item\", \".dx-treelist-total-footer .dx-treelist-summary-item\"],\r\n    filterPanel: [\".dx-datagrid-filter-panel .dx-icon-filter\", \".dx-treelist-filter-panel .dx-icon-filter\"],\r\n    pager: [\".dx-datagrid-pager [tabindex]\", \".dx-treelist-pager [tabindex]\"]\r\n};\r\nvar isMouseDown = false;\r\nvar isHiddenFocusing = false;\r\nvar focusedElementInfo = null;\r\n\r\nfunction processKeyDown(viewName, instance, event, action, $mainElement, executeKeyDown) {\r\n    var isHandled = fireKeyDownEvent(instance, event.originalEvent, executeKeyDown);\r\n    if (isHandled) {\r\n        return\r\n    }\r\n    var keyName = normalizeKeyName(event);\r\n    if (\"enter\" === keyName || \"space\" === keyName) {\r\n        saveFocusedElementInfo(event.target, instance);\r\n        action && action({\r\n            event: event\r\n        })\r\n    } else if (\"tab\" === keyName) {\r\n        $mainElement.addClass(FOCUS_STATE_CLASS)\r\n    } else {\r\n        selectView(viewName, instance, event)\r\n    }\r\n}\r\nexport function saveFocusedElementInfo(target, instance) {\r\n    var $target = $(target);\r\n    var ariaLabel = $target.attr(\"aria-label\");\r\n    var $activeElements = getActiveAccessibleElements(ariaLabel, instance.element());\r\n    var targetIndex = $activeElements.index($target);\r\n    focusedElementInfo = extend({}, {\r\n        ariaLabel: ariaLabel,\r\n        index: targetIndex\r\n    }, {\r\n        viewInstance: instance\r\n    })\r\n}\r\n\r\nfunction getActiveAccessibleElements(ariaLabel, viewElement) {\r\n    var $viewElement = $(viewElement);\r\n    var $activeElements;\r\n    if (ariaLabel) {\r\n        $activeElements = $viewElement.find('[aria-label=\"'.concat(ariaLabel, '\"][tabindex]'))\r\n    } else {\r\n        $activeElements = $viewElement.find(\"[tabindex]\")\r\n    }\r\n    return $activeElements\r\n}\r\n\r\nfunction findFocusedViewElement(viewSelectors, element) {\r\n    var root = (null === element || void 0 === element ? void 0 : element.getRootNode()) || domAdapter.getDocument();\r\n    for (var index in viewSelectors) {\r\n        var selector = viewSelectors[index];\r\n        var $focusViewElement = $(root).find(selector).first();\r\n        if ($focusViewElement.length) {\r\n            return $focusViewElement\r\n        }\r\n    }\r\n}\r\n\r\nfunction fireKeyDownEvent(instance, event, executeAction) {\r\n    var args = {\r\n        event: event,\r\n        handled: false\r\n    };\r\n    if (executeAction) {\r\n        executeAction(args)\r\n    } else {\r\n        instance._createActionByOption(\"onKeyDown\")(args)\r\n    }\r\n    return args.handled\r\n}\r\n\r\nfunction onDocumentVisibilityChange() {\r\n    isHiddenFocusing = \"visible\" === domAdapter.getDocument().visibilityState\r\n}\r\nexport function subscribeVisibilityChange() {\r\n    eventsEngine.on(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\nexport function unsubscribeVisibilityChange() {\r\n    eventsEngine.off(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\nexport function hiddenFocus(element) {\r\n    isHiddenFocusing = true;\r\n    element.focus();\r\n    isHiddenFocusing = false\r\n}\r\nexport function registerKeyboardAction(viewName, instance, $element, selector, action, executeKeyDown) {\r\n    if (instance.option(\"useLegacyKeyboardNavigation\")) {\r\n        return noop\r\n    }\r\n    var getMainElement = () => $(instance.element());\r\n    var keyDownHandler = e => processKeyDown(viewName, instance, e, action, getMainElement(), executeKeyDown);\r\n    var mouseDownHandler = () => {\r\n        isMouseDown = true;\r\n        getMainElement().removeClass(FOCUS_STATE_CLASS)\r\n    };\r\n    var focusinHandler = () => {\r\n        var needShowOverlay = !isMouseDown && !isHiddenFocusing;\r\n        if (needShowOverlay) {\r\n            getMainElement().addClass(FOCUS_STATE_CLASS)\r\n        }\r\n        isMouseDown = false\r\n    };\r\n    eventsEngine.on($element, \"keydown\", selector, keyDownHandler);\r\n    eventsEngine.on($element, \"mousedown\", selector, mouseDownHandler);\r\n    eventsEngine.on($element, \"focusin\", selector, focusinHandler);\r\n    return () => {\r\n        eventsEngine.off($element, \"keydown\", selector, keyDownHandler);\r\n        eventsEngine.off($element, \"mousedown\", selector, mouseDownHandler);\r\n        eventsEngine.off($element, \"focusin\", selector, focusinHandler)\r\n    }\r\n}\r\nexport function restoreFocus(instance) {\r\n    if (!instance.option(\"useLegacyKeyboardNavigation\") && focusedElementInfo) {\r\n        var viewInstance = focusedElementInfo.viewInstance;\r\n        if (viewInstance) {\r\n            var $activeElements = getActiveAccessibleElements(focusedElementInfo.ariaLabel, viewInstance.element());\r\n            var $targetElement = $activeElements.eq(focusedElementInfo.index);\r\n            focusedElementInfo = null;\r\n            eventsEngine.trigger($targetElement, \"focus\")\r\n        }\r\n    }\r\n}\r\nexport function selectView(viewName, instance, event) {\r\n    var keyName = normalizeKeyName(event);\r\n    if (event.ctrlKey && (\"upArrow\" === keyName || \"downArrow\" === keyName)) {\r\n        var viewNames = Object.keys(viewItemSelectorMap);\r\n        var viewItemIndex = viewNames.indexOf(viewName);\r\n        while (viewItemIndex >= 0 && viewItemIndex < viewNames.length) {\r\n            viewItemIndex = \"upArrow\" === keyName ? --viewItemIndex : ++viewItemIndex;\r\n            var _viewName = viewNames[viewItemIndex];\r\n            var viewSelectors = viewItemSelectorMap[_viewName];\r\n            var $focusViewElement = findFocusedViewElement(viewSelectors, event.target);\r\n            if ($focusViewElement && $focusViewElement.length) {\r\n                $focusViewElement.attr(\"tabindex\", instance.option(\"tabindex\") || 0);\r\n                eventsEngine.trigger($focusViewElement, \"focus\");\r\n                $focusViewElement.removeClass(FOCUS_DISABLED_CLASS);\r\n                break\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function setTabIndex(instance, $element) {\r\n    if (!instance.option(\"useLegacyKeyboardnavigation\")) {\r\n        $element.attr(\"tabindex\", instance.option(\"tabindex\") || 0)\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}