{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/core/base_widget.utils.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { version } from \"../../core/version\";\nimport { format as _stringFormat } from \"../../core/utils/string\";\nimport warnings from \"./errors_warnings\";\nimport { each } from \"../../core/utils/iterator\";\nimport _windowResizeCallbacks from \"../../core/utils/resize_callbacks\";\nimport resizeObserverSingleton from \"../../core/resize_observer\";\nimport { normalizeEnum } from \"./utils\";\nvar ERROR_MESSAGES = warnings.ERROR_MESSAGES;\nexport function createEventTrigger(eventsMap, callbackGetter) {\n  var triggers = {};\n  each(eventsMap, function (name, info) {\n    if (info.name) {\n      createEvent(name);\n    }\n  });\n  var changes;\n\n  triggerEvent.change = function (name) {\n    var eventInfo = eventsMap[name];\n\n    if (eventInfo) {\n      (changes = changes || {})[name] = eventInfo;\n    }\n\n    return !!eventInfo;\n  };\n\n  triggerEvent.applyChanges = function () {\n    if (changes) {\n      each(changes, function (name, eventInfo) {\n        createEvent(eventInfo.newName || name);\n      });\n      changes = null;\n    }\n  };\n\n  triggerEvent.dispose = function () {\n    eventsMap = callbackGetter = triggers = null;\n  };\n\n  return triggerEvent;\n\n  function createEvent(name) {\n    var eventInfo = eventsMap[name];\n    triggers[eventInfo.name] = callbackGetter(name, eventInfo.actionSettings);\n  }\n\n  function triggerEvent(name, arg, complete) {\n    triggers[name](arg);\n    complete && complete();\n  }\n}\nexport var createIncidentOccurred = function (widgetName, eventTrigger) {\n  return function (id, args) {\n    eventTrigger(\"incidentOccurred\", {\n      target: {\n        id: id,\n        type: \"E\" === id[0] ? \"error\" : \"warning\",\n        args: args,\n        text: _stringFormat.apply(null, [ERROR_MESSAGES[id]].concat(args || [])),\n        widget: widgetName,\n        version: version\n      }\n    });\n  };\n};\n\nfunction getResizeManager(resizeCallback) {\n  return (observe, unsubscribe) => {\n    var {\n      handler: handler,\n      dispose: dispose\n    } = createDeferredHandler(resizeCallback, unsubscribe);\n    observe(handler);\n    return dispose;\n  };\n}\n\nfunction createDeferredHandler(callback, unsubscribe) {\n  var timeout;\n\n  var handler = function () {\n    clearTimeout(timeout);\n    timeout = setTimeout(callback, 100);\n  };\n\n  return {\n    handler: handler,\n\n    dispose() {\n      clearTimeout(timeout);\n      unsubscribe(handler);\n    }\n\n  };\n}\n\nexport function createResizeHandler(contentElement, redrawOnResize, resize) {\n  var disposeHandler;\n  var resizeManager = getResizeManager(resize);\n\n  if (\"windowonly\" === normalizeEnum(redrawOnResize)) {\n    disposeHandler = resizeManager(handler => _windowResizeCallbacks.add(handler), handler => _windowResizeCallbacks.remove(handler));\n  } else if (true === redrawOnResize) {\n    disposeHandler = resizeManager(handler => resizeObserverSingleton.observe(contentElement, handler), () => resizeObserverSingleton.unobserve(contentElement));\n  }\n\n  return disposeHandler;\n}","map":{"version":3,"names":["version","format","_stringFormat","warnings","each","_windowResizeCallbacks","resizeObserverSingleton","normalizeEnum","ERROR_MESSAGES","createEventTrigger","eventsMap","callbackGetter","triggers","name","info","createEvent","changes","triggerEvent","change","eventInfo","applyChanges","newName","dispose","actionSettings","arg","complete","createIncidentOccurred","widgetName","eventTrigger","id","args","target","type","text","apply","concat","widget","getResizeManager","resizeCallback","observe","unsubscribe","handler","createDeferredHandler","callback","timeout","clearTimeout","setTimeout","createResizeHandler","contentElement","redrawOnResize","resize","disposeHandler","resizeManager","add","remove","unobserve"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/viz/core/base_widget.utils.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/core/base_widget.utils.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    version\r\n} from \"../../core/version\";\r\nimport {\r\n    format as _stringFormat\r\n} from \"../../core/utils/string\";\r\nimport warnings from \"./errors_warnings\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport _windowResizeCallbacks from \"../../core/utils/resize_callbacks\";\r\nimport resizeObserverSingleton from \"../../core/resize_observer\";\r\nimport {\r\n    normalizeEnum\r\n} from \"./utils\";\r\nvar ERROR_MESSAGES = warnings.ERROR_MESSAGES;\r\nexport function createEventTrigger(eventsMap, callbackGetter) {\r\n    var triggers = {};\r\n    each(eventsMap, (function(name, info) {\r\n        if (info.name) {\r\n            createEvent(name)\r\n        }\r\n    }));\r\n    var changes;\r\n    triggerEvent.change = function(name) {\r\n        var eventInfo = eventsMap[name];\r\n        if (eventInfo) {\r\n            (changes = changes || {})[name] = eventInfo\r\n        }\r\n        return !!eventInfo\r\n    };\r\n    triggerEvent.applyChanges = function() {\r\n        if (changes) {\r\n            each(changes, (function(name, eventInfo) {\r\n                createEvent(eventInfo.newName || name)\r\n            }));\r\n            changes = null\r\n        }\r\n    };\r\n    triggerEvent.dispose = function() {\r\n        eventsMap = callbackGetter = triggers = null\r\n    };\r\n    return triggerEvent;\r\n\r\n    function createEvent(name) {\r\n        var eventInfo = eventsMap[name];\r\n        triggers[eventInfo.name] = callbackGetter(name, eventInfo.actionSettings)\r\n    }\r\n\r\n    function triggerEvent(name, arg, complete) {\r\n        triggers[name](arg);\r\n        complete && complete()\r\n    }\r\n}\r\nexport var createIncidentOccurred = function(widgetName, eventTrigger) {\r\n    return function(id, args) {\r\n        eventTrigger(\"incidentOccurred\", {\r\n            target: {\r\n                id: id,\r\n                type: \"E\" === id[0] ? \"error\" : \"warning\",\r\n                args: args,\r\n                text: _stringFormat.apply(null, [ERROR_MESSAGES[id]].concat(args || [])),\r\n                widget: widgetName,\r\n                version: version\r\n            }\r\n        })\r\n    }\r\n};\r\n\r\nfunction getResizeManager(resizeCallback) {\r\n    return (observe, unsubscribe) => {\r\n        var {\r\n            handler: handler,\r\n            dispose: dispose\r\n        } = createDeferredHandler(resizeCallback, unsubscribe);\r\n        observe(handler);\r\n        return dispose\r\n    }\r\n}\r\n\r\nfunction createDeferredHandler(callback, unsubscribe) {\r\n    var timeout;\r\n    var handler = function() {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(callback, 100)\r\n    };\r\n    return {\r\n        handler: handler,\r\n        dispose() {\r\n            clearTimeout(timeout);\r\n            unsubscribe(handler)\r\n        }\r\n    }\r\n}\r\nexport function createResizeHandler(contentElement, redrawOnResize, resize) {\r\n    var disposeHandler;\r\n    var resizeManager = getResizeManager(resize);\r\n    if (\"windowonly\" === normalizeEnum(redrawOnResize)) {\r\n        disposeHandler = resizeManager(handler => _windowResizeCallbacks.add(handler), handler => _windowResizeCallbacks.remove(handler))\r\n    } else if (true === redrawOnResize) {\r\n        disposeHandler = resizeManager(handler => resizeObserverSingleton.observe(contentElement, handler), () => resizeObserverSingleton.unobserve(contentElement))\r\n    }\r\n    return disposeHandler\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}