{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/gallery.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getOuterWidth, setOuterWidth, getOuterHeight, getWidth } from \"../core/utils/size\";\nimport $ from \"../core/renderer\";\nimport eventsEngine from \"../events/core/events_engine\";\nimport registerComponent from \"../core/component_registrator\";\nimport { noop } from \"../core/utils/common\";\nimport { isDefined, isPlainObject } from \"../core/utils/type\";\nimport { hasWindow } from \"../core/utils/window\";\nimport { extend } from \"../core/utils/extend\";\nimport { getPublicElement } from \"../core/element\";\nimport fx from \"../animation/fx\";\nimport { name as clickEventName } from \"../events/click\";\nimport { move } from \"../animation/translator\";\nimport devices from \"../core/devices\";\nimport Widget from \"./widget/ui.widget\";\nimport { addNamespace } from \"../events/utils/index\";\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\nimport Swipeable from \"../events/gesture/swipeable\";\nimport { BindableTemplate } from \"../core/templates/bindable_template\";\nimport { Deferred } from \"../core/utils/deferred\";\nimport { triggerResizeEvent } from \"../events/visibility_change\";\nvar GALLERY_CLASS = \"dx-gallery\";\nvar GALLERY_WRAPPER_CLASS = GALLERY_CLASS + \"-wrapper\";\nvar GALLERY_LOOP_CLASS = \"dx-gallery-loop\";\nvar GALLERY_ITEM_CONTAINER_CLASS = GALLERY_CLASS + \"-container\";\nvar GALLERY_ACTIVE_CLASS = GALLERY_CLASS + \"-active\";\nvar GALLERY_ITEM_CLASS = GALLERY_CLASS + \"-item\";\nvar GALLERY_INVISIBLE_ITEM_CLASS = GALLERY_CLASS + \"-item-invisible\";\nvar GALLERY_LOOP_ITEM_CLASS = GALLERY_ITEM_CLASS + \"-loop\";\nvar GALLERY_ITEM_SELECTOR = \".\" + GALLERY_ITEM_CLASS;\nvar GALLERY_ITEM_SELECTED_CLASS = GALLERY_ITEM_CLASS + \"-selected\";\nvar GALLERY_INDICATOR_CLASS = GALLERY_CLASS + \"-indicator\";\nvar GALLERY_INDICATOR_ITEM_CLASS = GALLERY_INDICATOR_CLASS + \"-item\";\nvar GALLERY_INDICATOR_ITEM_SELECTOR = \".\" + GALLERY_INDICATOR_ITEM_CLASS;\nvar GALLERY_INDICATOR_ITEM_SELECTED_CLASS = GALLERY_INDICATOR_ITEM_CLASS + \"-selected\";\nvar GALLERY_IMAGE_CLASS = \"dx-gallery-item-image\";\nvar GALLERY_ITEM_DATA_KEY = \"dxGalleryItemData\";\nvar MAX_CALC_ERROR = 1;\nvar GalleryNavButton = Widget.inherit({\n  _supportedKeys: function () {\n    return extend(this.callBase(), {\n      pageUp: noop,\n      pageDown: noop\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      direction: \"next\",\n      onClick: null,\n      hoverStateEnabled: true,\n      activeStateEnabled: true\n    });\n  },\n  _render: function () {\n    this.callBase();\n    var that = this;\n    var $element = this.$element();\n    var eventName = addNamespace(clickEventName, this.NAME);\n    $element.addClass(GALLERY_CLASS + \"-nav-button-\" + this.option(\"direction\"));\n    eventsEngine.off($element, eventName);\n    eventsEngine.on($element, eventName, function (e) {\n      that._createActionByOption(\"onClick\")({\n        event: e\n      });\n    });\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"onClick\":\n      case \"direction\":\n        this._invalidate();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nvar Gallery = CollectionWidget.inherit({\n  _activeStateUnit: GALLERY_ITEM_SELECTOR,\n  _wasAnyItemTemplateRendered: false,\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      activeStateEnabled: false,\n      animationDuration: 400,\n      animationEnabled: true,\n      loop: false,\n      swipeEnabled: true,\n      indicatorEnabled: true,\n      showIndicator: true,\n      selectedIndex: 0,\n      slideshowDelay: 0,\n      showNavButtons: false,\n      wrapAround: false,\n      initialItemWidth: void 0,\n      stretchImages: false,\n      _itemAttributes: {\n        role: \"option\"\n      },\n      loopItemFocus: false,\n      selectOnFocus: true,\n      selectionMode: \"single\",\n      selectionRequired: true,\n      selectionByClick: false\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }]);\n  },\n  _init: function () {\n    this.callBase();\n    this.option(\"loopItemFocus\", this.option(\"loop\"));\n  },\n  _initTemplates: function () {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      item: new BindableTemplate(function ($container, data) {\n        var $img = $(\"<img>\").addClass(GALLERY_IMAGE_CLASS);\n\n        if (isPlainObject(data)) {\n          this._prepareDefaultItemTemplate(data, $container);\n\n          $img.attr({\n            src: data.imageSrc,\n            alt: data.imageAlt\n          }).appendTo($container);\n        } else {\n          $img.attr(\"src\", String(data)).appendTo($container);\n        }\n      }.bind(this), [\"imageSrc\", \"imageAlt\", \"text\", \"html\"], this.option(\"integrationOptions.watchMethod\"))\n    });\n  },\n  _dataSourceOptions: function () {\n    return {\n      paginate: false\n    };\n  },\n  _itemContainer: function () {\n    return this._$container;\n  },\n  _itemClass: function () {\n    return GALLERY_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return GALLERY_ITEM_DATA_KEY;\n  },\n  _actualItemWidth: function () {\n    var isWrapAround = this.option(\"wrapAround\");\n\n    if (this.option(\"stretchImages\")) {\n      var itemPerPage = isWrapAround ? this._itemsPerPage() + 1 : this._itemsPerPage();\n      return 1 / itemPerPage;\n    }\n\n    if (isWrapAround) {\n      return this._itemPercentWidth() * this._itemsPerPage() / (this._itemsPerPage() + 1);\n    }\n\n    return this._itemPercentWidth();\n  },\n  _itemPercentWidth: function () {\n    var percentWidth;\n    var elementWidth = getOuterWidth(this.$element());\n    var initialItemWidth = this.option(\"initialItemWidth\");\n\n    if (initialItemWidth && initialItemWidth <= elementWidth) {\n      percentWidth = initialItemWidth / elementWidth;\n    } else {\n      percentWidth = 1;\n    }\n\n    return percentWidth;\n  },\n  _itemsPerPage: function () {\n    var itemsPerPage = hasWindow() ? Math.floor(1 / this._itemPercentWidth()) : 1;\n    return Math.min(itemsPerPage, this._itemsCount());\n  },\n  _pagesCount: function () {\n    return Math.ceil(this._itemsCount() / this._itemsPerPage());\n  },\n  _itemsCount: function () {\n    return (this.option(\"items\") || []).length;\n  },\n  _offsetDirection: function () {\n    return this.option(\"rtlEnabled\") ? -1 : 1;\n  },\n  _initMarkup: function () {\n    this._renderWrapper();\n\n    this._renderItemsContainer();\n\n    this.$element().addClass(GALLERY_CLASS);\n    this.$element().toggleClass(GALLERY_LOOP_CLASS, this.option(\"loop\"));\n    this.callBase();\n    this.setAria({\n      role: \"listbox\",\n      label: \"gallery\"\n    });\n  },\n  _render: function () {\n    this._renderDragHandler();\n\n    this._renderContainerPosition();\n\n    this._renderItemSizes();\n\n    this._renderItemPositions();\n\n    this._renderNavButtons();\n\n    this._renderIndicator();\n\n    this._renderSelectedItem();\n\n    this._renderItemVisibility();\n\n    this._renderUserInteraction();\n\n    this._setupSlideShow();\n\n    this._reviseDimensions();\n\n    this.callBase();\n  },\n  _dimensionChanged: function () {\n    var selectedIndex = this.option(\"selectedIndex\") || 0;\n\n    this._stopItemAnimations();\n\n    this._clearCacheWidth();\n\n    this._cloneDuplicateItems();\n\n    this._renderItemSizes();\n\n    this._renderItemPositions();\n\n    this._renderIndicator();\n\n    this._renderContainerPosition(this._calculateIndexOffset(selectedIndex), true);\n\n    this._renderItemVisibility();\n  },\n  _renderDragHandler: function () {\n    var eventName = addNamespace(\"dragstart\", this.NAME);\n    eventsEngine.off(this.$element(), eventName);\n    eventsEngine.on(this.$element(), eventName, \"img\", function () {\n      return false;\n    });\n  },\n  _renderWrapper: function () {\n    if (this._$wrapper) {\n      return;\n    }\n\n    this._$wrapper = $(\"<div>\").addClass(GALLERY_WRAPPER_CLASS).appendTo(this.$element());\n  },\n  _renderItems: function (items) {\n    if (!hasWindow()) {\n      var selectedIndex = this.option(\"selectedIndex\");\n      items = items.length > selectedIndex ? items.slice(selectedIndex, selectedIndex + 1) : items.slice(0, 1);\n    }\n\n    this.callBase(items);\n\n    this._loadNextPageIfNeeded();\n  },\n\n  _onItemTemplateRendered() {\n    return () => {\n      if (!this._wasAnyItemTemplateRendered) {\n        this._wasAnyItemTemplateRendered = true;\n        triggerResizeEvent(this.$element());\n      }\n    };\n  },\n\n  _renderItemsContainer: function () {\n    if (this._$container) {\n      return;\n    }\n\n    this._$container = $(\"<div>\").addClass(GALLERY_ITEM_CONTAINER_CLASS).appendTo(this._$wrapper);\n  },\n  _cloneDuplicateItems: function () {\n    if (!this.option(\"loop\")) {\n      return;\n    }\n\n    var items = this.option(\"items\") || [];\n    var itemsCount = items.length;\n    var lastItemIndex = itemsCount - 1;\n    var i;\n\n    if (!itemsCount) {\n      return;\n    }\n\n    this._getLoopedItems().remove();\n\n    var duplicateCount = Math.min(this._itemsPerPage(), itemsCount);\n\n    var $items = this._getRealItems();\n\n    var $container = this._itemContainer();\n\n    for (i = 0; i < duplicateCount; i++) {\n      this._cloneItemForDuplicate($items[i], $container);\n    }\n\n    for (i = 0; i < duplicateCount; i++) {\n      this._cloneItemForDuplicate($items[lastItemIndex - i], $container);\n    }\n  },\n  _cloneItemForDuplicate: function (item, $container) {\n    if (item) {\n      $(item).clone(false).addClass(GALLERY_LOOP_ITEM_CLASS).css(\"margin\", 0).appendTo($container);\n    }\n  },\n  _getRealItems: function () {\n    var selector = \".\" + GALLERY_ITEM_CLASS + \":not(.\" + GALLERY_LOOP_ITEM_CLASS + \")\";\n    return this.$element().find(selector);\n  },\n  _getLoopedItems: function () {\n    return this.$element().find(\".\" + GALLERY_LOOP_ITEM_CLASS);\n  },\n  _emptyMessageContainer: function () {\n    return this._$wrapper;\n  },\n  _renderItemSizes: function (startIndex) {\n    var $items = this._itemElements();\n\n    var itemWidth = this._actualItemWidth();\n\n    if (void 0 !== startIndex) {\n      $items = $items.slice(startIndex);\n    }\n\n    $items.each(function (index) {\n      setOuterWidth($($items[index]), 100 * itemWidth + \"%\");\n    });\n  },\n  _renderItemPositions: function () {\n    var itemWidth = this._actualItemWidth();\n\n    var itemsCount = this._itemsCount();\n\n    var itemsPerPage = this._itemsPerPage();\n\n    var loopItemsCount = this.$element().find(\".\" + GALLERY_LOOP_ITEM_CLASS).length;\n    var lastItemDuplicateIndex = itemsCount + loopItemsCount - 1;\n    var offsetRatio = this.option(\"wrapAround\") ? .5 : 0;\n\n    var freeSpace = this._itemFreeSpace();\n\n    var isGapBetweenImages = !!freeSpace;\n    var rtlEnabled = this.option(\"rtlEnabled\");\n    var selectedIndex = this.option(\"selectedIndex\");\n    var side = rtlEnabled ? \"Right\" : \"Left\";\n\n    this._itemElements().each(function (index) {\n      var realIndex = index;\n      var isLoopItem = $(this).hasClass(GALLERY_LOOP_ITEM_CLASS);\n\n      if (index > itemsCount + itemsPerPage - 1) {\n        realIndex = lastItemDuplicateIndex - realIndex - itemsPerPage;\n      }\n\n      if (!isLoopItem && 0 !== realIndex) {\n        if (isGapBetweenImages) {\n          $(this).css(\"margin\" + side, 100 * freeSpace + \"%\");\n        }\n\n        return;\n      }\n\n      var itemPosition = itemWidth * (realIndex + offsetRatio) + freeSpace * (realIndex + 1 - offsetRatio);\n      var property = isLoopItem ? side.toLowerCase() : \"margin\" + side;\n      $(this).css(property, 100 * itemPosition + \"%\");\n    });\n\n    this._relocateItems(selectedIndex, selectedIndex, true);\n  },\n  _itemFreeSpace: function () {\n    var itemsPerPage = this._itemsPerPage();\n\n    if (this.option(\"wrapAround\")) {\n      itemsPerPage += 1;\n    }\n\n    return (1 - this._actualItemWidth() * itemsPerPage) / (itemsPerPage + 1);\n  },\n  _renderContainerPosition: function (offset, hideItems, animate) {\n    this._releaseInvisibleItems();\n\n    offset = offset || 0;\n    var that = this;\n\n    var itemWidth = this._actualItemWidth();\n\n    var targetIndex = offset;\n\n    var targetPosition = this._offsetDirection() * targetIndex * (itemWidth + this._itemFreeSpace());\n\n    var positionReady;\n\n    if (isDefined(this._animationOverride)) {\n      animate = this._animationOverride;\n      delete this._animationOverride;\n    }\n\n    if (animate) {\n      that._startSwipe();\n\n      positionReady = that._animate(targetPosition).done(that._endSwipe.bind(that));\n    } else {\n      move(this._$container, {\n        left: targetPosition * this._elementWidth(),\n        top: 0\n      });\n      positionReady = new Deferred().resolveWith(that);\n    }\n\n    positionReady.done(function () {\n      this._deferredAnimate && that._deferredAnimate.resolveWith(that);\n      hideItems && this._renderItemVisibility();\n    });\n    return positionReady.promise();\n  },\n  _startSwipe: function () {\n    this.$element().addClass(GALLERY_ACTIVE_CLASS);\n  },\n  _endSwipe: function () {\n    this.$element().removeClass(GALLERY_ACTIVE_CLASS);\n  },\n  _animate: function (targetPosition, extraConfig) {\n    var that = this;\n    var $container = this._$container;\n    var animationComplete = new Deferred();\n    fx.animate(this._$container, extend({\n      type: \"slide\",\n      to: {\n        left: targetPosition * this._elementWidth()\n      },\n      duration: that.option(\"animationDuration\"),\n      complete: function () {\n        if (that._needMoveContainerForward()) {\n          move($container, {\n            left: 0,\n            top: 0\n          });\n        }\n\n        if (that._needMoveContainerBack()) {\n          move($container, {\n            left: that._maxContainerOffset() * that._elementWidth(),\n            top: 0\n          });\n        }\n\n        animationComplete.resolveWith(that);\n      }\n    }, extraConfig || {}));\n    return animationComplete;\n  },\n  _needMoveContainerForward: function () {\n    var expectedPosition = this._$container.position().left * this._offsetDirection();\n\n    var actualPosition = -this._maxItemWidth() * this._elementWidth() * this._itemsCount();\n\n    return expectedPosition <= actualPosition + MAX_CALC_ERROR;\n  },\n  _needMoveContainerBack: function () {\n    var expectedPosition = this._$container.position().left * this._offsetDirection();\n\n    var actualPosition = this._actualItemWidth() * this._elementWidth();\n\n    return expectedPosition >= actualPosition - MAX_CALC_ERROR;\n  },\n  _maxContainerOffset: function () {\n    return -this._maxItemWidth() * (this._itemsCount() - this._itemsPerPage()) * this._offsetDirection();\n  },\n  _maxItemWidth: function () {\n    return this._actualItemWidth() + this._itemFreeSpace();\n  },\n  _reviseDimensions: function () {\n    var $firstItem = this._itemElements().first().find(\".dx-item-content\");\n\n    if (!$firstItem || $firstItem.is(\":hidden\")) {\n      return;\n    }\n\n    if (!this.option(\"height\")) {\n      this.option(\"height\", getOuterHeight($firstItem));\n    }\n\n    if (!this.option(\"width\")) {\n      this.option(\"width\", getOuterWidth($firstItem));\n    }\n\n    this._dimensionChanged();\n  },\n  _renderIndicator: function () {\n    this._cleanIndicators();\n\n    if (!this.option(\"showIndicator\")) {\n      return;\n    }\n\n    var indicator = this._$indicator = $(\"<div>\").addClass(GALLERY_INDICATOR_CLASS).appendTo(this._$wrapper);\n    var isIndicatorEnabled = this.option(\"indicatorEnabled\");\n\n    for (var i = 0; i < this._pagesCount(); i++) {\n      var $indicatorItem = $(\"<div>\").addClass(GALLERY_INDICATOR_ITEM_CLASS).appendTo(indicator);\n\n      if (isIndicatorEnabled) {\n        this._attachIndicatorClickHandler($indicatorItem, i);\n      }\n    }\n\n    this._renderSelectedPageIndicator();\n  },\n  _attachIndicatorClickHandler: function ($element, index) {\n    eventsEngine.on($element, addNamespace(clickEventName, this.NAME), function (event) {\n      this._indicatorSelectHandler(event, index);\n    }.bind(this));\n  },\n  _detachIndicatorClickHandler: function ($element) {\n    eventsEngine.off($element, addNamespace(clickEventName, this.NAME));\n  },\n  _toggleIndicatorInteraction: function (clickEnabled) {\n    var _this$_$indicator;\n\n    var $indicatorItems = (null === (_this$_$indicator = this._$indicator) || void 0 === _this$_$indicator ? void 0 : _this$_$indicator.find(GALLERY_INDICATOR_ITEM_SELECTOR)) || [];\n\n    if ($indicatorItems.length) {\n      $indicatorItems.each(function (index, element) {\n        clickEnabled ? this._attachIndicatorClickHandler($(element), index) : this._detachIndicatorClickHandler($(element));\n      }.bind(this));\n    }\n  },\n  _cleanIndicators: function () {\n    if (this._$indicator) {\n      this._$indicator.remove();\n    }\n  },\n  _renderSelectedItem: function () {\n    var selectedIndex = this.option(\"selectedIndex\");\n\n    this._itemElements().removeClass(GALLERY_ITEM_SELECTED_CLASS).eq(selectedIndex).addClass(GALLERY_ITEM_SELECTED_CLASS);\n  },\n  _renderItemVisibility: function () {\n    if (this.option(\"initialItemWidth\") || this.option(\"wrapAround\")) {\n      this._releaseInvisibleItems();\n\n      return;\n    }\n\n    this._itemElements().each(function (index, item) {\n      if (this.option(\"selectedIndex\") === index) {\n        $(item).removeClass(GALLERY_INVISIBLE_ITEM_CLASS);\n      } else {\n        $(item).addClass(GALLERY_INVISIBLE_ITEM_CLASS);\n      }\n    }.bind(this));\n\n    this._getLoopedItems().addClass(GALLERY_INVISIBLE_ITEM_CLASS);\n  },\n  _releaseInvisibleItems: function () {\n    this._itemElements().removeClass(GALLERY_INVISIBLE_ITEM_CLASS);\n\n    this._getLoopedItems().removeClass(GALLERY_INVISIBLE_ITEM_CLASS);\n  },\n  _renderSelectedPageIndicator: function () {\n    if (!this._$indicator) {\n      return;\n    }\n\n    var itemIndex = this.option(\"selectedIndex\");\n    var lastIndex = this._pagesCount() - 1;\n    var pageIndex = Math.ceil(itemIndex / this._itemsPerPage());\n    pageIndex = Math.min(lastIndex, pageIndex);\n\n    this._$indicator.find(GALLERY_INDICATOR_ITEM_SELECTOR).removeClass(GALLERY_INDICATOR_ITEM_SELECTED_CLASS).eq(pageIndex).addClass(GALLERY_INDICATOR_ITEM_SELECTED_CLASS);\n  },\n  _renderUserInteraction: function () {\n    var rootElement = this.$element();\n    var swipeEnabled = this.option(\"swipeEnabled\") && this._itemsCount() > 1;\n\n    this._createComponent(rootElement, Swipeable, {\n      disabled: this.option(\"disabled\") || !swipeEnabled,\n      onStart: this._swipeStartHandler.bind(this),\n      onUpdated: this._swipeUpdateHandler.bind(this),\n      onEnd: this._swipeEndHandler.bind(this),\n      itemSizeFunc: this._elementWidth.bind(this)\n    });\n  },\n  _indicatorSelectHandler: function (e, indicatorIndex) {\n    if (!this.option(\"indicatorEnabled\")) {\n      return;\n    }\n\n    var itemIndex = this._fitPaginatedIndex(indicatorIndex * this._itemsPerPage());\n\n    this._needLongMove = true;\n    this.option(\"selectedIndex\", itemIndex);\n\n    this._loadNextPageIfNeeded(itemIndex);\n  },\n  _renderNavButtons: function () {\n    var that = this;\n\n    if (!that.option(\"showNavButtons\")) {\n      that._cleanNavButtons();\n\n      return;\n    }\n\n    that._prevNavButton = $(\"<div>\").appendTo(this._$wrapper);\n\n    that._createComponent(that._prevNavButton, GalleryNavButton, {\n      direction: \"prev\",\n      onClick: function () {\n        that._prevPage();\n      }\n    });\n\n    that._nextNavButton = $(\"<div>\").appendTo(this._$wrapper);\n\n    that._createComponent(that._nextNavButton, GalleryNavButton, {\n      direction: \"next\",\n      onClick: function () {\n        that._nextPage();\n      }\n    });\n\n    this._renderNavButtonsVisibility();\n  },\n  _prevPage: function () {\n    var visiblePageSize = this._itemsPerPage();\n\n    var newSelectedIndex = this.option(\"selectedIndex\") - visiblePageSize;\n\n    if (newSelectedIndex === -visiblePageSize && visiblePageSize === this._itemsCount()) {\n      return this._relocateItems(newSelectedIndex, 0);\n    } else {\n      return this.goToItem(this._fitPaginatedIndex(newSelectedIndex));\n    }\n  },\n  _nextPage: function () {\n    var visiblePageSize = this._itemsPerPage();\n\n    var newSelectedIndex = this.option(\"selectedIndex\") + visiblePageSize;\n\n    if (newSelectedIndex === visiblePageSize && visiblePageSize === this._itemsCount()) {\n      return this._relocateItems(newSelectedIndex, 0);\n    } else {\n      return this.goToItem(this._fitPaginatedIndex(newSelectedIndex)).done(this._loadNextPageIfNeeded);\n    }\n  },\n  _loadNextPageIfNeeded: function (selectedIndex) {\n    selectedIndex = void 0 === selectedIndex ? this.option(\"selectedIndex\") : selectedIndex;\n\n    if (this._dataSource && this._dataSource.paginate() && this._shouldLoadNextPage(selectedIndex) && !this._isDataSourceLoading() && !this._isLastPage()) {\n      this._loadNextPage().done(function () {\n        this._renderIndicator();\n\n        this._cloneDuplicateItems();\n\n        this._renderItemPositions();\n\n        this._renderNavButtonsVisibility();\n\n        this._renderItemSizes(selectedIndex);\n      }.bind(this));\n    }\n  },\n  _shouldLoadNextPage: function (selectedIndex) {\n    var visiblePageSize = this._itemsPerPage();\n\n    return selectedIndex + 2 * visiblePageSize > this.option(\"items\").length;\n  },\n  _allowDynamicItemsAppend: function () {\n    return true;\n  },\n  _fitPaginatedIndex: function (itemIndex) {\n    var itemsPerPage = this._itemsPerPage();\n\n    var restItemsCount = itemIndex < 0 ? itemsPerPage + itemIndex : this._itemsCount() - itemIndex;\n\n    if (itemIndex > this._itemsCount() - 1) {\n      itemIndex = 0;\n      this._goToGhostItem = true;\n    } else if (restItemsCount < itemsPerPage && restItemsCount > 0) {\n      if (itemIndex > 0) {\n        itemIndex -= itemsPerPage - restItemsCount;\n      } else {\n        itemIndex += itemsPerPage - restItemsCount;\n      }\n    }\n\n    return itemIndex;\n  },\n  _cleanNavButtons: function () {\n    if (this._prevNavButton) {\n      this._prevNavButton.remove();\n\n      delete this._prevNavButton;\n    }\n\n    if (this._nextNavButton) {\n      this._nextNavButton.remove();\n\n      delete this._nextNavButton;\n    }\n  },\n  _renderNavButtonsVisibility: function () {\n    if (!this.option(\"showNavButtons\") || !this._prevNavButton || !this._nextNavButton) {\n      return;\n    }\n\n    var selectedIndex = this.option(\"selectedIndex\");\n    var loop = this.option(\"loop\");\n\n    var itemsCount = this._itemsCount();\n\n    this._prevNavButton.show();\n\n    this._nextNavButton.show();\n\n    if (0 === itemsCount) {\n      this._prevNavButton.hide();\n\n      this._nextNavButton.hide();\n    }\n\n    if (loop) {\n      return;\n    }\n\n    var nextHidden = selectedIndex === itemsCount - this._itemsPerPage();\n\n    var prevHidden = itemsCount < 2 || 0 === selectedIndex;\n\n    if (this._dataSource && this._dataSource.paginate()) {\n      nextHidden = nextHidden && this._isLastPage();\n    } else {\n      nextHidden = nextHidden || itemsCount < 2;\n    }\n\n    if (prevHidden) {\n      this._prevNavButton.hide();\n    }\n\n    if (nextHidden) {\n      this._nextNavButton.hide();\n    }\n  },\n  _setupSlideShow: function () {\n    var that = this;\n    var slideshowDelay = that.option(\"slideshowDelay\");\n    clearTimeout(that._slideshowTimer);\n\n    if (!slideshowDelay) {\n      return;\n    }\n\n    that._slideshowTimer = setTimeout(function () {\n      if (that._userInteraction) {\n        that._setupSlideShow();\n\n        return;\n      }\n\n      that.nextItem(true).done(that._setupSlideShow);\n    }, slideshowDelay);\n  },\n  _elementWidth: function () {\n    if (!this._cacheElementWidth) {\n      this._cacheElementWidth = getWidth(this.$element());\n    }\n\n    return this._cacheElementWidth;\n  },\n  _clearCacheWidth: function () {\n    delete this._cacheElementWidth;\n  },\n  _swipeStartHandler: function (e) {\n    this._releaseInvisibleItems();\n\n    this._clearCacheWidth();\n\n    this._elementWidth();\n\n    var itemsCount = this._itemsCount();\n\n    if (!itemsCount) {\n      e.event.cancel = true;\n      return;\n    }\n\n    this._stopItemAnimations();\n\n    this._startSwipe();\n\n    this._userInteraction = true;\n\n    if (!this.option(\"loop\")) {\n      var selectedIndex = this.option(\"selectedIndex\");\n\n      var startOffset = itemsCount - selectedIndex - this._itemsPerPage();\n\n      var endOffset = selectedIndex;\n      var rtlEnabled = this.option(\"rtlEnabled\");\n      e.event.maxLeftOffset = rtlEnabled ? endOffset : startOffset;\n      e.event.maxRightOffset = rtlEnabled ? startOffset : endOffset;\n    }\n  },\n  _stopItemAnimations: function () {\n    fx.stop(this._$container, true);\n  },\n  _swipeUpdateHandler: function (e) {\n    var wrapAroundRatio = this.option(\"wrapAround\") ? 1 : 0;\n    var offset = this._offsetDirection() * e.event.offset * (this._itemsPerPage() + wrapAroundRatio) - this.option(\"selectedIndex\");\n\n    if (offset < 0) {\n      this._loadNextPageIfNeeded(Math.ceil(Math.abs(offset)));\n    }\n\n    this._renderContainerPosition(offset);\n  },\n  _swipeEndHandler: function (e) {\n    var targetOffset = e.event.targetOffset * this._offsetDirection() * this._itemsPerPage();\n\n    var selectedIndex = this.option(\"selectedIndex\");\n\n    var newIndex = this._fitIndex(selectedIndex - targetOffset);\n\n    var paginatedIndex = this._fitPaginatedIndex(newIndex);\n\n    if (Math.abs(targetOffset) < this._itemsPerPage()) {\n      this._relocateItems(selectedIndex);\n\n      return;\n    }\n\n    if (this._itemsPerPage() === this._itemsCount()) {\n      if (targetOffset > 0) {\n        this._relocateItems(-targetOffset);\n      } else {\n        this._relocateItems(0);\n      }\n\n      return;\n    }\n\n    this.option(\"selectedIndex\", paginatedIndex);\n  },\n  _setFocusOnSelect: function () {\n    this._userInteraction = true;\n    var selectedItem = this.itemElements().filter(\".\" + GALLERY_ITEM_SELECTED_CLASS);\n    this.option(\"focusedElement\", getPublicElement(selectedItem));\n    this._userInteraction = false;\n  },\n  _flipIndex: function (index) {\n    var itemsCount = this._itemsCount();\n\n    index %= itemsCount;\n\n    if (index > (itemsCount + 1) / 2) {\n      index -= itemsCount;\n    }\n\n    if (index < -(itemsCount - 1) / 2) {\n      index += itemsCount;\n    }\n\n    return index;\n  },\n  _fitIndex: function (index) {\n    if (!this.option(\"loop\")) {\n      return index;\n    }\n\n    var itemsCount = this._itemsCount();\n\n    if (index >= itemsCount || index < 0) {\n      this._goToGhostItem = true;\n    }\n\n    if (index >= itemsCount) {\n      index = itemsCount - index;\n    }\n\n    index %= itemsCount;\n\n    if (index < 0) {\n      index += itemsCount;\n    }\n\n    return index;\n  },\n  _clean: function () {\n    this.callBase();\n\n    this._cleanIndicators();\n\n    this._cleanNavButtons();\n  },\n  _dispose: function () {\n    this._wasAnyItemTemplateRendered = null;\n    clearTimeout(this._slideshowTimer);\n    this.callBase();\n  },\n  _updateSelection: function (addedSelection, removedSelection) {\n    this._stopItemAnimations();\n\n    this._renderNavButtonsVisibility();\n\n    this._renderSelectedItem();\n\n    this._relocateItems(addedSelection[0], removedSelection[0]);\n\n    this._renderSelectedPageIndicator();\n  },\n  _relocateItems: function (newIndex, prevIndex, withoutAnimation) {\n    if (void 0 === prevIndex) {\n      prevIndex = newIndex;\n    }\n\n    var indexOffset = this._calculateIndexOffset(newIndex, prevIndex);\n\n    this._renderContainerPosition(indexOffset, true, this.option(\"animationEnabled\") && !withoutAnimation).done(function () {\n      this._setFocusOnSelect();\n\n      this._userInteraction = false;\n\n      this._setupSlideShow();\n    });\n  },\n  _focusInHandler: function () {\n    if (fx.isAnimating(this._$container) || this._userInteraction) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _focusOutHandler: function () {\n    if (fx.isAnimating(this._$container) || this._userInteraction) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _selectFocusedItem: noop,\n  _moveFocus: function () {\n    this._stopItemAnimations();\n\n    this.callBase.apply(this, arguments);\n    var index = this.itemElements().index($(this.option(\"focusedElement\")));\n    this.goToItem(index, this.option(\"animationEnabled\"));\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this._reviseDimensions();\n    }\n  },\n  _calculateIndexOffset: function (newIndex, lastIndex) {\n    if (void 0 === lastIndex) {\n      lastIndex = newIndex;\n    }\n\n    var indexOffset = lastIndex - newIndex;\n\n    if (this.option(\"loop\") && !this._needLongMove && this._goToGhostItem) {\n      if (this._isItemOnFirstPage(newIndex) && this._isItemOnLastPage(lastIndex)) {\n        indexOffset = -this._itemsPerPage();\n      } else if (this._isItemOnLastPage(newIndex) && this._isItemOnFirstPage(lastIndex)) {\n        indexOffset = this._itemsPerPage();\n      }\n\n      this._goToGhostItem = false;\n    }\n\n    this._needLongMove = false;\n    indexOffset -= lastIndex;\n    return indexOffset;\n  },\n  _isItemOnLastPage: function (itemIndex) {\n    return itemIndex >= this._itemsCount() - this._itemsPerPage();\n  },\n  _isItemOnFirstPage: function (itemIndex) {\n    return itemIndex <= this._itemsPerPage();\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"width\":\n      case \"initialItemWidth\":\n        this.callBase.apply(this, arguments);\n\n        this._dimensionChanged();\n\n        break;\n\n      case \"animationDuration\":\n        this._renderNavButtonsVisibility();\n\n        break;\n\n      case \"animationEnabled\":\n        break;\n\n      case \"loop\":\n        this.$element().toggleClass(GALLERY_LOOP_CLASS, args.value);\n        this.option(\"loopItemFocus\", args.value);\n\n        if (hasWindow()) {\n          this._cloneDuplicateItems();\n\n          this._renderItemPositions();\n\n          this._renderNavButtonsVisibility();\n        }\n\n        break;\n\n      case \"showIndicator\":\n        this._renderIndicator();\n\n        break;\n\n      case \"showNavButtons\":\n        this._renderNavButtons();\n\n        break;\n\n      case \"slideshowDelay\":\n        this._setupSlideShow();\n\n        break;\n\n      case \"wrapAround\":\n      case \"stretchImages\":\n        if (hasWindow()) {\n          this._renderItemSizes();\n\n          this._renderItemPositions();\n\n          this._renderItemVisibility();\n        }\n\n        break;\n\n      case \"swipeEnabled\":\n        this._renderUserInteraction();\n\n        break;\n\n      case \"indicatorEnabled\":\n        this._toggleIndicatorInteraction(args.value);\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  goToItem: function (itemIndex, animation) {\n    var selectedIndex = this.option(\"selectedIndex\");\n\n    var itemsCount = this._itemsCount();\n\n    if (void 0 !== animation) {\n      this._animationOverride = animation;\n    }\n\n    itemIndex = this._fitIndex(itemIndex);\n    this._deferredAnimate = new Deferred();\n\n    if (itemIndex > itemsCount - 1 || itemIndex < 0 || selectedIndex === itemIndex) {\n      return this._deferredAnimate.resolveWith(this).promise();\n    }\n\n    this.option(\"selectedIndex\", itemIndex);\n    return this._deferredAnimate.promise();\n  },\n  prevItem: function (animation) {\n    return this.goToItem(this.option(\"selectedIndex\") - 1, animation);\n  },\n  nextItem: function (animation) {\n    return this.goToItem(this.option(\"selectedIndex\") + 1, animation);\n  }\n});\nregisterComponent(\"dxGallery\", Gallery);\nexport default Gallery;","map":{"version":3,"names":["getOuterWidth","setOuterWidth","getOuterHeight","getWidth","$","eventsEngine","registerComponent","noop","isDefined","isPlainObject","hasWindow","extend","getPublicElement","fx","name","clickEventName","move","devices","Widget","addNamespace","CollectionWidget","Swipeable","BindableTemplate","Deferred","triggerResizeEvent","GALLERY_CLASS","GALLERY_WRAPPER_CLASS","GALLERY_LOOP_CLASS","GALLERY_ITEM_CONTAINER_CLASS","GALLERY_ACTIVE_CLASS","GALLERY_ITEM_CLASS","GALLERY_INVISIBLE_ITEM_CLASS","GALLERY_LOOP_ITEM_CLASS","GALLERY_ITEM_SELECTOR","GALLERY_ITEM_SELECTED_CLASS","GALLERY_INDICATOR_CLASS","GALLERY_INDICATOR_ITEM_CLASS","GALLERY_INDICATOR_ITEM_SELECTOR","GALLERY_INDICATOR_ITEM_SELECTED_CLASS","GALLERY_IMAGE_CLASS","GALLERY_ITEM_DATA_KEY","MAX_CALC_ERROR","GalleryNavButton","inherit","_supportedKeys","callBase","pageUp","pageDown","_getDefaultOptions","direction","onClick","hoverStateEnabled","activeStateEnabled","_render","that","$element","eventName","NAME","addClass","option","off","on","e","_createActionByOption","event","_optionChanged","args","_invalidate","Gallery","_activeStateUnit","_wasAnyItemTemplateRendered","animationDuration","animationEnabled","loop","swipeEnabled","indicatorEnabled","showIndicator","selectedIndex","slideshowDelay","showNavButtons","wrapAround","initialItemWidth","stretchImages","_itemAttributes","role","loopItemFocus","selectOnFocus","selectionMode","selectionRequired","selectionByClick","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_init","_initTemplates","_templateManager","addDefaultTemplates","item","$container","data","$img","_prepareDefaultItemTemplate","attr","src","imageSrc","alt","imageAlt","appendTo","String","bind","_dataSourceOptions","paginate","_itemContainer","_$container","_itemClass","_itemDataKey","_actualItemWidth","isWrapAround","itemPerPage","_itemsPerPage","_itemPercentWidth","percentWidth","elementWidth","itemsPerPage","Math","floor","min","_itemsCount","_pagesCount","ceil","length","_offsetDirection","_initMarkup","_renderWrapper","_renderItemsContainer","toggleClass","setAria","label","_renderDragHandler","_renderContainerPosition","_renderItemSizes","_renderItemPositions","_renderNavButtons","_renderIndicator","_renderSelectedItem","_renderItemVisibility","_renderUserInteraction","_setupSlideShow","_reviseDimensions","_dimensionChanged","_stopItemAnimations","_clearCacheWidth","_cloneDuplicateItems","_calculateIndexOffset","_$wrapper","_renderItems","items","slice","_loadNextPageIfNeeded","_onItemTemplateRendered","itemsCount","lastItemIndex","i","_getLoopedItems","remove","duplicateCount","$items","_getRealItems","_cloneItemForDuplicate","clone","css","selector","find","_emptyMessageContainer","startIndex","_itemElements","itemWidth","each","index","loopItemsCount","lastItemDuplicateIndex","offsetRatio","freeSpace","_itemFreeSpace","isGapBetweenImages","rtlEnabled","side","realIndex","isLoopItem","hasClass","itemPosition","property","toLowerCase","_relocateItems","offset","hideItems","animate","_releaseInvisibleItems","targetIndex","targetPosition","positionReady","_animationOverride","_startSwipe","_animate","done","_endSwipe","left","_elementWidth","top","resolveWith","_deferredAnimate","promise","removeClass","extraConfig","animationComplete","type","to","duration","complete","_needMoveContainerForward","_needMoveContainerBack","_maxContainerOffset","expectedPosition","position","actualPosition","_maxItemWidth","$firstItem","first","is","_cleanIndicators","indicator","_$indicator","isIndicatorEnabled","$indicatorItem","_attachIndicatorClickHandler","_renderSelectedPageIndicator","_indicatorSelectHandler","_detachIndicatorClickHandler","_toggleIndicatorInteraction","clickEnabled","_this$_$indicator","$indicatorItems","element","eq","itemIndex","lastIndex","pageIndex","rootElement","_createComponent","disabled","onStart","_swipeStartHandler","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","itemSizeFunc","indicatorIndex","_fitPaginatedIndex","_needLongMove","_cleanNavButtons","_prevNavButton","_prevPage","_nextNavButton","_nextPage","_renderNavButtonsVisibility","visiblePageSize","newSelectedIndex","goToItem","_dataSource","_shouldLoadNextPage","_isDataSourceLoading","_isLastPage","_loadNextPage","_allowDynamicItemsAppend","restItemsCount","_goToGhostItem","show","hide","nextHidden","prevHidden","clearTimeout","_slideshowTimer","setTimeout","_userInteraction","nextItem","_cacheElementWidth","cancel","startOffset","endOffset","maxLeftOffset","maxRightOffset","stop","wrapAroundRatio","abs","targetOffset","newIndex","_fitIndex","paginatedIndex","_setFocusOnSelect","selectedItem","itemElements","filter","_flipIndex","_clean","_dispose","_updateSelection","addedSelection","removedSelection","prevIndex","withoutAnimation","indexOffset","_focusInHandler","isAnimating","apply","arguments","_focusOutHandler","_selectFocusedItem","_moveFocus","_visibilityChanged","visible","_isItemOnFirstPage","_isItemOnLastPage","value","animation","prevItem"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/ui/gallery.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/gallery.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    setOuterWidth,\r\n    getOuterHeight,\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport fx from \"../animation/fx\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../events/click\";\r\nimport {\r\n    move\r\n} from \"../animation/translator\";\r\nimport devices from \"../core/devices\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nimport Swipeable from \"../events/gesture/swipeable\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../events/visibility_change\";\r\nvar GALLERY_CLASS = \"dx-gallery\";\r\nvar GALLERY_WRAPPER_CLASS = GALLERY_CLASS + \"-wrapper\";\r\nvar GALLERY_LOOP_CLASS = \"dx-gallery-loop\";\r\nvar GALLERY_ITEM_CONTAINER_CLASS = GALLERY_CLASS + \"-container\";\r\nvar GALLERY_ACTIVE_CLASS = GALLERY_CLASS + \"-active\";\r\nvar GALLERY_ITEM_CLASS = GALLERY_CLASS + \"-item\";\r\nvar GALLERY_INVISIBLE_ITEM_CLASS = GALLERY_CLASS + \"-item-invisible\";\r\nvar GALLERY_LOOP_ITEM_CLASS = GALLERY_ITEM_CLASS + \"-loop\";\r\nvar GALLERY_ITEM_SELECTOR = \".\" + GALLERY_ITEM_CLASS;\r\nvar GALLERY_ITEM_SELECTED_CLASS = GALLERY_ITEM_CLASS + \"-selected\";\r\nvar GALLERY_INDICATOR_CLASS = GALLERY_CLASS + \"-indicator\";\r\nvar GALLERY_INDICATOR_ITEM_CLASS = GALLERY_INDICATOR_CLASS + \"-item\";\r\nvar GALLERY_INDICATOR_ITEM_SELECTOR = \".\" + GALLERY_INDICATOR_ITEM_CLASS;\r\nvar GALLERY_INDICATOR_ITEM_SELECTED_CLASS = GALLERY_INDICATOR_ITEM_CLASS + \"-selected\";\r\nvar GALLERY_IMAGE_CLASS = \"dx-gallery-item-image\";\r\nvar GALLERY_ITEM_DATA_KEY = \"dxGalleryItemData\";\r\nvar MAX_CALC_ERROR = 1;\r\nvar GalleryNavButton = Widget.inherit({\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            direction: \"next\",\r\n            onClick: null,\r\n            hoverStateEnabled: true,\r\n            activeStateEnabled: true\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        var that = this;\r\n        var $element = this.$element();\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        $element.addClass(GALLERY_CLASS + \"-nav-button-\" + this.option(\"direction\"));\r\n        eventsEngine.off($element, eventName);\r\n        eventsEngine.on($element, eventName, (function(e) {\r\n            that._createActionByOption(\"onClick\")({\r\n                event: e\r\n            })\r\n        }))\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onClick\":\r\n            case \"direction\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar Gallery = CollectionWidget.inherit({\r\n    _activeStateUnit: GALLERY_ITEM_SELECTOR,\r\n    _wasAnyItemTemplateRendered: false,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            activeStateEnabled: false,\r\n            animationDuration: 400,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            swipeEnabled: true,\r\n            indicatorEnabled: true,\r\n            showIndicator: true,\r\n            selectedIndex: 0,\r\n            slideshowDelay: 0,\r\n            showNavButtons: false,\r\n            wrapAround: false,\r\n            initialItemWidth: void 0,\r\n            stretchImages: false,\r\n            _itemAttributes: {\r\n                role: \"option\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"))\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, data) {\r\n                var $img = $(\"<img>\").addClass(GALLERY_IMAGE_CLASS);\r\n                if (isPlainObject(data)) {\r\n                    this._prepareDefaultItemTemplate(data, $container);\r\n                    $img.attr({\r\n                        src: data.imageSrc,\r\n                        alt: data.imageAlt\r\n                    }).appendTo($container)\r\n                } else {\r\n                    $img.attr(\"src\", String(data)).appendTo($container)\r\n                }\r\n            }.bind(this), [\"imageSrc\", \"imageAlt\", \"text\", \"html\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _itemClass: function() {\r\n        return GALLERY_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return GALLERY_ITEM_DATA_KEY\r\n    },\r\n    _actualItemWidth: function() {\r\n        var isWrapAround = this.option(\"wrapAround\");\r\n        if (this.option(\"stretchImages\")) {\r\n            var itemPerPage = isWrapAround ? this._itemsPerPage() + 1 : this._itemsPerPage();\r\n            return 1 / itemPerPage\r\n        }\r\n        if (isWrapAround) {\r\n            return this._itemPercentWidth() * this._itemsPerPage() / (this._itemsPerPage() + 1)\r\n        }\r\n        return this._itemPercentWidth()\r\n    },\r\n    _itemPercentWidth: function() {\r\n        var percentWidth;\r\n        var elementWidth = getOuterWidth(this.$element());\r\n        var initialItemWidth = this.option(\"initialItemWidth\");\r\n        if (initialItemWidth && initialItemWidth <= elementWidth) {\r\n            percentWidth = initialItemWidth / elementWidth\r\n        } else {\r\n            percentWidth = 1\r\n        }\r\n        return percentWidth\r\n    },\r\n    _itemsPerPage: function() {\r\n        var itemsPerPage = hasWindow() ? Math.floor(1 / this._itemPercentWidth()) : 1;\r\n        return Math.min(itemsPerPage, this._itemsCount())\r\n    },\r\n    _pagesCount: function() {\r\n        return Math.ceil(this._itemsCount() / this._itemsPerPage())\r\n    },\r\n    _itemsCount: function() {\r\n        return (this.option(\"items\") || []).length\r\n    },\r\n    _offsetDirection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderWrapper();\r\n        this._renderItemsContainer();\r\n        this.$element().addClass(GALLERY_CLASS);\r\n        this.$element().toggleClass(GALLERY_LOOP_CLASS, this.option(\"loop\"));\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"listbox\",\r\n            label: \"gallery\"\r\n        })\r\n    },\r\n    _render: function() {\r\n        this._renderDragHandler();\r\n        this._renderContainerPosition();\r\n        this._renderItemSizes();\r\n        this._renderItemPositions();\r\n        this._renderNavButtons();\r\n        this._renderIndicator();\r\n        this._renderSelectedItem();\r\n        this._renderItemVisibility();\r\n        this._renderUserInteraction();\r\n        this._setupSlideShow();\r\n        this._reviseDimensions();\r\n        this.callBase()\r\n    },\r\n    _dimensionChanged: function() {\r\n        var selectedIndex = this.option(\"selectedIndex\") || 0;\r\n        this._stopItemAnimations();\r\n        this._clearCacheWidth();\r\n        this._cloneDuplicateItems();\r\n        this._renderItemSizes();\r\n        this._renderItemPositions();\r\n        this._renderIndicator();\r\n        this._renderContainerPosition(this._calculateIndexOffset(selectedIndex), true);\r\n        this._renderItemVisibility()\r\n    },\r\n    _renderDragHandler: function() {\r\n        var eventName = addNamespace(\"dragstart\", this.NAME);\r\n        eventsEngine.off(this.$element(), eventName);\r\n        eventsEngine.on(this.$element(), eventName, \"img\", (function() {\r\n            return false\r\n        }))\r\n    },\r\n    _renderWrapper: function() {\r\n        if (this._$wrapper) {\r\n            return\r\n        }\r\n        this._$wrapper = $(\"<div>\").addClass(GALLERY_WRAPPER_CLASS).appendTo(this.$element())\r\n    },\r\n    _renderItems: function(items) {\r\n        if (!hasWindow()) {\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            items = items.length > selectedIndex ? items.slice(selectedIndex, selectedIndex + 1) : items.slice(0, 1)\r\n        }\r\n        this.callBase(items);\r\n        this._loadNextPageIfNeeded()\r\n    },\r\n    _onItemTemplateRendered() {\r\n        return () => {\r\n            if (!this._wasAnyItemTemplateRendered) {\r\n                this._wasAnyItemTemplateRendered = true;\r\n                triggerResizeEvent(this.$element())\r\n            }\r\n        }\r\n    },\r\n    _renderItemsContainer: function() {\r\n        if (this._$container) {\r\n            return\r\n        }\r\n        this._$container = $(\"<div>\").addClass(GALLERY_ITEM_CONTAINER_CLASS).appendTo(this._$wrapper)\r\n    },\r\n    _cloneDuplicateItems: function() {\r\n        if (!this.option(\"loop\")) {\r\n            return\r\n        }\r\n        var items = this.option(\"items\") || [];\r\n        var itemsCount = items.length;\r\n        var lastItemIndex = itemsCount - 1;\r\n        var i;\r\n        if (!itemsCount) {\r\n            return\r\n        }\r\n        this._getLoopedItems().remove();\r\n        var duplicateCount = Math.min(this._itemsPerPage(), itemsCount);\r\n        var $items = this._getRealItems();\r\n        var $container = this._itemContainer();\r\n        for (i = 0; i < duplicateCount; i++) {\r\n            this._cloneItemForDuplicate($items[i], $container)\r\n        }\r\n        for (i = 0; i < duplicateCount; i++) {\r\n            this._cloneItemForDuplicate($items[lastItemIndex - i], $container)\r\n        }\r\n    },\r\n    _cloneItemForDuplicate: function(item, $container) {\r\n        if (item) {\r\n            $(item).clone(false).addClass(GALLERY_LOOP_ITEM_CLASS).css(\"margin\", 0).appendTo($container)\r\n        }\r\n    },\r\n    _getRealItems: function() {\r\n        var selector = \".\" + GALLERY_ITEM_CLASS + \":not(.\" + GALLERY_LOOP_ITEM_CLASS + \")\";\r\n        return this.$element().find(selector)\r\n    },\r\n    _getLoopedItems: function() {\r\n        return this.$element().find(\".\" + GALLERY_LOOP_ITEM_CLASS)\r\n    },\r\n    _emptyMessageContainer: function() {\r\n        return this._$wrapper\r\n    },\r\n    _renderItemSizes: function(startIndex) {\r\n        var $items = this._itemElements();\r\n        var itemWidth = this._actualItemWidth();\r\n        if (void 0 !== startIndex) {\r\n            $items = $items.slice(startIndex)\r\n        }\r\n        $items.each((function(index) {\r\n            setOuterWidth($($items[index]), 100 * itemWidth + \"%\")\r\n        }))\r\n    },\r\n    _renderItemPositions: function() {\r\n        var itemWidth = this._actualItemWidth();\r\n        var itemsCount = this._itemsCount();\r\n        var itemsPerPage = this._itemsPerPage();\r\n        var loopItemsCount = this.$element().find(\".\" + GALLERY_LOOP_ITEM_CLASS).length;\r\n        var lastItemDuplicateIndex = itemsCount + loopItemsCount - 1;\r\n        var offsetRatio = this.option(\"wrapAround\") ? .5 : 0;\r\n        var freeSpace = this._itemFreeSpace();\r\n        var isGapBetweenImages = !!freeSpace;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var side = rtlEnabled ? \"Right\" : \"Left\";\r\n        this._itemElements().each((function(index) {\r\n            var realIndex = index;\r\n            var isLoopItem = $(this).hasClass(GALLERY_LOOP_ITEM_CLASS);\r\n            if (index > itemsCount + itemsPerPage - 1) {\r\n                realIndex = lastItemDuplicateIndex - realIndex - itemsPerPage\r\n            }\r\n            if (!isLoopItem && 0 !== realIndex) {\r\n                if (isGapBetweenImages) {\r\n                    $(this).css(\"margin\" + side, 100 * freeSpace + \"%\")\r\n                }\r\n                return\r\n            }\r\n            var itemPosition = itemWidth * (realIndex + offsetRatio) + freeSpace * (realIndex + 1 - offsetRatio);\r\n            var property = isLoopItem ? side.toLowerCase() : \"margin\" + side;\r\n            $(this).css(property, 100 * itemPosition + \"%\")\r\n        }));\r\n        this._relocateItems(selectedIndex, selectedIndex, true)\r\n    },\r\n    _itemFreeSpace: function() {\r\n        var itemsPerPage = this._itemsPerPage();\r\n        if (this.option(\"wrapAround\")) {\r\n            itemsPerPage += 1\r\n        }\r\n        return (1 - this._actualItemWidth() * itemsPerPage) / (itemsPerPage + 1)\r\n    },\r\n    _renderContainerPosition: function(offset, hideItems, animate) {\r\n        this._releaseInvisibleItems();\r\n        offset = offset || 0;\r\n        var that = this;\r\n        var itemWidth = this._actualItemWidth();\r\n        var targetIndex = offset;\r\n        var targetPosition = this._offsetDirection() * targetIndex * (itemWidth + this._itemFreeSpace());\r\n        var positionReady;\r\n        if (isDefined(this._animationOverride)) {\r\n            animate = this._animationOverride;\r\n            delete this._animationOverride\r\n        }\r\n        if (animate) {\r\n            that._startSwipe();\r\n            positionReady = that._animate(targetPosition).done(that._endSwipe.bind(that))\r\n        } else {\r\n            move(this._$container, {\r\n                left: targetPosition * this._elementWidth(),\r\n                top: 0\r\n            });\r\n            positionReady = (new Deferred).resolveWith(that)\r\n        }\r\n        positionReady.done((function() {\r\n            this._deferredAnimate && that._deferredAnimate.resolveWith(that);\r\n            hideItems && this._renderItemVisibility()\r\n        }));\r\n        return positionReady.promise()\r\n    },\r\n    _startSwipe: function() {\r\n        this.$element().addClass(GALLERY_ACTIVE_CLASS)\r\n    },\r\n    _endSwipe: function() {\r\n        this.$element().removeClass(GALLERY_ACTIVE_CLASS)\r\n    },\r\n    _animate: function(targetPosition, extraConfig) {\r\n        var that = this;\r\n        var $container = this._$container;\r\n        var animationComplete = new Deferred;\r\n        fx.animate(this._$container, extend({\r\n            type: \"slide\",\r\n            to: {\r\n                left: targetPosition * this._elementWidth()\r\n            },\r\n            duration: that.option(\"animationDuration\"),\r\n            complete: function() {\r\n                if (that._needMoveContainerForward()) {\r\n                    move($container, {\r\n                        left: 0,\r\n                        top: 0\r\n                    })\r\n                }\r\n                if (that._needMoveContainerBack()) {\r\n                    move($container, {\r\n                        left: that._maxContainerOffset() * that._elementWidth(),\r\n                        top: 0\r\n                    })\r\n                }\r\n                animationComplete.resolveWith(that)\r\n            }\r\n        }, extraConfig || {}));\r\n        return animationComplete\r\n    },\r\n    _needMoveContainerForward: function() {\r\n        var expectedPosition = this._$container.position().left * this._offsetDirection();\r\n        var actualPosition = -this._maxItemWidth() * this._elementWidth() * this._itemsCount();\r\n        return expectedPosition <= actualPosition + MAX_CALC_ERROR\r\n    },\r\n    _needMoveContainerBack: function() {\r\n        var expectedPosition = this._$container.position().left * this._offsetDirection();\r\n        var actualPosition = this._actualItemWidth() * this._elementWidth();\r\n        return expectedPosition >= actualPosition - MAX_CALC_ERROR\r\n    },\r\n    _maxContainerOffset: function() {\r\n        return -this._maxItemWidth() * (this._itemsCount() - this._itemsPerPage()) * this._offsetDirection()\r\n    },\r\n    _maxItemWidth: function() {\r\n        return this._actualItemWidth() + this._itemFreeSpace()\r\n    },\r\n    _reviseDimensions: function() {\r\n        var $firstItem = this._itemElements().first().find(\".dx-item-content\");\r\n        if (!$firstItem || $firstItem.is(\":hidden\")) {\r\n            return\r\n        }\r\n        if (!this.option(\"height\")) {\r\n            this.option(\"height\", getOuterHeight($firstItem))\r\n        }\r\n        if (!this.option(\"width\")) {\r\n            this.option(\"width\", getOuterWidth($firstItem))\r\n        }\r\n        this._dimensionChanged()\r\n    },\r\n    _renderIndicator: function() {\r\n        this._cleanIndicators();\r\n        if (!this.option(\"showIndicator\")) {\r\n            return\r\n        }\r\n        var indicator = this._$indicator = $(\"<div>\").addClass(GALLERY_INDICATOR_CLASS).appendTo(this._$wrapper);\r\n        var isIndicatorEnabled = this.option(\"indicatorEnabled\");\r\n        for (var i = 0; i < this._pagesCount(); i++) {\r\n            var $indicatorItem = $(\"<div>\").addClass(GALLERY_INDICATOR_ITEM_CLASS).appendTo(indicator);\r\n            if (isIndicatorEnabled) {\r\n                this._attachIndicatorClickHandler($indicatorItem, i)\r\n            }\r\n        }\r\n        this._renderSelectedPageIndicator()\r\n    },\r\n    _attachIndicatorClickHandler: function($element, index) {\r\n        eventsEngine.on($element, addNamespace(clickEventName, this.NAME), function(event) {\r\n            this._indicatorSelectHandler(event, index)\r\n        }.bind(this))\r\n    },\r\n    _detachIndicatorClickHandler: function($element) {\r\n        eventsEngine.off($element, addNamespace(clickEventName, this.NAME))\r\n    },\r\n    _toggleIndicatorInteraction: function(clickEnabled) {\r\n        var _this$_$indicator;\r\n        var $indicatorItems = (null === (_this$_$indicator = this._$indicator) || void 0 === _this$_$indicator ? void 0 : _this$_$indicator.find(GALLERY_INDICATOR_ITEM_SELECTOR)) || [];\r\n        if ($indicatorItems.length) {\r\n            $indicatorItems.each(function(index, element) {\r\n                clickEnabled ? this._attachIndicatorClickHandler($(element), index) : this._detachIndicatorClickHandler($(element))\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _cleanIndicators: function() {\r\n        if (this._$indicator) {\r\n            this._$indicator.remove()\r\n        }\r\n    },\r\n    _renderSelectedItem: function() {\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        this._itemElements().removeClass(GALLERY_ITEM_SELECTED_CLASS).eq(selectedIndex).addClass(GALLERY_ITEM_SELECTED_CLASS)\r\n    },\r\n    _renderItemVisibility: function() {\r\n        if (this.option(\"initialItemWidth\") || this.option(\"wrapAround\")) {\r\n            this._releaseInvisibleItems();\r\n            return\r\n        }\r\n        this._itemElements().each(function(index, item) {\r\n            if (this.option(\"selectedIndex\") === index) {\r\n                $(item).removeClass(GALLERY_INVISIBLE_ITEM_CLASS)\r\n            } else {\r\n                $(item).addClass(GALLERY_INVISIBLE_ITEM_CLASS)\r\n            }\r\n        }.bind(this));\r\n        this._getLoopedItems().addClass(GALLERY_INVISIBLE_ITEM_CLASS)\r\n    },\r\n    _releaseInvisibleItems: function() {\r\n        this._itemElements().removeClass(GALLERY_INVISIBLE_ITEM_CLASS);\r\n        this._getLoopedItems().removeClass(GALLERY_INVISIBLE_ITEM_CLASS)\r\n    },\r\n    _renderSelectedPageIndicator: function() {\r\n        if (!this._$indicator) {\r\n            return\r\n        }\r\n        var itemIndex = this.option(\"selectedIndex\");\r\n        var lastIndex = this._pagesCount() - 1;\r\n        var pageIndex = Math.ceil(itemIndex / this._itemsPerPage());\r\n        pageIndex = Math.min(lastIndex, pageIndex);\r\n        this._$indicator.find(GALLERY_INDICATOR_ITEM_SELECTOR).removeClass(GALLERY_INDICATOR_ITEM_SELECTED_CLASS).eq(pageIndex).addClass(GALLERY_INDICATOR_ITEM_SELECTED_CLASS)\r\n    },\r\n    _renderUserInteraction: function() {\r\n        var rootElement = this.$element();\r\n        var swipeEnabled = this.option(\"swipeEnabled\") && this._itemsCount() > 1;\r\n        this._createComponent(rootElement, Swipeable, {\r\n            disabled: this.option(\"disabled\") || !swipeEnabled,\r\n            onStart: this._swipeStartHandler.bind(this),\r\n            onUpdated: this._swipeUpdateHandler.bind(this),\r\n            onEnd: this._swipeEndHandler.bind(this),\r\n            itemSizeFunc: this._elementWidth.bind(this)\r\n        })\r\n    },\r\n    _indicatorSelectHandler: function(e, indicatorIndex) {\r\n        if (!this.option(\"indicatorEnabled\")) {\r\n            return\r\n        }\r\n        var itemIndex = this._fitPaginatedIndex(indicatorIndex * this._itemsPerPage());\r\n        this._needLongMove = true;\r\n        this.option(\"selectedIndex\", itemIndex);\r\n        this._loadNextPageIfNeeded(itemIndex)\r\n    },\r\n    _renderNavButtons: function() {\r\n        var that = this;\r\n        if (!that.option(\"showNavButtons\")) {\r\n            that._cleanNavButtons();\r\n            return\r\n        }\r\n        that._prevNavButton = $(\"<div>\").appendTo(this._$wrapper);\r\n        that._createComponent(that._prevNavButton, GalleryNavButton, {\r\n            direction: \"prev\",\r\n            onClick: function() {\r\n                that._prevPage()\r\n            }\r\n        });\r\n        that._nextNavButton = $(\"<div>\").appendTo(this._$wrapper);\r\n        that._createComponent(that._nextNavButton, GalleryNavButton, {\r\n            direction: \"next\",\r\n            onClick: function() {\r\n                that._nextPage()\r\n            }\r\n        });\r\n        this._renderNavButtonsVisibility()\r\n    },\r\n    _prevPage: function() {\r\n        var visiblePageSize = this._itemsPerPage();\r\n        var newSelectedIndex = this.option(\"selectedIndex\") - visiblePageSize;\r\n        if (newSelectedIndex === -visiblePageSize && visiblePageSize === this._itemsCount()) {\r\n            return this._relocateItems(newSelectedIndex, 0)\r\n        } else {\r\n            return this.goToItem(this._fitPaginatedIndex(newSelectedIndex))\r\n        }\r\n    },\r\n    _nextPage: function() {\r\n        var visiblePageSize = this._itemsPerPage();\r\n        var newSelectedIndex = this.option(\"selectedIndex\") + visiblePageSize;\r\n        if (newSelectedIndex === visiblePageSize && visiblePageSize === this._itemsCount()) {\r\n            return this._relocateItems(newSelectedIndex, 0)\r\n        } else {\r\n            return this.goToItem(this._fitPaginatedIndex(newSelectedIndex)).done(this._loadNextPageIfNeeded)\r\n        }\r\n    },\r\n    _loadNextPageIfNeeded: function(selectedIndex) {\r\n        selectedIndex = void 0 === selectedIndex ? this.option(\"selectedIndex\") : selectedIndex;\r\n        if (this._dataSource && this._dataSource.paginate() && this._shouldLoadNextPage(selectedIndex) && !this._isDataSourceLoading() && !this._isLastPage()) {\r\n            this._loadNextPage().done(function() {\r\n                this._renderIndicator();\r\n                this._cloneDuplicateItems();\r\n                this._renderItemPositions();\r\n                this._renderNavButtonsVisibility();\r\n                this._renderItemSizes(selectedIndex)\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _shouldLoadNextPage: function(selectedIndex) {\r\n        var visiblePageSize = this._itemsPerPage();\r\n        return selectedIndex + 2 * visiblePageSize > this.option(\"items\").length\r\n    },\r\n    _allowDynamicItemsAppend: function() {\r\n        return true\r\n    },\r\n    _fitPaginatedIndex: function(itemIndex) {\r\n        var itemsPerPage = this._itemsPerPage();\r\n        var restItemsCount = itemIndex < 0 ? itemsPerPage + itemIndex : this._itemsCount() - itemIndex;\r\n        if (itemIndex > this._itemsCount() - 1) {\r\n            itemIndex = 0;\r\n            this._goToGhostItem = true\r\n        } else if (restItemsCount < itemsPerPage && restItemsCount > 0) {\r\n            if (itemIndex > 0) {\r\n                itemIndex -= itemsPerPage - restItemsCount\r\n            } else {\r\n                itemIndex += itemsPerPage - restItemsCount\r\n            }\r\n        }\r\n        return itemIndex\r\n    },\r\n    _cleanNavButtons: function() {\r\n        if (this._prevNavButton) {\r\n            this._prevNavButton.remove();\r\n            delete this._prevNavButton\r\n        }\r\n        if (this._nextNavButton) {\r\n            this._nextNavButton.remove();\r\n            delete this._nextNavButton\r\n        }\r\n    },\r\n    _renderNavButtonsVisibility: function() {\r\n        if (!this.option(\"showNavButtons\") || !this._prevNavButton || !this._nextNavButton) {\r\n            return\r\n        }\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var itemsCount = this._itemsCount();\r\n        this._prevNavButton.show();\r\n        this._nextNavButton.show();\r\n        if (0 === itemsCount) {\r\n            this._prevNavButton.hide();\r\n            this._nextNavButton.hide()\r\n        }\r\n        if (loop) {\r\n            return\r\n        }\r\n        var nextHidden = selectedIndex === itemsCount - this._itemsPerPage();\r\n        var prevHidden = itemsCount < 2 || 0 === selectedIndex;\r\n        if (this._dataSource && this._dataSource.paginate()) {\r\n            nextHidden = nextHidden && this._isLastPage()\r\n        } else {\r\n            nextHidden = nextHidden || itemsCount < 2\r\n        }\r\n        if (prevHidden) {\r\n            this._prevNavButton.hide()\r\n        }\r\n        if (nextHidden) {\r\n            this._nextNavButton.hide()\r\n        }\r\n    },\r\n    _setupSlideShow: function() {\r\n        var that = this;\r\n        var slideshowDelay = that.option(\"slideshowDelay\");\r\n        clearTimeout(that._slideshowTimer);\r\n        if (!slideshowDelay) {\r\n            return\r\n        }\r\n        that._slideshowTimer = setTimeout((function() {\r\n            if (that._userInteraction) {\r\n                that._setupSlideShow();\r\n                return\r\n            }\r\n            that.nextItem(true).done(that._setupSlideShow)\r\n        }), slideshowDelay)\r\n    },\r\n    _elementWidth: function() {\r\n        if (!this._cacheElementWidth) {\r\n            this._cacheElementWidth = getWidth(this.$element())\r\n        }\r\n        return this._cacheElementWidth\r\n    },\r\n    _clearCacheWidth: function() {\r\n        delete this._cacheElementWidth\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        this._releaseInvisibleItems();\r\n        this._clearCacheWidth();\r\n        this._elementWidth();\r\n        var itemsCount = this._itemsCount();\r\n        if (!itemsCount) {\r\n            e.event.cancel = true;\r\n            return\r\n        }\r\n        this._stopItemAnimations();\r\n        this._startSwipe();\r\n        this._userInteraction = true;\r\n        if (!this.option(\"loop\")) {\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var startOffset = itemsCount - selectedIndex - this._itemsPerPage();\r\n            var endOffset = selectedIndex;\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            e.event.maxLeftOffset = rtlEnabled ? endOffset : startOffset;\r\n            e.event.maxRightOffset = rtlEnabled ? startOffset : endOffset\r\n        }\r\n    },\r\n    _stopItemAnimations: function() {\r\n        fx.stop(this._$container, true)\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var wrapAroundRatio = this.option(\"wrapAround\") ? 1 : 0;\r\n        var offset = this._offsetDirection() * e.event.offset * (this._itemsPerPage() + wrapAroundRatio) - this.option(\"selectedIndex\");\r\n        if (offset < 0) {\r\n            this._loadNextPageIfNeeded(Math.ceil(Math.abs(offset)))\r\n        }\r\n        this._renderContainerPosition(offset)\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.event.targetOffset * this._offsetDirection() * this._itemsPerPage();\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var newIndex = this._fitIndex(selectedIndex - targetOffset);\r\n        var paginatedIndex = this._fitPaginatedIndex(newIndex);\r\n        if (Math.abs(targetOffset) < this._itemsPerPage()) {\r\n            this._relocateItems(selectedIndex);\r\n            return\r\n        }\r\n        if (this._itemsPerPage() === this._itemsCount()) {\r\n            if (targetOffset > 0) {\r\n                this._relocateItems(-targetOffset)\r\n            } else {\r\n                this._relocateItems(0)\r\n            }\r\n            return\r\n        }\r\n        this.option(\"selectedIndex\", paginatedIndex)\r\n    },\r\n    _setFocusOnSelect: function() {\r\n        this._userInteraction = true;\r\n        var selectedItem = this.itemElements().filter(\".\" + GALLERY_ITEM_SELECTED_CLASS);\r\n        this.option(\"focusedElement\", getPublicElement(selectedItem));\r\n        this._userInteraction = false\r\n    },\r\n    _flipIndex: function(index) {\r\n        var itemsCount = this._itemsCount();\r\n        index %= itemsCount;\r\n        if (index > (itemsCount + 1) / 2) {\r\n            index -= itemsCount\r\n        }\r\n        if (index < -(itemsCount - 1) / 2) {\r\n            index += itemsCount\r\n        }\r\n        return index\r\n    },\r\n    _fitIndex: function(index) {\r\n        if (!this.option(\"loop\")) {\r\n            return index\r\n        }\r\n        var itemsCount = this._itemsCount();\r\n        if (index >= itemsCount || index < 0) {\r\n            this._goToGhostItem = true\r\n        }\r\n        if (index >= itemsCount) {\r\n            index = itemsCount - index\r\n        }\r\n        index %= itemsCount;\r\n        if (index < 0) {\r\n            index += itemsCount\r\n        }\r\n        return index\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._cleanIndicators();\r\n        this._cleanNavButtons()\r\n    },\r\n    _dispose: function() {\r\n        this._wasAnyItemTemplateRendered = null;\r\n        clearTimeout(this._slideshowTimer);\r\n        this.callBase()\r\n    },\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        this._stopItemAnimations();\r\n        this._renderNavButtonsVisibility();\r\n        this._renderSelectedItem();\r\n        this._relocateItems(addedSelection[0], removedSelection[0]);\r\n        this._renderSelectedPageIndicator()\r\n    },\r\n    _relocateItems: function(newIndex, prevIndex, withoutAnimation) {\r\n        if (void 0 === prevIndex) {\r\n            prevIndex = newIndex\r\n        }\r\n        var indexOffset = this._calculateIndexOffset(newIndex, prevIndex);\r\n        this._renderContainerPosition(indexOffset, true, this.option(\"animationEnabled\") && !withoutAnimation).done((function() {\r\n            this._setFocusOnSelect();\r\n            this._userInteraction = false;\r\n            this._setupSlideShow()\r\n        }))\r\n    },\r\n    _focusInHandler: function() {\r\n        if (fx.isAnimating(this._$container) || this._userInteraction) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _focusOutHandler: function() {\r\n        if (fx.isAnimating(this._$container) || this._userInteraction) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _selectFocusedItem: noop,\r\n    _moveFocus: function() {\r\n        this._stopItemAnimations();\r\n        this.callBase.apply(this, arguments);\r\n        var index = this.itemElements().index($(this.option(\"focusedElement\")));\r\n        this.goToItem(index, this.option(\"animationEnabled\"))\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._reviseDimensions()\r\n        }\r\n    },\r\n    _calculateIndexOffset: function(newIndex, lastIndex) {\r\n        if (void 0 === lastIndex) {\r\n            lastIndex = newIndex\r\n        }\r\n        var indexOffset = lastIndex - newIndex;\r\n        if (this.option(\"loop\") && !this._needLongMove && this._goToGhostItem) {\r\n            if (this._isItemOnFirstPage(newIndex) && this._isItemOnLastPage(lastIndex)) {\r\n                indexOffset = -this._itemsPerPage()\r\n            } else if (this._isItemOnLastPage(newIndex) && this._isItemOnFirstPage(lastIndex)) {\r\n                indexOffset = this._itemsPerPage()\r\n            }\r\n            this._goToGhostItem = false\r\n        }\r\n        this._needLongMove = false;\r\n        indexOffset -= lastIndex;\r\n        return indexOffset\r\n    },\r\n    _isItemOnLastPage: function(itemIndex) {\r\n        return itemIndex >= this._itemsCount() - this._itemsPerPage()\r\n    },\r\n    _isItemOnFirstPage: function(itemIndex) {\r\n        return itemIndex <= this._itemsPerPage()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"initialItemWidth\":\r\n                this.callBase.apply(this, arguments);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"animationDuration\":\r\n                this._renderNavButtonsVisibility();\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"loop\":\r\n                this.$element().toggleClass(GALLERY_LOOP_CLASS, args.value);\r\n                this.option(\"loopItemFocus\", args.value);\r\n                if (hasWindow()) {\r\n                    this._cloneDuplicateItems();\r\n                    this._renderItemPositions();\r\n                    this._renderNavButtonsVisibility()\r\n                }\r\n                break;\r\n            case \"showIndicator\":\r\n                this._renderIndicator();\r\n                break;\r\n            case \"showNavButtons\":\r\n                this._renderNavButtons();\r\n                break;\r\n            case \"slideshowDelay\":\r\n                this._setupSlideShow();\r\n                break;\r\n            case \"wrapAround\":\r\n            case \"stretchImages\":\r\n                if (hasWindow()) {\r\n                    this._renderItemSizes();\r\n                    this._renderItemPositions();\r\n                    this._renderItemVisibility()\r\n                }\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._renderUserInteraction();\r\n                break;\r\n            case \"indicatorEnabled\":\r\n                this._toggleIndicatorInteraction(args.value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    goToItem: function(itemIndex, animation) {\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var itemsCount = this._itemsCount();\r\n        if (void 0 !== animation) {\r\n            this._animationOverride = animation\r\n        }\r\n        itemIndex = this._fitIndex(itemIndex);\r\n        this._deferredAnimate = new Deferred;\r\n        if (itemIndex > itemsCount - 1 || itemIndex < 0 || selectedIndex === itemIndex) {\r\n            return this._deferredAnimate.resolveWith(this).promise()\r\n        }\r\n        this.option(\"selectedIndex\", itemIndex);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    prevItem: function(animation) {\r\n        return this.goToItem(this.option(\"selectedIndex\") - 1, animation)\r\n    },\r\n    nextItem: function(animation) {\r\n        return this.goToItem(this.option(\"selectedIndex\") + 1, animation)\r\n    }\r\n});\r\nregisterComponent(\"dxGallery\", Gallery);\r\nexport default Gallery;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}