{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/toolbar/internal/ui.toolbar.menu.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getOuterHeight } from \"../../../core/utils/size\";\nimport $ from \"../../../core/renderer\";\nimport devices from \"../../../core/devices\";\nimport { extend } from \"../../../core/utils/extend\";\nimport Widget from \"../../widget/ui.widget\";\nimport Button from \"../../button\";\nimport ToolbarMenuList from \"./ui.toolbar.menu.list\";\nimport { isMaterial } from \"../../themes\";\nimport { ChildDefaultTemplate } from \"../../../core/templates/child_default_template\";\nimport { toggleItemFocusableElementTabIndex } from \"../ui.toolbar.utils\";\nimport { getWindow } from \"../../../core/utils/window\";\nimport \"../../popup\";\nvar DROP_DOWN_MENU_CLASS = \"dx-dropdownmenu\";\nvar DROP_DOWN_MENU_POPUP_CLASS = \"dx-dropdownmenu-popup\";\nvar DROP_DOWN_MENU_POPUP_WRAPPER_CLASS = \"dx-dropdownmenu-popup-wrapper\";\nvar DROP_DOWN_MENU_LIST_CLASS = \"dx-dropdownmenu-list\";\nvar DROP_DOWN_MENU_BUTTON_CLASS = \"dx-dropdownmenu-button\";\nvar POPUP_BOUNDARY_VERTICAL_OFFSET = 10;\nvar POPUP_VERTICAL_OFFSET = 3;\nexport default class DropDownMenu extends Widget {\n  _supportedKeys() {\n    var extension = {};\n\n    if (!this.option(\"opened\") || !this._list.option(\"focusedElement\")) {\n      extension = this._button._supportedKeys();\n    }\n\n    return extend(super._supportedKeys(), extension, {\n      tab: function () {\n        this._popup && this._popup.hide();\n      }\n    });\n  }\n\n  _getDefaultOptions() {\n    return extend(super._getDefaultOptions(), {\n      items: [],\n      onItemClick: null,\n      dataSource: null,\n      itemTemplate: \"item\",\n      onButtonClick: null,\n      activeStateEnabled: true,\n      hoverStateEnabled: true,\n      opened: false,\n      onItemRendered: null,\n      closeOnClick: true,\n      useInkRipple: false,\n      container: void 0,\n      animation: {\n        show: {\n          type: \"fade\",\n          from: 0,\n          to: 1\n        },\n        hide: {\n          type: \"fade\",\n          to: 0\n        }\n      }\n    });\n  }\n\n  _defaultOptionsRules() {\n    return super._defaultOptionsRules().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return isMaterial();\n      },\n      options: {\n        useInkRipple: true,\n        animation: {\n          show: {\n            type: \"pop\",\n            duration: 200,\n            from: {\n              scale: 0\n            },\n            to: {\n              scale: 1\n            }\n          },\n          hide: {\n            type: \"pop\",\n            duration: 200,\n            from: {\n              scale: 1\n            },\n            to: {\n              scale: 0\n            }\n          }\n        }\n      }\n    }]);\n  }\n\n  _init() {\n    super._init();\n\n    this.$element().addClass(DROP_DOWN_MENU_CLASS);\n\n    this._initItemClickAction();\n\n    this._initButtonClickAction();\n  }\n\n  _initItemClickAction() {\n    this._itemClickAction = this._createActionByOption(\"onItemClick\");\n  }\n\n  _initButtonClickAction() {\n    this._buttonClickAction = this._createActionByOption(\"onButtonClick\");\n  }\n\n  _initTemplates() {\n    this._templateManager.addDefaultTemplates({\n      content: new ChildDefaultTemplate(\"content\")\n    });\n\n    super._initTemplates();\n  }\n\n  _initMarkup() {\n    this._renderButton();\n\n    super._initMarkup();\n  }\n\n  _render() {\n    super._render();\n\n    this.setAria({\n      role: \"menubar\",\n      haspopup: true,\n      expanded: this.option(\"opened\")\n    });\n  }\n\n  _renderContentImpl() {\n    if (this.option(\"opened\")) {\n      this._renderPopup();\n    }\n  }\n\n  _clean() {\n    this._cleanFocusState();\n\n    this._list && this._list.$element().remove();\n    this._popup && this._popup.$element().remove();\n    delete this._list;\n    delete this._popup;\n  }\n\n  _renderButton() {\n    var $button = this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS);\n    this._button = this._createComponent($button, Button, {\n      icon: \"overflow\",\n      template: \"content\",\n      useInkRipple: this.option(\"useInkRipple\"),\n      hoverStateEnabled: false,\n      focusStateEnabled: false,\n      onClick: e => {\n        this.option(\"opened\", !this.option(\"opened\"));\n\n        this._buttonClickAction(e);\n      }\n    });\n  }\n\n  _toggleActiveState($element, value, e) {\n    this._button._toggleActiveState($element, value, e);\n  }\n\n  _toggleMenuVisibility(opened) {\n    var state = null !== opened && void 0 !== opened ? opened : !this._popup.option(\"visible\");\n\n    if (opened) {\n      this._renderPopup();\n    }\n\n    this._popup.toggle(state);\n\n    this.setAria(\"expanded\", state);\n  }\n\n  _renderPopup() {\n    if (this._$popup) {\n      return;\n    }\n\n    this._$popup = $(\"<div>\").appendTo(this.$element());\n    var {\n      rtlEnabled: rtlEnabled,\n      container: container,\n      animation: animation\n    } = this.option();\n    this._popup = this._createComponent(this._$popup, \"dxPopup\", {\n      onInitialized(_ref) {\n        var {\n          component: component\n        } = _ref;\n        component.$wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).addClass(DROP_DOWN_MENU_POPUP_CLASS);\n      },\n\n      deferRendering: false,\n      contentTemplate: contentElement => this._renderList(contentElement),\n      _ignoreFunctionValueDeprecation: true,\n      maxHeight: () => this._getMaxHeight(),\n      position: {\n        my: \"top \".concat(rtlEnabled ? \"left\" : \"right\"),\n        at: \"bottom \".concat(rtlEnabled ? \"left\" : \"right\"),\n        collision: \"fit flip\",\n        offset: {\n          v: POPUP_VERTICAL_OFFSET\n        },\n        of: this.$element()\n      },\n      animation: animation,\n      onOptionChanged: _ref2 => {\n        var {\n          name: name,\n          value: value\n        } = _ref2;\n\n        if (\"visible\" === name) {\n          this.option(\"opened\", value);\n        }\n      },\n      container: container,\n      autoResizeEnabled: false,\n      height: \"auto\",\n      width: \"auto\",\n      hideOnOutsideClick: e => this._closeOutsideDropDownHandler(e),\n      hideOnParentScroll: true,\n      shading: false,\n      dragEnabled: false,\n      showTitle: false,\n      fullScreen: false,\n      _fixWrapperPosition: true\n    });\n  }\n\n  _getMaxHeight() {\n    var $element = this.$element();\n    var offsetTop = $element.offset().top;\n    var windowHeight = getOuterHeight(getWindow());\n    var maxHeight = Math.max(offsetTop, windowHeight - offsetTop - getOuterHeight($element));\n    return Math.min(windowHeight, maxHeight - POPUP_VERTICAL_OFFSET - POPUP_BOUNDARY_VERTICAL_OFFSET);\n  }\n\n  _closeOutsideDropDownHandler(e) {\n    var isOutsideClick = !$(e.target).closest(this.$element()).length;\n    return isOutsideClick;\n  }\n\n  _renderList(contentElement) {\n    var $content = $(contentElement);\n    $content.addClass(DROP_DOWN_MENU_LIST_CLASS);\n    this._list = this._createComponent($content, ToolbarMenuList, {\n      dataSource: this._getListDataSource(),\n      pageLoadMode: \"scrollBottom\",\n      indicateLoading: false,\n      noDataText: \"\",\n      itemTemplate: this.option(\"itemTemplate\"),\n      onItemClick: e => {\n        if (this.option(\"closeOnClick\")) {\n          this.option(\"opened\", false);\n        }\n\n        this._itemClickAction(e);\n      },\n      tabIndex: -1,\n      focusStateEnabled: false,\n      activeStateEnabled: true,\n      onItemRendered: this.option(\"onItemRendered\"),\n      _areaTarget: this.$element(),\n      _itemAttributes: {\n        role: \"menuitem\"\n      }\n    });\n  }\n\n  _itemOptionChanged(item, property, value) {\n    var _this$_list;\n\n    null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list._itemOptionChanged(item, property, value);\n    toggleItemFocusableElementTabIndex(this._list, item);\n  }\n\n  _getListDataSource() {\n    var _this$option;\n\n    return null !== (_this$option = this.option(\"dataSource\")) && void 0 !== _this$option ? _this$option : this.option(\"items\");\n  }\n\n  _setListDataSource() {\n    var _this$_list2;\n\n    null === (_this$_list2 = this._list) || void 0 === _this$_list2 ? void 0 : _this$_list2.option(\"dataSource\", this._getListDataSource());\n    delete this._deferRendering;\n  }\n\n  _getKeyboardListeners() {\n    return super._getKeyboardListeners().concat([this._list]);\n  }\n\n  _toggleVisibility(visible) {\n    super._toggleVisibility(visible);\n\n    this._button.option(\"visible\", visible);\n  }\n\n  _optionChanged(args) {\n    var _this$_list3, _this$_list4, _this$_list5;\n\n    var {\n      name: name,\n      value: value\n    } = args;\n\n    switch (name) {\n      case \"items\":\n      case \"dataSource\":\n        if (!this.option(\"opened\")) {\n          this._deferRendering = true;\n        } else {\n          this._setListDataSource();\n        }\n\n        break;\n\n      case \"itemTemplate\":\n        null === (_this$_list3 = this._list) || void 0 === _this$_list3 ? void 0 : _this$_list3.option(name, this._getTemplate(value));\n        break;\n\n      case \"onItemClick\":\n        this._initItemClickAction();\n\n        break;\n\n      case \"onButtonClick\":\n        this._buttonClickAction();\n\n        break;\n\n      case \"useInkRipple\":\n        this._invalidate();\n\n        break;\n\n      case \"focusStateEnabled\":\n        null === (_this$_list4 = this._list) || void 0 === _this$_list4 ? void 0 : _this$_list4.option(name, value);\n\n        super._optionChanged(args);\n\n        break;\n\n      case \"onItemRendered\":\n        null === (_this$_list5 = this._list) || void 0 === _this$_list5 ? void 0 : _this$_list5.option(name, value);\n        break;\n\n      case \"opened\":\n        if (this._deferRendering) {\n          this._setListDataSource();\n        }\n\n        this._toggleMenuVisibility(value);\n\n        this._updateFocusableItemsTabIndex();\n\n        break;\n\n      case \"closeOnClick\":\n        break;\n\n      case \"container\":\n        this._popup && this._popup.option(name, value);\n        break;\n\n      case \"disabled\":\n        if (this._list) {\n          this._updateFocusableItemsTabIndex();\n        }\n\n        break;\n\n      default:\n        super._optionChanged(args);\n\n    }\n  }\n\n  _updateFocusableItemsTabIndex() {\n    this.option(\"items\").forEach(item => toggleItemFocusableElementTabIndex(this._list, item));\n  }\n\n}","map":{"version":3,"names":["getOuterHeight","$","devices","extend","Widget","Button","ToolbarMenuList","isMaterial","ChildDefaultTemplate","toggleItemFocusableElementTabIndex","getWindow","DROP_DOWN_MENU_CLASS","DROP_DOWN_MENU_POPUP_CLASS","DROP_DOWN_MENU_POPUP_WRAPPER_CLASS","DROP_DOWN_MENU_LIST_CLASS","DROP_DOWN_MENU_BUTTON_CLASS","POPUP_BOUNDARY_VERTICAL_OFFSET","POPUP_VERTICAL_OFFSET","DropDownMenu","_supportedKeys","extension","option","_list","_button","tab","_popup","hide","_getDefaultOptions","items","onItemClick","dataSource","itemTemplate","onButtonClick","activeStateEnabled","hoverStateEnabled","opened","onItemRendered","closeOnClick","useInkRipple","container","animation","show","type","from","to","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","duration","scale","_init","$element","addClass","_initItemClickAction","_initButtonClickAction","_itemClickAction","_createActionByOption","_buttonClickAction","_initTemplates","_templateManager","addDefaultTemplates","content","_initMarkup","_renderButton","_render","setAria","role","haspopup","expanded","_renderContentImpl","_renderPopup","_clean","_cleanFocusState","remove","$button","_createComponent","icon","template","onClick","e","_toggleActiveState","value","_toggleMenuVisibility","state","toggle","_$popup","appendTo","rtlEnabled","onInitialized","_ref","component","$wrapper","deferRendering","contentTemplate","contentElement","_renderList","_ignoreFunctionValueDeprecation","maxHeight","_getMaxHeight","position","my","at","collision","offset","v","of","onOptionChanged","_ref2","name","autoResizeEnabled","height","width","hideOnOutsideClick","_closeOutsideDropDownHandler","hideOnParentScroll","shading","dragEnabled","showTitle","fullScreen","_fixWrapperPosition","offsetTop","top","windowHeight","Math","max","min","isOutsideClick","target","closest","length","$content","_getListDataSource","pageLoadMode","indicateLoading","noDataText","tabIndex","_areaTarget","_itemAttributes","_itemOptionChanged","item","property","_this$_list","_this$option","_setListDataSource","_this$_list2","_deferRendering","_getKeyboardListeners","_toggleVisibility","visible","_optionChanged","args","_this$_list3","_this$_list4","_this$_list5","_getTemplate","_invalidate","_updateFocusableItemsTabIndex","forEach"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/ui/toolbar/internal/ui.toolbar.menu.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/toolbar/internal/ui.toolbar.menu.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../../../core/utils/size\";\r\nimport $ from \"../../../core/renderer\";\r\nimport devices from \"../../../core/devices\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport Widget from \"../../widget/ui.widget\";\r\nimport Button from \"../../button\";\r\nimport ToolbarMenuList from \"./ui.toolbar.menu.list\";\r\nimport {\r\n    isMaterial\r\n} from \"../../themes\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../../../core/templates/child_default_template\";\r\nimport {\r\n    toggleItemFocusableElementTabIndex\r\n} from \"../ui.toolbar.utils\";\r\nimport {\r\n    getWindow\r\n} from \"../../../core/utils/window\";\r\nimport \"../../popup\";\r\nvar DROP_DOWN_MENU_CLASS = \"dx-dropdownmenu\";\r\nvar DROP_DOWN_MENU_POPUP_CLASS = \"dx-dropdownmenu-popup\";\r\nvar DROP_DOWN_MENU_POPUP_WRAPPER_CLASS = \"dx-dropdownmenu-popup-wrapper\";\r\nvar DROP_DOWN_MENU_LIST_CLASS = \"dx-dropdownmenu-list\";\r\nvar DROP_DOWN_MENU_BUTTON_CLASS = \"dx-dropdownmenu-button\";\r\nvar POPUP_BOUNDARY_VERTICAL_OFFSET = 10;\r\nvar POPUP_VERTICAL_OFFSET = 3;\r\nexport default class DropDownMenu extends Widget {\r\n    _supportedKeys() {\r\n        var extension = {};\r\n        if (!this.option(\"opened\") || !this._list.option(\"focusedElement\")) {\r\n            extension = this._button._supportedKeys()\r\n        }\r\n        return extend(super._supportedKeys(), extension, {\r\n            tab: function() {\r\n                this._popup && this._popup.hide()\r\n            }\r\n        })\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            items: [],\r\n            onItemClick: null,\r\n            dataSource: null,\r\n            itemTemplate: \"item\",\r\n            onButtonClick: null,\r\n            activeStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            opened: false,\r\n            onItemRendered: null,\r\n            closeOnClick: true,\r\n            useInkRipple: false,\r\n            container: void 0,\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    to: 0\r\n                }\r\n            }\r\n        })\r\n    }\r\n    _defaultOptionsRules() {\r\n        return super._defaultOptionsRules().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                useInkRipple: true,\r\n                animation: {\r\n                    show: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 0\r\n                        },\r\n                        to: {\r\n                            scale: 1\r\n                        }\r\n                    },\r\n                    hide: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 1\r\n                        },\r\n                        to: {\r\n                            scale: 0\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }])\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this.$element().addClass(DROP_DOWN_MENU_CLASS);\r\n        this._initItemClickAction();\r\n        this._initButtonClickAction()\r\n    }\r\n    _initItemClickAction() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    }\r\n    _initButtonClickAction() {\r\n        this._buttonClickAction = this._createActionByOption(\"onButtonClick\")\r\n    }\r\n    _initTemplates() {\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new ChildDefaultTemplate(\"content\")\r\n        });\r\n        super._initTemplates()\r\n    }\r\n    _initMarkup() {\r\n        this._renderButton();\r\n        super._initMarkup()\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this.setAria({\r\n            role: \"menubar\",\r\n            haspopup: true,\r\n            expanded: this.option(\"opened\")\r\n        })\r\n    }\r\n    _renderContentImpl() {\r\n        if (this.option(\"opened\")) {\r\n            this._renderPopup()\r\n        }\r\n    }\r\n    _clean() {\r\n        this._cleanFocusState();\r\n        this._list && this._list.$element().remove();\r\n        this._popup && this._popup.$element().remove();\r\n        delete this._list;\r\n        delete this._popup\r\n    }\r\n    _renderButton() {\r\n        var $button = this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS);\r\n        this._button = this._createComponent($button, Button, {\r\n            icon: \"overflow\",\r\n            template: \"content\",\r\n            useInkRipple: this.option(\"useInkRipple\"),\r\n            hoverStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onClick: e => {\r\n                this.option(\"opened\", !this.option(\"opened\"));\r\n                this._buttonClickAction(e)\r\n            }\r\n        })\r\n    }\r\n    _toggleActiveState($element, value, e) {\r\n        this._button._toggleActiveState($element, value, e)\r\n    }\r\n    _toggleMenuVisibility(opened) {\r\n        var state = null !== opened && void 0 !== opened ? opened : !this._popup.option(\"visible\");\r\n        if (opened) {\r\n            this._renderPopup()\r\n        }\r\n        this._popup.toggle(state);\r\n        this.setAria(\"expanded\", state)\r\n    }\r\n    _renderPopup() {\r\n        if (this._$popup) {\r\n            return\r\n        }\r\n        this._$popup = $(\"<div>\").appendTo(this.$element());\r\n        var {\r\n            rtlEnabled: rtlEnabled,\r\n            container: container,\r\n            animation: animation\r\n        } = this.option();\r\n        this._popup = this._createComponent(this._$popup, \"dxPopup\", {\r\n            onInitialized(_ref) {\r\n                var {\r\n                    component: component\r\n                } = _ref;\r\n                component.$wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).addClass(DROP_DOWN_MENU_POPUP_CLASS)\r\n            },\r\n            deferRendering: false,\r\n            contentTemplate: contentElement => this._renderList(contentElement),\r\n            _ignoreFunctionValueDeprecation: true,\r\n            maxHeight: () => this._getMaxHeight(),\r\n            position: {\r\n                my: \"top \".concat(rtlEnabled ? \"left\" : \"right\"),\r\n                at: \"bottom \".concat(rtlEnabled ? \"left\" : \"right\"),\r\n                collision: \"fit flip\",\r\n                offset: {\r\n                    v: POPUP_VERTICAL_OFFSET\r\n                },\r\n                of: this.$element()\r\n            },\r\n            animation: animation,\r\n            onOptionChanged: _ref2 => {\r\n                var {\r\n                    name: name,\r\n                    value: value\r\n                } = _ref2;\r\n                if (\"visible\" === name) {\r\n                    this.option(\"opened\", value)\r\n                }\r\n            },\r\n            container: container,\r\n            autoResizeEnabled: false,\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            hideOnOutsideClick: e => this._closeOutsideDropDownHandler(e),\r\n            hideOnParentScroll: true,\r\n            shading: false,\r\n            dragEnabled: false,\r\n            showTitle: false,\r\n            fullScreen: false,\r\n            _fixWrapperPosition: true\r\n        })\r\n    }\r\n    _getMaxHeight() {\r\n        var $element = this.$element();\r\n        var offsetTop = $element.offset().top;\r\n        var windowHeight = getOuterHeight(getWindow());\r\n        var maxHeight = Math.max(offsetTop, windowHeight - offsetTop - getOuterHeight($element));\r\n        return Math.min(windowHeight, maxHeight - POPUP_VERTICAL_OFFSET - POPUP_BOUNDARY_VERTICAL_OFFSET)\r\n    }\r\n    _closeOutsideDropDownHandler(e) {\r\n        var isOutsideClick = !$(e.target).closest(this.$element()).length;\r\n        return isOutsideClick\r\n    }\r\n    _renderList(contentElement) {\r\n        var $content = $(contentElement);\r\n        $content.addClass(DROP_DOWN_MENU_LIST_CLASS);\r\n        this._list = this._createComponent($content, ToolbarMenuList, {\r\n            dataSource: this._getListDataSource(),\r\n            pageLoadMode: \"scrollBottom\",\r\n            indicateLoading: false,\r\n            noDataText: \"\",\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            onItemClick: e => {\r\n                if (this.option(\"closeOnClick\")) {\r\n                    this.option(\"opened\", false)\r\n                }\r\n                this._itemClickAction(e)\r\n            },\r\n            tabIndex: -1,\r\n            focusStateEnabled: false,\r\n            activeStateEnabled: true,\r\n            onItemRendered: this.option(\"onItemRendered\"),\r\n            _areaTarget: this.$element(),\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            }\r\n        })\r\n    }\r\n    _itemOptionChanged(item, property, value) {\r\n        var _this$_list;\r\n        null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list._itemOptionChanged(item, property, value);\r\n        toggleItemFocusableElementTabIndex(this._list, item)\r\n    }\r\n    _getListDataSource() {\r\n        var _this$option;\r\n        return null !== (_this$option = this.option(\"dataSource\")) && void 0 !== _this$option ? _this$option : this.option(\"items\")\r\n    }\r\n    _setListDataSource() {\r\n        var _this$_list2;\r\n        null === (_this$_list2 = this._list) || void 0 === _this$_list2 ? void 0 : _this$_list2.option(\"dataSource\", this._getListDataSource());\r\n        delete this._deferRendering\r\n    }\r\n    _getKeyboardListeners() {\r\n        return super._getKeyboardListeners().concat([this._list])\r\n    }\r\n    _toggleVisibility(visible) {\r\n        super._toggleVisibility(visible);\r\n        this._button.option(\"visible\", visible)\r\n    }\r\n    _optionChanged(args) {\r\n        var _this$_list3, _this$_list4, _this$_list5;\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        switch (name) {\r\n            case \"items\":\r\n            case \"dataSource\":\r\n                if (!this.option(\"opened\")) {\r\n                    this._deferRendering = true\r\n                } else {\r\n                    this._setListDataSource()\r\n                }\r\n                break;\r\n            case \"itemTemplate\":\r\n                null === (_this$_list3 = this._list) || void 0 === _this$_list3 ? void 0 : _this$_list3.option(name, this._getTemplate(value));\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"onButtonClick\":\r\n                this._buttonClickAction();\r\n                break;\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"focusStateEnabled\":\r\n                null === (_this$_list4 = this._list) || void 0 === _this$_list4 ? void 0 : _this$_list4.option(name, value);\r\n                super._optionChanged(args);\r\n                break;\r\n            case \"onItemRendered\":\r\n                null === (_this$_list5 = this._list) || void 0 === _this$_list5 ? void 0 : _this$_list5.option(name, value);\r\n                break;\r\n            case \"opened\":\r\n                if (this._deferRendering) {\r\n                    this._setListDataSource()\r\n                }\r\n                this._toggleMenuVisibility(value);\r\n                this._updateFocusableItemsTabIndex();\r\n                break;\r\n            case \"closeOnClick\":\r\n                break;\r\n            case \"container\":\r\n                this._popup && this._popup.option(name, value);\r\n                break;\r\n            case \"disabled\":\r\n                if (this._list) {\r\n                    this._updateFocusableItemsTabIndex()\r\n                }\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _updateFocusableItemsTabIndex() {\r\n        this.option(\"items\").forEach(item => toggleItemFocusableElementTabIndex(this._list, item))\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}