{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/series/points/symbol_point.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"../../../core/utils/extend\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { noop } from \"../../../core/utils/common\";\nimport { getWindow, hasProperty } from \"../../../core/utils/window\";\nvar window = getWindow();\nimport { Label } from \"./label\";\nvar _extend = extend;\nimport { isDefined as _isDefined } from \"../../../core/utils/type\";\nimport { normalizeEnum as _normalizeEnum } from \"../../core/utils\";\nvar _math = Math;\nvar _round = _math.round;\nvar _floor = _math.floor;\nvar _ceil = _math.ceil;\nvar DEFAULT_IMAGE_WIDTH = 20;\nvar DEFAULT_IMAGE_HEIGHT = 20;\nvar LABEL_OFFSET = 10;\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\n\nfunction getSquareMarkerCoords(radius) {\n  return [-radius, -radius, radius, -radius, radius, radius, -radius, radius, -radius, -radius];\n}\n\nfunction getPolygonMarkerCoords(radius) {\n  var r = _ceil(radius);\n\n  return [-r, 0, 0, -r, r, 0, 0, r, -r, 0];\n}\n\nfunction getCrossMarkerCoords(radius) {\n  var r = _ceil(radius);\n\n  var floorHalfRadius = _floor(r / 2);\n\n  var ceilHalfRadius = _ceil(r / 2);\n\n  return [-r, -floorHalfRadius, -floorHalfRadius, -r, 0, -ceilHalfRadius, floorHalfRadius, -r, r, -floorHalfRadius, ceilHalfRadius, 0, r, floorHalfRadius, floorHalfRadius, r, 0, ceilHalfRadius, -floorHalfRadius, r, -r, floorHalfRadius, -ceilHalfRadius, 0];\n}\n\nfunction getTriangleDownMarkerCoords(radius) {\n  return [-radius, -radius, radius, -radius, 0, radius, -radius, -radius];\n}\n\nfunction getTriangleUpMarkerCoords(radius) {\n  return [-radius, radius, radius, radius, 0, -radius, -radius, radius];\n}\n\nexport default {\n  deleteLabel: function () {\n    this._label.dispose();\n\n    this._label = null;\n  },\n  _hasGraphic: function () {\n    return this.graphic;\n  },\n  clearVisibility: function () {\n    var graphic = this.graphic;\n\n    if (graphic && graphic.attr(\"visibility\")) {\n      graphic.attr({\n        visibility: null\n      });\n    }\n  },\n  isVisible: function () {\n    return this.inVisibleArea && this.series.isVisible();\n  },\n  setInvisibility: function () {\n    var graphic = this.graphic;\n\n    if (graphic && \"hidden\" !== graphic.attr(\"visibility\")) {\n      graphic.attr({\n        visibility: \"hidden\"\n      });\n    }\n\n    this._errorBar && this._errorBar.attr({\n      visibility: \"hidden\"\n    });\n\n    this._label.draw(false);\n  },\n  clearMarker: function () {\n    var graphic = this.graphic;\n    graphic && graphic.attr(this._emptySettings);\n  },\n  _createLabel: function () {\n    this._label = new Label({\n      renderer: this.series._renderer,\n      labelsGroup: this.series._labelsGroup,\n      point: this\n    });\n  },\n  _calculateVisibility: function (x, y) {\n    var {\n      minX: minX,\n      maxX: maxX,\n      minY: minY,\n      maxY: maxY\n    } = this._getVisibleArea();\n\n    this.inVisibleArea = minX <= x && maxX >= x && minY <= y && maxY >= y;\n  },\n  _updateLabelData: function () {\n    this._label.setData(this._getLabelFormatObject());\n  },\n  _updateLabelOptions: function () {\n    !this._label && this._createLabel();\n\n    this._label.setOptions(this._options.label);\n  },\n  _checkImage: function (image) {\n    return _isDefined(image) && (\"string\" === typeof image || _isDefined(image.url));\n  },\n  _fillStyle: function () {\n    this._styles = this._options.styles;\n  },\n  _checkSymbol: function (oldOptions, newOptions) {\n    var oldSymbol = oldOptions.symbol;\n    var newSymbol = newOptions.symbol;\n    var symbolChanged = \"circle\" === oldSymbol && \"circle\" !== newSymbol || \"circle\" !== oldSymbol && \"circle\" === newSymbol;\n\n    var imageChanged = this._checkImage(oldOptions.image) !== this._checkImage(newOptions.image);\n\n    return !!(symbolChanged || imageChanged);\n  },\n  _populatePointShape: function (symbol, radius) {\n    switch (symbol) {\n      case \"square\":\n        return getSquareMarkerCoords(radius);\n\n      case \"polygon\":\n        return getPolygonMarkerCoords(radius);\n\n      case \"triangle\":\n      case \"triangleDown\":\n        return getTriangleDownMarkerCoords(radius);\n\n      case \"triangleUp\":\n        return getTriangleUpMarkerCoords(radius);\n\n      case \"cross\":\n        return getCrossMarkerCoords(radius);\n    }\n  },\n  hasCoords: function () {\n    return null !== this.x && null !== this.y;\n  },\n  correctValue: function (correction) {\n    var axis = this.series.getValueAxis();\n\n    if (this.hasValue()) {\n      this.value = this.properValue = axis.validateUnit(this.initialValue.valueOf() + correction.valueOf());\n      this.minValue = axis.validateUnit(correction);\n    }\n  },\n  resetCorrection: function () {\n    this.value = this.properValue = this.initialValue;\n    this.minValue = CANVAS_POSITION_DEFAULT;\n  },\n  resetValue: function () {\n    if (this.hasValue()) {\n      this.value = this.properValue = this.initialValue = 0;\n      this.minValue = 0;\n\n      this._label.setDataField(\"value\", this.value);\n    }\n  },\n  _getTranslates: function (animationEnabled) {\n    var translateX = this.x;\n    var translateY = this.y;\n\n    if (animationEnabled) {\n      if (this._options.rotated) {\n        translateX = this.defaultX;\n      } else {\n        translateY = this.defaultY;\n      }\n    }\n\n    return {\n      x: translateX,\n      y: translateY\n    };\n  },\n  _createImageMarker: function (renderer, settings, options) {\n    var width = options.width || DEFAULT_IMAGE_WIDTH;\n    var height = options.height || DEFAULT_IMAGE_HEIGHT;\n    return renderer.image(-_round(.5 * width), -_round(.5 * height), width, height, options.url ? options.url.toString() : options.toString(), \"center\").attr({\n      translateX: settings.translateX,\n      translateY: settings.translateY,\n      visibility: settings.visibility\n    });\n  },\n  _createSymbolMarker: function (renderer, pointSettings) {\n    var marker;\n    var symbol = this._options.symbol;\n\n    if (\"circle\" === symbol) {\n      delete pointSettings.points;\n      marker = renderer.circle().attr(pointSettings);\n    } else if (\"square\" === symbol || \"polygon\" === symbol || \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol || \"cross\" === symbol) {\n      marker = renderer.path([], \"area\").attr(pointSettings).sharp();\n    }\n\n    return marker;\n  },\n  _createMarker: function (renderer, group, image, settings) {\n    var marker = this._checkImage(image) ? this._createImageMarker(renderer, settings, image) : this._createSymbolMarker(renderer, settings);\n\n    if (marker) {\n      marker.data({\n        \"chart-data-point\": this\n      }).append(group);\n    }\n\n    return marker;\n  },\n  _getSymbolBBox: function (x, y, r) {\n    return {\n      x: x - r,\n      y: y - r,\n      width: 2 * r,\n      height: 2 * r\n    };\n  },\n  _getImageBBox: function (x, y) {\n    var image = this._options.image;\n    var width = image.width || DEFAULT_IMAGE_WIDTH;\n    var height = image.height || DEFAULT_IMAGE_HEIGHT;\n    return {\n      x: x - _round(width / 2),\n      y: y - _round(height / 2),\n      width: width,\n      height: height\n    };\n  },\n  _getGraphicBBox: function () {\n    var options = this._options;\n    var x = this.x;\n    var y = this.y;\n    var bBox;\n\n    if (options.visible) {\n      bBox = this._checkImage(options.image) ? this._getImageBBox(x, y) : this._getSymbolBBox(x, y, options.styles.normal.r);\n    } else {\n      bBox = {\n        x: x,\n        y: y,\n        width: 0,\n        height: 0\n      };\n    }\n\n    return bBox;\n  },\n  hideInsideLabel: noop,\n  _getShiftLabelCoords: function (label) {\n    var coord = this._addLabelAlignmentAndOffset(label, this._getLabelCoords(label));\n\n    return this._checkLabelPosition(label, coord);\n  },\n  _drawLabel: function () {\n    var customVisibility = this._getCustomLabelVisibility();\n\n    var label = this._label;\n    var isVisible = this._showForZeroValues() && this.hasValue() && false !== customVisibility && (this.series.getLabelVisibility() || customVisibility);\n    label.draw(!!isVisible);\n  },\n  correctLabelPosition: function (label) {\n    var coord = this._getShiftLabelCoords(label);\n\n    if (!this.hideInsideLabel(label, coord)) {\n      label.setFigureToDrawConnector(this._getLabelConnector(label.pointPosition));\n      label.shift(_round(coord.x), _round(coord.y));\n    }\n  },\n  _showForZeroValues: function () {\n    return true;\n  },\n  _getLabelConnector: function (pointPosition) {\n    var bBox = this._getGraphicBBox(pointPosition);\n\n    var w2 = bBox.width / 2;\n    var h2 = bBox.height / 2;\n    return {\n      x: bBox.x + w2,\n      y: bBox.y + h2,\n      r: this._options.visible ? Math.max(w2, h2) : 0\n    };\n  },\n  _getPositionFromLocation: function () {\n    return {\n      x: this.x,\n      y: this.y\n    };\n  },\n  _isPointInVisibleArea: function (visibleArea, graphicBBox) {\n    return visibleArea.minX <= graphicBBox.x + graphicBBox.width && visibleArea.maxX >= graphicBBox.x && visibleArea.minY <= graphicBBox.y + graphicBBox.height && visibleArea.maxY >= graphicBBox.y;\n  },\n  _checkLabelPosition: function (label, coord) {\n    var visibleArea = this._getVisibleArea();\n\n    var labelBBox = label.getBoundingRect();\n\n    var graphicBBox = this._getGraphicBBox(label.pointPosition);\n\n    var fullGraphicBBox = this._getGraphicBBox();\n\n    var isInside = \"inside\" === label.getLayoutOptions().position;\n    var offset = LABEL_OFFSET;\n\n    if (this._isPointInVisibleArea(visibleArea, fullGraphicBBox)) {\n      if (!this._options.rotated) {\n        if (visibleArea.minX > coord.x) {\n          coord.x = visibleArea.minX;\n        }\n\n        if (visibleArea.maxX < coord.x + labelBBox.width) {\n          coord.x = visibleArea.maxX - labelBBox.width;\n        }\n\n        if (visibleArea.minY > coord.y) {\n          coord.y = isInside ? visibleArea.minY : graphicBBox.y + graphicBBox.height + offset;\n        }\n\n        if (visibleArea.maxY < coord.y + labelBBox.height) {\n          coord.y = isInside ? visibleArea.maxY - labelBBox.height : graphicBBox.y - labelBBox.height - offset;\n        }\n      } else {\n        if (visibleArea.minX > coord.x) {\n          coord.x = isInside ? visibleArea.minX : graphicBBox.x + graphicBBox.width + offset;\n        }\n\n        if (visibleArea.maxX < coord.x + labelBBox.width) {\n          coord.x = isInside ? visibleArea.maxX - labelBBox.width : graphicBBox.x - offset - labelBBox.width;\n        }\n\n        if (visibleArea.minY > coord.y) {\n          coord.y = visibleArea.minY;\n        }\n\n        if (visibleArea.maxY < coord.y + labelBBox.height) {\n          coord.y = visibleArea.maxY - labelBBox.height;\n        }\n      }\n    }\n\n    return coord;\n  },\n  _addLabelAlignmentAndOffset: function (label, coord) {\n    var labelBBox = label.getBoundingRect();\n    var labelOptions = label.getLayoutOptions();\n\n    if (!this._options.rotated) {\n      if (\"left\" === labelOptions.alignment) {\n        coord.x += labelBBox.width / 2;\n      } else if (\"right\" === labelOptions.alignment) {\n        coord.x -= labelBBox.width / 2;\n      }\n    }\n\n    coord.x += labelOptions.horizontalOffset;\n    coord.y += labelOptions.verticalOffset;\n    return coord;\n  },\n  _getLabelCoords: function (label) {\n    return this._getLabelCoordOfPosition(label, this._getLabelPosition(label.pointPosition));\n  },\n  _getLabelCoordOfPosition: function (label, position) {\n    var labelBBox = label.getBoundingRect();\n\n    var graphicBBox = this._getGraphicBBox(label.pointPosition);\n\n    var offset = LABEL_OFFSET;\n    var centerY = graphicBBox.height / 2 - labelBBox.height / 2;\n    var centerX = graphicBBox.width / 2 - labelBBox.width / 2;\n    var x = graphicBBox.x;\n    var y = graphicBBox.y;\n\n    switch (position) {\n      case \"left\":\n        x -= labelBBox.width + offset;\n        y += centerY;\n        break;\n\n      case \"right\":\n        x += graphicBBox.width + offset;\n        y += centerY;\n        break;\n\n      case \"top\":\n        x += centerX;\n        y -= labelBBox.height + offset;\n        break;\n\n      case \"bottom\":\n        x += centerX;\n        y += graphicBBox.height + offset;\n        break;\n\n      case \"inside\":\n        x += centerX;\n        y += centerY;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _drawMarker: function (renderer, group, animationEnabled) {\n    var options = this._options;\n\n    var translates = this._getTranslates(animationEnabled);\n\n    var style = this._getStyle();\n\n    this.graphic = this._createMarker(renderer, group, options.image, _extend({\n      translateX: translates.x,\n      translateY: translates.y,\n      points: this._populatePointShape(options.symbol, style.r)\n    }, style));\n  },\n  _getErrorBarSettings: function () {\n    return {\n      visibility: \"visible\"\n    };\n  },\n\n  _getErrorBarBaseEdgeLength() {\n    return 2 * this.getPointRadius();\n  },\n\n  _drawErrorBar: function (renderer, group) {\n    if (!this._options.errorBars) {\n      return;\n    }\n\n    var options = this._options;\n    var errorBarOptions = options.errorBars;\n    var points = [];\n    var settings;\n    var pos = this._errorBarPos;\n    var high = this._highErrorCoord;\n    var low = this._lowErrorCoord;\n\n    var displayMode = _normalizeEnum(errorBarOptions.displayMode);\n\n    var isHighDisplayMode = \"high\" === displayMode;\n    var isLowDisplayMode = \"low\" === displayMode;\n    var highErrorOnly = (isHighDisplayMode || !_isDefined(low)) && _isDefined(high) && !isLowDisplayMode;\n    var lowErrorOnly = (isLowDisplayMode || !_isDefined(high)) && _isDefined(low) && !isHighDisplayMode;\n    var edgeLength = errorBarOptions.edgeLength;\n\n    if (edgeLength <= 1 && edgeLength > 0) {\n      edgeLength = this._getErrorBarBaseEdgeLength() * errorBarOptions.edgeLength;\n    }\n\n    edgeLength = _floor(parseInt(edgeLength) / 2);\n    highErrorOnly && (low = this._baseErrorBarPos);\n    lowErrorOnly && (high = this._baseErrorBarPos);\n\n    if (\"none\" !== displayMode && _isDefined(high) && _isDefined(low) && _isDefined(pos)) {\n      !lowErrorOnly && points.push([pos - edgeLength, high, pos + edgeLength, high]);\n      points.push([pos, high, pos, low]);\n      !highErrorOnly && points.push([pos + edgeLength, low, pos - edgeLength, low]);\n      options.rotated && each(points, function (_, p) {\n        p.reverse();\n      });\n      settings = this._getErrorBarSettings(errorBarOptions);\n\n      if (!this._errorBar) {\n        this._errorBar = renderer.path(points, \"line\").attr(settings).append(group);\n      } else {\n        settings.points = points;\n\n        this._errorBar.attr(settings);\n      }\n    } else {\n      this._errorBar && this._errorBar.attr({\n        visibility: \"hidden\"\n      });\n    }\n  },\n  getTooltipParams: function () {\n    var graphic = this.graphic;\n    return {\n      x: this.x,\n      y: this.y,\n      offset: graphic ? graphic.getBBox().height / 2 : 0\n    };\n  },\n  setPercentValue: function (absTotal, total, leftHoleTotal, rightHoleTotal) {\n    var valuePercent = this.value / absTotal || 0;\n    var minValuePercent = this.minValue / absTotal || 0;\n    var percent = valuePercent - minValuePercent;\n\n    this._label.setDataField(\"percent\", percent);\n\n    this._label.setDataField(\"total\", total);\n\n    if (this.series.isFullStackedSeries() && this.hasValue()) {\n      if (this.leftHole) {\n        this.leftHole /= absTotal - leftHoleTotal;\n        this.minLeftHole /= absTotal - leftHoleTotal;\n      }\n\n      if (this.rightHole) {\n        this.rightHole /= absTotal - rightHoleTotal;\n        this.minRightHole /= absTotal - rightHoleTotal;\n      }\n\n      this.value = this.properValue = valuePercent;\n      this.minValue = !minValuePercent ? this.minValue : minValuePercent;\n    }\n  },\n  _storeTrackerR: function () {\n    var navigator = window.navigator;\n    var r = this._options.styles.normal.r;\n    var minTrackerSize = hasProperty(\"ontouchstart\") || navigator.msPointerEnabled && navigator.msMaxTouchPoints || navigator.pointerEnabled && navigator.maxTouchPoints ? 20 : 6;\n    this._options.trackerR = r < minTrackerSize ? minTrackerSize : r;\n    return this._options.trackerR;\n  },\n  _translateErrorBars: function () {\n    var options = this._options;\n    var rotated = options.rotated;\n    var errorBars = options.errorBars;\n\n    var translator = this._getValTranslator();\n\n    if (!errorBars) {\n      return;\n    }\n\n    _isDefined(this.lowError) && (this._lowErrorCoord = translator.translate(this.lowError));\n    _isDefined(this.highError) && (this._highErrorCoord = translator.translate(this.highError));\n    this._errorBarPos = _floor(rotated ? this.vy : this.vx);\n    this._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? this._lowErrorCoord + (this._highErrorCoord - this._lowErrorCoord) / 2 : rotated ? this.vx : this.vy;\n  },\n  _translate: function () {\n    var valTranslator = this._getValTranslator();\n\n    var argTranslator = this._getArgTranslator();\n\n    if (this._options.rotated) {\n      this.vx = this.x = valTranslator.translate(this.value);\n      this.vy = this.y = argTranslator.translate(this.argument);\n      this.minX = valTranslator.translate(this.minValue);\n      this.defaultX = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n    } else {\n      this.vy = this.y = valTranslator.translate(this.value);\n      this.vx = this.x = argTranslator.translate(this.argument);\n      this.minY = valTranslator.translate(this.minValue);\n      this.defaultY = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n    }\n\n    this._translateErrorBars();\n\n    this._calculateVisibility(this.x, this.y);\n  },\n  _updateData: function (data) {\n    this.value = this.properValue = this.initialValue = this.originalValue = data.value;\n    this.minValue = this.initialMinValue = this.originalMinValue = _isDefined(data.minValue) ? data.minValue : CANVAS_POSITION_DEFAULT;\n  },\n  _getImageSettings: function (image) {\n    return {\n      href: image.url || image.toString(),\n      width: image.width || DEFAULT_IMAGE_WIDTH,\n      height: image.height || DEFAULT_IMAGE_HEIGHT\n    };\n  },\n  getCrosshairData: function () {\n    var r = this._options.rotated;\n    var value = this.properValue;\n    var argument = this.argument;\n    return {\n      x: this.vx,\n      y: this.vy,\n      xValue: r ? value : argument,\n      yValue: r ? argument : value,\n      axis: this.series.axis\n    };\n  },\n  getPointRadius: function () {\n    var style = this._getStyle();\n\n    var options = this._options;\n    var r = style.r;\n    var extraSpace;\n    var symbol = options.symbol;\n    var isSquare = \"square\" === symbol;\n    var isTriangle = \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol;\n\n    if (options.visible && !options.image && r) {\n      extraSpace = style[\"stroke-width\"] / 2;\n      return (isSquare || isTriangle ? 1.4 * r : r) + extraSpace;\n    }\n\n    return 0;\n  },\n  _updateMarker: function (animationEnabled, style) {\n    var options = this._options;\n    var settings;\n    var image = options.image;\n    var visibility = !this.isVisible() ? {\n      visibility: \"hidden\"\n    } : {};\n\n    if (this._checkImage(image)) {\n      settings = _extend({}, {\n        visibility: style.visibility\n      }, visibility, this._getImageSettings(image));\n    } else {\n      settings = _extend({}, style, visibility, {\n        points: this._populatePointShape(options.symbol, style.r)\n      });\n    }\n\n    if (!animationEnabled) {\n      settings.translateX = this.x;\n      settings.translateY = this.y;\n    }\n\n    this.graphic.attr(settings).sharp();\n  },\n  _getLabelFormatObject: function () {\n    return {\n      argument: this.initialArgument,\n      value: this.initialValue,\n      originalArgument: this.originalArgument,\n      originalValue: this.originalValue,\n      seriesName: this.series.name,\n      lowErrorValue: this.lowError,\n      highErrorValue: this.highError,\n      point: this\n    };\n  },\n  _getLabelPosition: function () {\n    var rotated = this._options.rotated;\n\n    if (this.initialValue > 0) {\n      return rotated ? \"right\" : \"top\";\n    } else {\n      return rotated ? \"left\" : \"bottom\";\n    }\n  },\n  _getFormatObject: function (tooltip) {\n    var labelFormatObject = this._label.getData();\n\n    return _extend({}, labelFormatObject, {\n      argumentText: tooltip.formatValue(this.initialArgument, \"argument\"),\n      valueText: tooltip.formatValue(this.initialValue)\n    }, _isDefined(labelFormatObject.percent) ? {\n      percentText: tooltip.formatValue(labelFormatObject.percent, \"percent\")\n    } : {}, _isDefined(labelFormatObject.total) ? {\n      totalText: tooltip.formatValue(labelFormatObject.total)\n    } : {});\n  },\n  getMarkerVisibility: function () {\n    return this._options.visible;\n  },\n  coordsIn: function (x, y) {\n    var trackerRadius = this._storeTrackerR();\n\n    return x >= this.x - trackerRadius && x <= this.x + trackerRadius && y >= this.y - trackerRadius && y <= this.y + trackerRadius;\n  },\n  getMinValue: function (noErrorBar) {\n    var errorBarOptions = this._options.errorBars;\n\n    if (errorBarOptions && !noErrorBar) {\n      var displayMode = errorBarOptions.displayMode;\n      var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\n      var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\n      return lowValue < highValue ? lowValue : highValue;\n    } else {\n      return this.value;\n    }\n  },\n  getMaxValue: function (noErrorBar) {\n    var errorBarOptions = this._options.errorBars;\n\n    if (errorBarOptions && !noErrorBar) {\n      var displayMode = errorBarOptions.displayMode;\n      var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\n      var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\n      return lowValue > highValue ? lowValue : highValue;\n    } else {\n      return this.value;\n    }\n  }\n};","map":{"version":3,"names":["extend","each","noop","getWindow","hasProperty","window","Label","_extend","isDefined","_isDefined","normalizeEnum","_normalizeEnum","_math","Math","_round","round","_floor","floor","_ceil","ceil","DEFAULT_IMAGE_WIDTH","DEFAULT_IMAGE_HEIGHT","LABEL_OFFSET","CANVAS_POSITION_DEFAULT","getSquareMarkerCoords","radius","getPolygonMarkerCoords","r","getCrossMarkerCoords","floorHalfRadius","ceilHalfRadius","getTriangleDownMarkerCoords","getTriangleUpMarkerCoords","deleteLabel","_label","dispose","_hasGraphic","graphic","clearVisibility","attr","visibility","isVisible","inVisibleArea","series","setInvisibility","_errorBar","draw","clearMarker","_emptySettings","_createLabel","renderer","_renderer","labelsGroup","_labelsGroup","point","_calculateVisibility","x","y","minX","maxX","minY","maxY","_getVisibleArea","_updateLabelData","setData","_getLabelFormatObject","_updateLabelOptions","setOptions","_options","label","_checkImage","image","url","_fillStyle","_styles","styles","_checkSymbol","oldOptions","newOptions","oldSymbol","symbol","newSymbol","symbolChanged","imageChanged","_populatePointShape","hasCoords","correctValue","correction","axis","getValueAxis","hasValue","value","properValue","validateUnit","initialValue","valueOf","minValue","resetCorrection","resetValue","setDataField","_getTranslates","animationEnabled","translateX","translateY","rotated","defaultX","defaultY","_createImageMarker","settings","options","width","height","toString","_createSymbolMarker","pointSettings","marker","points","circle","path","sharp","_createMarker","group","data","append","_getSymbolBBox","_getImageBBox","_getGraphicBBox","bBox","visible","normal","hideInsideLabel","_getShiftLabelCoords","coord","_addLabelAlignmentAndOffset","_getLabelCoords","_checkLabelPosition","_drawLabel","customVisibility","_getCustomLabelVisibility","_showForZeroValues","getLabelVisibility","correctLabelPosition","setFigureToDrawConnector","_getLabelConnector","pointPosition","shift","w2","h2","max","_getPositionFromLocation","_isPointInVisibleArea","visibleArea","graphicBBox","labelBBox","getBoundingRect","fullGraphicBBox","isInside","getLayoutOptions","position","offset","labelOptions","alignment","horizontalOffset","verticalOffset","_getLabelCoordOfPosition","_getLabelPosition","centerY","centerX","_drawMarker","translates","style","_getStyle","_getErrorBarSettings","_getErrorBarBaseEdgeLength","getPointRadius","_drawErrorBar","errorBars","errorBarOptions","pos","_errorBarPos","high","_highErrorCoord","low","_lowErrorCoord","displayMode","isHighDisplayMode","isLowDisplayMode","highErrorOnly","lowErrorOnly","edgeLength","parseInt","_baseErrorBarPos","push","_","p","reverse","getTooltipParams","getBBox","setPercentValue","absTotal","total","leftHoleTotal","rightHoleTotal","valuePercent","minValuePercent","percent","isFullStackedSeries","leftHole","minLeftHole","rightHole","minRightHole","_storeTrackerR","navigator","minTrackerSize","msPointerEnabled","msMaxTouchPoints","pointerEnabled","maxTouchPoints","trackerR","_translateErrorBars","translator","_getValTranslator","lowError","translate","highError","vy","vx","type","_translate","valTranslator","argTranslator","_getArgTranslator","argument","_updateData","originalValue","initialMinValue","originalMinValue","_getImageSettings","href","getCrosshairData","xValue","yValue","extraSpace","isSquare","isTriangle","_updateMarker","initialArgument","originalArgument","seriesName","name","lowErrorValue","highErrorValue","_getFormatObject","tooltip","labelFormatObject","getData","argumentText","formatValue","valueText","percentText","totalText","getMarkerVisibility","coordsIn","trackerRadius","getMinValue","noErrorBar","lowValue","highValue","getMaxValue"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/viz/series/points/symbol_point.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/series/points/symbol_point.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    noop\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    getWindow,\r\n    hasProperty\r\n} from \"../../../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    Label\r\n} from \"./label\";\r\nvar _extend = extend;\r\nimport {\r\n    isDefined as _isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../../core/utils\";\r\nvar _math = Math;\r\nvar _round = _math.round;\r\nvar _floor = _math.floor;\r\nvar _ceil = _math.ceil;\r\nvar DEFAULT_IMAGE_WIDTH = 20;\r\nvar DEFAULT_IMAGE_HEIGHT = 20;\r\nvar LABEL_OFFSET = 10;\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\n\r\nfunction getSquareMarkerCoords(radius) {\r\n    return [-radius, -radius, radius, -radius, radius, radius, -radius, radius, -radius, -radius]\r\n}\r\n\r\nfunction getPolygonMarkerCoords(radius) {\r\n    var r = _ceil(radius);\r\n    return [-r, 0, 0, -r, r, 0, 0, r, -r, 0]\r\n}\r\n\r\nfunction getCrossMarkerCoords(radius) {\r\n    var r = _ceil(radius);\r\n    var floorHalfRadius = _floor(r / 2);\r\n    var ceilHalfRadius = _ceil(r / 2);\r\n    return [-r, -floorHalfRadius, -floorHalfRadius, -r, 0, -ceilHalfRadius, floorHalfRadius, -r, r, -floorHalfRadius, ceilHalfRadius, 0, r, floorHalfRadius, floorHalfRadius, r, 0, ceilHalfRadius, -floorHalfRadius, r, -r, floorHalfRadius, -ceilHalfRadius, 0]\r\n}\r\n\r\nfunction getTriangleDownMarkerCoords(radius) {\r\n    return [-radius, -radius, radius, -radius, 0, radius, -radius, -radius]\r\n}\r\n\r\nfunction getTriangleUpMarkerCoords(radius) {\r\n    return [-radius, radius, radius, radius, 0, -radius, -radius, radius]\r\n}\r\nexport default {\r\n    deleteLabel: function() {\r\n        this._label.dispose();\r\n        this._label = null\r\n    },\r\n    _hasGraphic: function() {\r\n        return this.graphic\r\n    },\r\n    clearVisibility: function() {\r\n        var graphic = this.graphic;\r\n        if (graphic && graphic.attr(\"visibility\")) {\r\n            graphic.attr({\r\n                visibility: null\r\n            })\r\n        }\r\n    },\r\n    isVisible: function() {\r\n        return this.inVisibleArea && this.series.isVisible()\r\n    },\r\n    setInvisibility: function() {\r\n        var graphic = this.graphic;\r\n        if (graphic && \"hidden\" !== graphic.attr(\"visibility\")) {\r\n            graphic.attr({\r\n                visibility: \"hidden\"\r\n            })\r\n        }\r\n        this._errorBar && this._errorBar.attr({\r\n            visibility: \"hidden\"\r\n        });\r\n        this._label.draw(false)\r\n    },\r\n    clearMarker: function() {\r\n        var graphic = this.graphic;\r\n        graphic && graphic.attr(this._emptySettings)\r\n    },\r\n    _createLabel: function() {\r\n        this._label = new Label({\r\n            renderer: this.series._renderer,\r\n            labelsGroup: this.series._labelsGroup,\r\n            point: this\r\n        })\r\n    },\r\n    _calculateVisibility: function(x, y) {\r\n        var {\r\n            minX: minX,\r\n            maxX: maxX,\r\n            minY: minY,\r\n            maxY: maxY\r\n        } = this._getVisibleArea();\r\n        this.inVisibleArea = minX <= x && maxX >= x && minY <= y && maxY >= y\r\n    },\r\n    _updateLabelData: function() {\r\n        this._label.setData(this._getLabelFormatObject())\r\n    },\r\n    _updateLabelOptions: function() {\r\n        !this._label && this._createLabel();\r\n        this._label.setOptions(this._options.label)\r\n    },\r\n    _checkImage: function(image) {\r\n        return _isDefined(image) && (\"string\" === typeof image || _isDefined(image.url))\r\n    },\r\n    _fillStyle: function() {\r\n        this._styles = this._options.styles\r\n    },\r\n    _checkSymbol: function(oldOptions, newOptions) {\r\n        var oldSymbol = oldOptions.symbol;\r\n        var newSymbol = newOptions.symbol;\r\n        var symbolChanged = \"circle\" === oldSymbol && \"circle\" !== newSymbol || \"circle\" !== oldSymbol && \"circle\" === newSymbol;\r\n        var imageChanged = this._checkImage(oldOptions.image) !== this._checkImage(newOptions.image);\r\n        return !!(symbolChanged || imageChanged)\r\n    },\r\n    _populatePointShape: function(symbol, radius) {\r\n        switch (symbol) {\r\n            case \"square\":\r\n                return getSquareMarkerCoords(radius);\r\n            case \"polygon\":\r\n                return getPolygonMarkerCoords(radius);\r\n            case \"triangle\":\r\n            case \"triangleDown\":\r\n                return getTriangleDownMarkerCoords(radius);\r\n            case \"triangleUp\":\r\n                return getTriangleUpMarkerCoords(radius);\r\n            case \"cross\":\r\n                return getCrossMarkerCoords(radius)\r\n        }\r\n    },\r\n    hasCoords: function() {\r\n        return null !== this.x && null !== this.y\r\n    },\r\n    correctValue: function(correction) {\r\n        var axis = this.series.getValueAxis();\r\n        if (this.hasValue()) {\r\n            this.value = this.properValue = axis.validateUnit(this.initialValue.valueOf() + correction.valueOf());\r\n            this.minValue = axis.validateUnit(correction)\r\n        }\r\n    },\r\n    resetCorrection: function() {\r\n        this.value = this.properValue = this.initialValue;\r\n        this.minValue = CANVAS_POSITION_DEFAULT\r\n    },\r\n    resetValue: function() {\r\n        if (this.hasValue()) {\r\n            this.value = this.properValue = this.initialValue = 0;\r\n            this.minValue = 0;\r\n            this._label.setDataField(\"value\", this.value)\r\n        }\r\n    },\r\n    _getTranslates: function(animationEnabled) {\r\n        var translateX = this.x;\r\n        var translateY = this.y;\r\n        if (animationEnabled) {\r\n            if (this._options.rotated) {\r\n                translateX = this.defaultX\r\n            } else {\r\n                translateY = this.defaultY\r\n            }\r\n        }\r\n        return {\r\n            x: translateX,\r\n            y: translateY\r\n        }\r\n    },\r\n    _createImageMarker: function(renderer, settings, options) {\r\n        var width = options.width || DEFAULT_IMAGE_WIDTH;\r\n        var height = options.height || DEFAULT_IMAGE_HEIGHT;\r\n        return renderer.image(-_round(.5 * width), -_round(.5 * height), width, height, options.url ? options.url.toString() : options.toString(), \"center\").attr({\r\n            translateX: settings.translateX,\r\n            translateY: settings.translateY,\r\n            visibility: settings.visibility\r\n        })\r\n    },\r\n    _createSymbolMarker: function(renderer, pointSettings) {\r\n        var marker;\r\n        var symbol = this._options.symbol;\r\n        if (\"circle\" === symbol) {\r\n            delete pointSettings.points;\r\n            marker = renderer.circle().attr(pointSettings)\r\n        } else if (\"square\" === symbol || \"polygon\" === symbol || \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol || \"cross\" === symbol) {\r\n            marker = renderer.path([], \"area\").attr(pointSettings).sharp()\r\n        }\r\n        return marker\r\n    },\r\n    _createMarker: function(renderer, group, image, settings) {\r\n        var marker = this._checkImage(image) ? this._createImageMarker(renderer, settings, image) : this._createSymbolMarker(renderer, settings);\r\n        if (marker) {\r\n            marker.data({\r\n                \"chart-data-point\": this\r\n            }).append(group)\r\n        }\r\n        return marker\r\n    },\r\n    _getSymbolBBox: function(x, y, r) {\r\n        return {\r\n            x: x - r,\r\n            y: y - r,\r\n            width: 2 * r,\r\n            height: 2 * r\r\n        }\r\n    },\r\n    _getImageBBox: function(x, y) {\r\n        var image = this._options.image;\r\n        var width = image.width || DEFAULT_IMAGE_WIDTH;\r\n        var height = image.height || DEFAULT_IMAGE_HEIGHT;\r\n        return {\r\n            x: x - _round(width / 2),\r\n            y: y - _round(height / 2),\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    _getGraphicBBox: function() {\r\n        var options = this._options;\r\n        var x = this.x;\r\n        var y = this.y;\r\n        var bBox;\r\n        if (options.visible) {\r\n            bBox = this._checkImage(options.image) ? this._getImageBBox(x, y) : this._getSymbolBBox(x, y, options.styles.normal.r)\r\n        } else {\r\n            bBox = {\r\n                x: x,\r\n                y: y,\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return bBox\r\n    },\r\n    hideInsideLabel: noop,\r\n    _getShiftLabelCoords: function(label) {\r\n        var coord = this._addLabelAlignmentAndOffset(label, this._getLabelCoords(label));\r\n        return this._checkLabelPosition(label, coord)\r\n    },\r\n    _drawLabel: function() {\r\n        var customVisibility = this._getCustomLabelVisibility();\r\n        var label = this._label;\r\n        var isVisible = this._showForZeroValues() && this.hasValue() && false !== customVisibility && (this.series.getLabelVisibility() || customVisibility);\r\n        label.draw(!!isVisible)\r\n    },\r\n    correctLabelPosition: function(label) {\r\n        var coord = this._getShiftLabelCoords(label);\r\n        if (!this.hideInsideLabel(label, coord)) {\r\n            label.setFigureToDrawConnector(this._getLabelConnector(label.pointPosition));\r\n            label.shift(_round(coord.x), _round(coord.y))\r\n        }\r\n    },\r\n    _showForZeroValues: function() {\r\n        return true\r\n    },\r\n    _getLabelConnector: function(pointPosition) {\r\n        var bBox = this._getGraphicBBox(pointPosition);\r\n        var w2 = bBox.width / 2;\r\n        var h2 = bBox.height / 2;\r\n        return {\r\n            x: bBox.x + w2,\r\n            y: bBox.y + h2,\r\n            r: this._options.visible ? Math.max(w2, h2) : 0\r\n        }\r\n    },\r\n    _getPositionFromLocation: function() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    },\r\n    _isPointInVisibleArea: function(visibleArea, graphicBBox) {\r\n        return visibleArea.minX <= graphicBBox.x + graphicBBox.width && visibleArea.maxX >= graphicBBox.x && visibleArea.minY <= graphicBBox.y + graphicBBox.height && visibleArea.maxY >= graphicBBox.y\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var visibleArea = this._getVisibleArea();\r\n        var labelBBox = label.getBoundingRect();\r\n        var graphicBBox = this._getGraphicBBox(label.pointPosition);\r\n        var fullGraphicBBox = this._getGraphicBBox();\r\n        var isInside = \"inside\" === label.getLayoutOptions().position;\r\n        var offset = LABEL_OFFSET;\r\n        if (this._isPointInVisibleArea(visibleArea, fullGraphicBBox)) {\r\n            if (!this._options.rotated) {\r\n                if (visibleArea.minX > coord.x) {\r\n                    coord.x = visibleArea.minX\r\n                }\r\n                if (visibleArea.maxX < coord.x + labelBBox.width) {\r\n                    coord.x = visibleArea.maxX - labelBBox.width\r\n                }\r\n                if (visibleArea.minY > coord.y) {\r\n                    coord.y = isInside ? visibleArea.minY : graphicBBox.y + graphicBBox.height + offset\r\n                }\r\n                if (visibleArea.maxY < coord.y + labelBBox.height) {\r\n                    coord.y = isInside ? visibleArea.maxY - labelBBox.height : graphicBBox.y - labelBBox.height - offset\r\n                }\r\n            } else {\r\n                if (visibleArea.minX > coord.x) {\r\n                    coord.x = isInside ? visibleArea.minX : graphicBBox.x + graphicBBox.width + offset\r\n                }\r\n                if (visibleArea.maxX < coord.x + labelBBox.width) {\r\n                    coord.x = isInside ? visibleArea.maxX - labelBBox.width : graphicBBox.x - offset - labelBBox.width\r\n                }\r\n                if (visibleArea.minY > coord.y) {\r\n                    coord.y = visibleArea.minY\r\n                }\r\n                if (visibleArea.maxY < coord.y + labelBBox.height) {\r\n                    coord.y = visibleArea.maxY - labelBBox.height\r\n                }\r\n            }\r\n        }\r\n        return coord\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        var labelBBox = label.getBoundingRect();\r\n        var labelOptions = label.getLayoutOptions();\r\n        if (!this._options.rotated) {\r\n            if (\"left\" === labelOptions.alignment) {\r\n                coord.x += labelBBox.width / 2\r\n            } else if (\"right\" === labelOptions.alignment) {\r\n                coord.x -= labelBBox.width / 2\r\n            }\r\n        }\r\n        coord.x += labelOptions.horizontalOffset;\r\n        coord.y += labelOptions.verticalOffset;\r\n        return coord\r\n    },\r\n    _getLabelCoords: function(label) {\r\n        return this._getLabelCoordOfPosition(label, this._getLabelPosition(label.pointPosition))\r\n    },\r\n    _getLabelCoordOfPosition: function(label, position) {\r\n        var labelBBox = label.getBoundingRect();\r\n        var graphicBBox = this._getGraphicBBox(label.pointPosition);\r\n        var offset = LABEL_OFFSET;\r\n        var centerY = graphicBBox.height / 2 - labelBBox.height / 2;\r\n        var centerX = graphicBBox.width / 2 - labelBBox.width / 2;\r\n        var x = graphicBBox.x;\r\n        var y = graphicBBox.y;\r\n        switch (position) {\r\n            case \"left\":\r\n                x -= labelBBox.width + offset;\r\n                y += centerY;\r\n                break;\r\n            case \"right\":\r\n                x += graphicBBox.width + offset;\r\n                y += centerY;\r\n                break;\r\n            case \"top\":\r\n                x += centerX;\r\n                y -= labelBBox.height + offset;\r\n                break;\r\n            case \"bottom\":\r\n                x += centerX;\r\n                y += graphicBBox.height + offset;\r\n                break;\r\n            case \"inside\":\r\n                x += centerX;\r\n                y += centerY\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var options = this._options;\r\n        var translates = this._getTranslates(animationEnabled);\r\n        var style = this._getStyle();\r\n        this.graphic = this._createMarker(renderer, group, options.image, _extend({\r\n            translateX: translates.x,\r\n            translateY: translates.y,\r\n            points: this._populatePointShape(options.symbol, style.r)\r\n        }, style))\r\n    },\r\n    _getErrorBarSettings: function() {\r\n        return {\r\n            visibility: \"visible\"\r\n        }\r\n    },\r\n    _getErrorBarBaseEdgeLength() {\r\n        return 2 * this.getPointRadius()\r\n    },\r\n    _drawErrorBar: function(renderer, group) {\r\n        if (!this._options.errorBars) {\r\n            return\r\n        }\r\n        var options = this._options;\r\n        var errorBarOptions = options.errorBars;\r\n        var points = [];\r\n        var settings;\r\n        var pos = this._errorBarPos;\r\n        var high = this._highErrorCoord;\r\n        var low = this._lowErrorCoord;\r\n        var displayMode = _normalizeEnum(errorBarOptions.displayMode);\r\n        var isHighDisplayMode = \"high\" === displayMode;\r\n        var isLowDisplayMode = \"low\" === displayMode;\r\n        var highErrorOnly = (isHighDisplayMode || !_isDefined(low)) && _isDefined(high) && !isLowDisplayMode;\r\n        var lowErrorOnly = (isLowDisplayMode || !_isDefined(high)) && _isDefined(low) && !isHighDisplayMode;\r\n        var edgeLength = errorBarOptions.edgeLength;\r\n        if (edgeLength <= 1 && edgeLength > 0) {\r\n            edgeLength = this._getErrorBarBaseEdgeLength() * errorBarOptions.edgeLength\r\n        }\r\n        edgeLength = _floor(parseInt(edgeLength) / 2);\r\n        highErrorOnly && (low = this._baseErrorBarPos);\r\n        lowErrorOnly && (high = this._baseErrorBarPos);\r\n        if (\"none\" !== displayMode && _isDefined(high) && _isDefined(low) && _isDefined(pos)) {\r\n            !lowErrorOnly && points.push([pos - edgeLength, high, pos + edgeLength, high]);\r\n            points.push([pos, high, pos, low]);\r\n            !highErrorOnly && points.push([pos + edgeLength, low, pos - edgeLength, low]);\r\n            options.rotated && each(points, (function(_, p) {\r\n                p.reverse()\r\n            }));\r\n            settings = this._getErrorBarSettings(errorBarOptions);\r\n            if (!this._errorBar) {\r\n                this._errorBar = renderer.path(points, \"line\").attr(settings).append(group)\r\n            } else {\r\n                settings.points = points;\r\n                this._errorBar.attr(settings)\r\n            }\r\n        } else {\r\n            this._errorBar && this._errorBar.attr({\r\n                visibility: \"hidden\"\r\n            })\r\n        }\r\n    },\r\n    getTooltipParams: function() {\r\n        var graphic = this.graphic;\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n            offset: graphic ? graphic.getBBox().height / 2 : 0\r\n        }\r\n    },\r\n    setPercentValue: function(absTotal, total, leftHoleTotal, rightHoleTotal) {\r\n        var valuePercent = this.value / absTotal || 0;\r\n        var minValuePercent = this.minValue / absTotal || 0;\r\n        var percent = valuePercent - minValuePercent;\r\n        this._label.setDataField(\"percent\", percent);\r\n        this._label.setDataField(\"total\", total);\r\n        if (this.series.isFullStackedSeries() && this.hasValue()) {\r\n            if (this.leftHole) {\r\n                this.leftHole /= absTotal - leftHoleTotal;\r\n                this.minLeftHole /= absTotal - leftHoleTotal\r\n            }\r\n            if (this.rightHole) {\r\n                this.rightHole /= absTotal - rightHoleTotal;\r\n                this.minRightHole /= absTotal - rightHoleTotal\r\n            }\r\n            this.value = this.properValue = valuePercent;\r\n            this.minValue = !minValuePercent ? this.minValue : minValuePercent\r\n        }\r\n    },\r\n    _storeTrackerR: function() {\r\n        var navigator = window.navigator;\r\n        var r = this._options.styles.normal.r;\r\n        var minTrackerSize = hasProperty(\"ontouchstart\") || navigator.msPointerEnabled && navigator.msMaxTouchPoints || navigator.pointerEnabled && navigator.maxTouchPoints ? 20 : 6;\r\n        this._options.trackerR = r < minTrackerSize ? minTrackerSize : r;\r\n        return this._options.trackerR\r\n    },\r\n    _translateErrorBars: function() {\r\n        var options = this._options;\r\n        var rotated = options.rotated;\r\n        var errorBars = options.errorBars;\r\n        var translator = this._getValTranslator();\r\n        if (!errorBars) {\r\n            return\r\n        }\r\n        _isDefined(this.lowError) && (this._lowErrorCoord = translator.translate(this.lowError));\r\n        _isDefined(this.highError) && (this._highErrorCoord = translator.translate(this.highError));\r\n        this._errorBarPos = _floor(rotated ? this.vy : this.vx);\r\n        this._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? this._lowErrorCoord + (this._highErrorCoord - this._lowErrorCoord) / 2 : rotated ? this.vx : this.vy\r\n    },\r\n    _translate: function() {\r\n        var valTranslator = this._getValTranslator();\r\n        var argTranslator = this._getArgTranslator();\r\n        if (this._options.rotated) {\r\n            this.vx = this.x = valTranslator.translate(this.value);\r\n            this.vy = this.y = argTranslator.translate(this.argument);\r\n            this.minX = valTranslator.translate(this.minValue);\r\n            this.defaultX = valTranslator.translate(CANVAS_POSITION_DEFAULT)\r\n        } else {\r\n            this.vy = this.y = valTranslator.translate(this.value);\r\n            this.vx = this.x = argTranslator.translate(this.argument);\r\n            this.minY = valTranslator.translate(this.minValue);\r\n            this.defaultY = valTranslator.translate(CANVAS_POSITION_DEFAULT)\r\n        }\r\n        this._translateErrorBars();\r\n        this._calculateVisibility(this.x, this.y)\r\n    },\r\n    _updateData: function(data) {\r\n        this.value = this.properValue = this.initialValue = this.originalValue = data.value;\r\n        this.minValue = this.initialMinValue = this.originalMinValue = _isDefined(data.minValue) ? data.minValue : CANVAS_POSITION_DEFAULT\r\n    },\r\n    _getImageSettings: function(image) {\r\n        return {\r\n            href: image.url || image.toString(),\r\n            width: image.width || DEFAULT_IMAGE_WIDTH,\r\n            height: image.height || DEFAULT_IMAGE_HEIGHT\r\n        }\r\n    },\r\n    getCrosshairData: function() {\r\n        var r = this._options.rotated;\r\n        var value = this.properValue;\r\n        var argument = this.argument;\r\n        return {\r\n            x: this.vx,\r\n            y: this.vy,\r\n            xValue: r ? value : argument,\r\n            yValue: r ? argument : value,\r\n            axis: this.series.axis\r\n        }\r\n    },\r\n    getPointRadius: function() {\r\n        var style = this._getStyle();\r\n        var options = this._options;\r\n        var r = style.r;\r\n        var extraSpace;\r\n        var symbol = options.symbol;\r\n        var isSquare = \"square\" === symbol;\r\n        var isTriangle = \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol;\r\n        if (options.visible && !options.image && r) {\r\n            extraSpace = style[\"stroke-width\"] / 2;\r\n            return (isSquare || isTriangle ? 1.4 * r : r) + extraSpace\r\n        }\r\n        return 0\r\n    },\r\n    _updateMarker: function(animationEnabled, style) {\r\n        var options = this._options;\r\n        var settings;\r\n        var image = options.image;\r\n        var visibility = !this.isVisible() ? {\r\n            visibility: \"hidden\"\r\n        } : {};\r\n        if (this._checkImage(image)) {\r\n            settings = _extend({}, {\r\n                visibility: style.visibility\r\n            }, visibility, this._getImageSettings(image))\r\n        } else {\r\n            settings = _extend({}, style, visibility, {\r\n                points: this._populatePointShape(options.symbol, style.r)\r\n            })\r\n        }\r\n        if (!animationEnabled) {\r\n            settings.translateX = this.x;\r\n            settings.translateY = this.y\r\n        }\r\n        this.graphic.attr(settings).sharp()\r\n    },\r\n    _getLabelFormatObject: function() {\r\n        return {\r\n            argument: this.initialArgument,\r\n            value: this.initialValue,\r\n            originalArgument: this.originalArgument,\r\n            originalValue: this.originalValue,\r\n            seriesName: this.series.name,\r\n            lowErrorValue: this.lowError,\r\n            highErrorValue: this.highError,\r\n            point: this\r\n        }\r\n    },\r\n    _getLabelPosition: function() {\r\n        var rotated = this._options.rotated;\r\n        if (this.initialValue > 0) {\r\n            return rotated ? \"right\" : \"top\"\r\n        } else {\r\n            return rotated ? \"left\" : \"bottom\"\r\n        }\r\n    },\r\n    _getFormatObject: function(tooltip) {\r\n        var labelFormatObject = this._label.getData();\r\n        return _extend({}, labelFormatObject, {\r\n            argumentText: tooltip.formatValue(this.initialArgument, \"argument\"),\r\n            valueText: tooltip.formatValue(this.initialValue)\r\n        }, _isDefined(labelFormatObject.percent) ? {\r\n            percentText: tooltip.formatValue(labelFormatObject.percent, \"percent\")\r\n        } : {}, _isDefined(labelFormatObject.total) ? {\r\n            totalText: tooltip.formatValue(labelFormatObject.total)\r\n        } : {})\r\n    },\r\n    getMarkerVisibility: function() {\r\n        return this._options.visible\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var trackerRadius = this._storeTrackerR();\r\n        return x >= this.x - trackerRadius && x <= this.x + trackerRadius && y >= this.y - trackerRadius && y <= this.y + trackerRadius\r\n    },\r\n    getMinValue: function(noErrorBar) {\r\n        var errorBarOptions = this._options.errorBars;\r\n        if (errorBarOptions && !noErrorBar) {\r\n            var displayMode = errorBarOptions.displayMode;\r\n            var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\r\n            var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\r\n            return lowValue < highValue ? lowValue : highValue\r\n        } else {\r\n            return this.value\r\n        }\r\n    },\r\n    getMaxValue: function(noErrorBar) {\r\n        var errorBarOptions = this._options.errorBars;\r\n        if (errorBarOptions && !noErrorBar) {\r\n            var displayMode = errorBarOptions.displayMode;\r\n            var lowValue = \"high\" !== displayMode && _isDefined(this.lowError) ? this.lowError : this.value;\r\n            var highValue = \"low\" !== displayMode && _isDefined(this.highError) ? this.highError : this.value;\r\n            return lowValue > highValue ? lowValue : highValue\r\n        } else {\r\n            return this.value\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}