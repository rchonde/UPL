{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/calendar/ui.calendar.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport Guid from \"../../core/guid\";\nimport registerComponent from \"../../core/component_registrator\";\nimport { noop } from \"../../core/utils/common\";\nimport { isNumeric, isString, isFunction, isDefined } from \"../../core/utils/type\";\nimport { inRange } from \"../../core/utils/math\";\nimport { extend } from \"../../core/utils/extend\";\nimport Button from \"../button\";\nimport Editor from \"../editor/editor\";\nimport Swipeable from \"../../events/gesture/swipeable\";\nimport Navigator from \"./ui.calendar.navigator\";\nimport Views from \"./ui.calendar.views\";\nimport { move } from \"../../animation/translator\";\nimport dateUtils from \"../../core/utils/date\";\nimport dateSerialization from \"../../core/utils/date_serialization\";\nimport devices from \"../../core/devices\";\nimport fx from \"../../animation/fx\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport messageLocalization from \"../../localization/message\";\nimport dateLocalization from \"../../localization/date\";\nimport { FunctionTemplate } from \"../../core/templates/function_template\";\nimport { isCommandKeyPressed } from \"../../events/utils/index\";\nvar CALENDAR_CLASS = \"dx-calendar\";\nvar CALENDAR_BODY_CLASS = \"dx-calendar-body\";\nvar CALENDAR_CELL_CLASS = \"dx-calendar-cell\";\nvar CALENDAR_FOOTER_CLASS = \"dx-calendar-footer\";\nvar CALENDAR_TODAY_BUTTON_CLASS = \"dx-calendar-today-button\";\nvar CALENDAR_HAS_FOOTER_CLASS = \"dx-calendar-with-footer\";\nvar CALENDAR_VIEWS_WRAPPER_CLASS = \"dx-calendar-views-wrapper\";\nvar CALENDAR_VIEW_CLASS = \"dx-calendar-view\";\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\nvar ANIMATION_DURATION_SHOW_VIEW = 250;\nvar POP_ANIMATION_FROM = .6;\nvar POP_ANIMATION_TO = 1;\nvar CALENDAR_INPUT_STANDARD_PATTERN = \"yyyy-MM-dd\";\nvar CALENDAR_DATE_VALUE_KEY = \"dxDateValueKey\";\nvar LEVEL_COMPARE_MAP = {\n  month: 3,\n  year: 2,\n  decade: 1,\n  century: 0\n};\nvar ZOOM_LEVEL = {\n  MONTH: \"month\",\n  YEAR: \"year\",\n  DECADE: \"decade\",\n  CENTURY: \"century\"\n};\n\nfunction elementHasFocus(element) {\n  return element.hasClass(FOCUSED_STATE_CLASS);\n}\n\nvar Calendar = Editor.inherit({\n  _activeStateUnit: \".\" + CALENDAR_CELL_CLASS,\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      hoverStateEnabled: true,\n      activeStateEnabled: true,\n      currentDate: new Date(),\n      value: null,\n      dateSerializationFormat: void 0,\n      min: new Date(1e3, 0),\n      max: new Date(3e3, 0),\n      firstDayOfWeek: void 0,\n      zoomLevel: ZOOM_LEVEL.MONTH,\n      maxZoomLevel: ZOOM_LEVEL.MONTH,\n      minZoomLevel: ZOOM_LEVEL.CENTURY,\n      showTodayButton: false,\n      showWeekNumbers: false,\n      weekNumberRule: \"auto\",\n      cellTemplate: \"cell\",\n      disabledDates: null,\n      onCellClick: null,\n      onContouredChanged: null,\n      skipFocusCheck: false,\n      _todayDate: () => new Date()\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }]);\n  },\n  _supportedKeys: function () {\n    return extend(this.callBase(), {\n      rightArrow: function (e) {\n        e.preventDefault();\n\n        if (isCommandKeyPressed(e)) {\n          this._waitRenderView(1);\n        } else {\n          this._moveCurrentDateByOffset(1 * this._getRtlCorrection());\n        }\n      },\n      leftArrow: function (e) {\n        e.preventDefault();\n\n        if (isCommandKeyPressed(e)) {\n          this._waitRenderView(-1);\n        } else {\n          this._moveCurrentDateByOffset(-1 * this._getRtlCorrection());\n        }\n      },\n      upArrow: function (e) {\n        e.preventDefault();\n\n        if (isCommandKeyPressed(e)) {\n          this._navigateUp();\n        } else {\n          if (fx.isAnimating(this._view.$element())) {\n            return;\n          }\n\n          this._moveCurrentDateByOffset(-1 * this._view.option(\"colCount\"));\n        }\n      },\n      downArrow: function (e) {\n        e.preventDefault();\n\n        if (isCommandKeyPressed(e)) {\n          this._navigateDown();\n        } else {\n          if (fx.isAnimating(this._view.$element())) {\n            return;\n          }\n\n          this._moveCurrentDateByOffset(1 * this._view.option(\"colCount\"));\n        }\n      },\n      home: function (e) {\n        e.preventDefault();\n        var zoomLevel = this.option(\"zoomLevel\");\n        var currentDate = this.option(\"currentDate\");\n\n        var min = this._dateOption(\"min\");\n\n        if (this._view.isDateDisabled(currentDate)) {\n          return;\n        }\n\n        var date = dateUtils.sameView(zoomLevel, currentDate, min) ? min : dateUtils.getViewFirstCellDate(zoomLevel, currentDate);\n\n        this._moveToClosestAvailableDate(date);\n      },\n      end: function (e) {\n        e.preventDefault();\n        var zoomLevel = this.option(\"zoomLevel\");\n        var currentDate = this.option(\"currentDate\");\n\n        var max = this._dateOption(\"max\");\n\n        if (this._view.isDateDisabled(currentDate)) {\n          return;\n        }\n\n        var date = dateUtils.sameView(zoomLevel, currentDate, max) ? max : dateUtils.getViewLastCellDate(zoomLevel, currentDate);\n\n        this._moveToClosestAvailableDate(date);\n      },\n      pageUp: function (e) {\n        e.preventDefault();\n\n        this._waitRenderView(-1 * this._getRtlCorrection());\n      },\n      pageDown: function (e) {\n        e.preventDefault();\n\n        this._waitRenderView(1 * this._getRtlCorrection());\n      },\n      tab: noop,\n      enter: function (e) {\n        if (!this._isMaxZoomLevel()) {\n          this._navigateDown();\n        } else if (!this._view.isDateDisabled(this.option(\"currentDate\"))) {\n          var value = this._updateTimeComponent(this.option(\"currentDate\"));\n\n          this._dateValue(value, e);\n        }\n      }\n    });\n  },\n  _getSerializationFormat: function (optionName) {\n    var value = this.option(optionName || \"value\");\n\n    if (this.option(\"dateSerializationFormat\")) {\n      return this.option(\"dateSerializationFormat\");\n    }\n\n    if (isNumeric(value)) {\n      return \"number\";\n    }\n\n    if (!isString(value)) {\n      return;\n    }\n\n    return dateSerialization.getDateSerializationFormat(value);\n  },\n  _convertToDate: function (value, optionName) {\n    return dateSerialization.deserializeDate(value);\n  },\n  _dateValue: function (value, event) {\n    if (event) {\n      if (\"keydown\" === event.type) {\n        var cellElement = this._view._getContouredCell().get(0);\n\n        event.target = cellElement;\n      }\n\n      this._saveValueChangeEvent(event);\n    }\n\n    this._dateOption(\"value\", value);\n  },\n  _dateOption: function (optionName, optionValue) {\n    if (1 === arguments.length) {\n      return this._convertToDate(this.option(optionName), optionName);\n    }\n\n    var serializationFormat = this._getSerializationFormat(optionName);\n\n    this.option(optionName, dateSerialization.serializeDate(optionValue, serializationFormat));\n  },\n  _shiftDate: function (zoomLevel, date, offset, reverse) {\n    switch (zoomLevel) {\n      case ZOOM_LEVEL.MONTH:\n        date.setDate(date.getDate() + offset * reverse);\n        break;\n\n      case ZOOM_LEVEL.YEAR:\n        date.setMonth(date.getMonth() + offset * reverse);\n        break;\n\n      case ZOOM_LEVEL.DECADE:\n        date.setFullYear(date.getFullYear() + offset * reverse);\n        break;\n\n      case ZOOM_LEVEL.CENTURY:\n        date.setFullYear(date.getFullYear() + 10 * offset * reverse);\n    }\n  },\n  _moveCurrentDateByOffset: function (offset) {\n    var baseDate = this.option(\"currentDate\");\n    var currentDate = new Date(baseDate);\n    var zoomLevel = this.option(\"zoomLevel\");\n\n    this._shiftDate(zoomLevel, currentDate, offset, 1);\n\n    var maxDate = this._getMaxDate();\n\n    var minDate = this._getMinDate();\n\n    var isDateForwardInNeighborView = this._areDatesInNeighborView(zoomLevel, currentDate, baseDate);\n\n    var isDateForwardInRange = inRange(currentDate, minDate, maxDate) && isDateForwardInNeighborView;\n    var dateForward = new Date(currentDate);\n\n    while (isDateForwardInRange) {\n      if (!this._view.isDateDisabled(dateForward)) {\n        currentDate = dateForward;\n        break;\n      }\n\n      this._shiftDate(zoomLevel, dateForward, offset, 1);\n\n      isDateForwardInNeighborView = this._areDatesInNeighborView(zoomLevel, dateForward, baseDate);\n      isDateForwardInRange = inRange(dateForward, minDate, maxDate) && isDateForwardInNeighborView;\n    }\n\n    if (this._view.isDateDisabled(baseDate) || this._view.isDateDisabled(currentDate)) {\n      this._waitRenderView(offset > 0 ? 1 : -1);\n    } else {\n      this.option(\"currentDate\", currentDate);\n    }\n  },\n\n  _areDatesInSameView(zoomLevel, date1, date2) {\n    switch (zoomLevel) {\n      case ZOOM_LEVEL.MONTH:\n        return date1.getMonth() === date2.getMonth();\n\n      case ZOOM_LEVEL.YEAR:\n        return date1.getYear() === date2.getYear();\n\n      case ZOOM_LEVEL.DECADE:\n        return parseInt(date1.getYear() / 10) === parseInt(date2.getYear() / 10);\n\n      case ZOOM_LEVEL.CENTURY:\n        return parseInt(date1.getYear() / 100) === parseInt(date2.getYear() / 100);\n    }\n  },\n\n  _areDatesInNeighborView(zoomLevel, date1, date2) {\n    switch (zoomLevel) {\n      case ZOOM_LEVEL.MONTH:\n        return (a = date1.getMonth(), b = date2.getMonth(), abs = Math.abs(a - b), Math.min(abs, 12 - abs)) <= 1;\n\n      case ZOOM_LEVEL.YEAR:\n        return Math.abs(date1.getYear() - date2.getYear()) <= 1;\n\n      case ZOOM_LEVEL.DECADE:\n        return Math.abs(date1.getYear() - date2.getYear()) <= 10;\n\n      case ZOOM_LEVEL.CENTURY:\n        return Math.abs(date1.getYear() - date2.getYear()) <= 100;\n    }\n\n    var a, b, abs;\n  },\n\n  _moveToClosestAvailableDate: function () {\n    var baseDate = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.option(\"currentDate\");\n    var currentDate = new Date(baseDate);\n    var zoomLevel = this.option(\"zoomLevel\");\n    var isCurrentDateAvailable = !this._isDateNotAvailable(currentDate);\n    var isDateForwardAvailable = isCurrentDateAvailable;\n    var isDateBackwardAvailable = isCurrentDateAvailable;\n    var isDateForwardInStartView;\n    var isDateBackwardInStartView;\n    var dateForward = new Date(currentDate);\n    var dateBackward = new Date(currentDate);\n\n    do {\n      if (isDateForwardAvailable) {\n        currentDate = dateForward;\n        break;\n      }\n\n      if (isDateBackwardAvailable) {\n        currentDate = dateBackward;\n        break;\n      }\n\n      this._shiftDate(zoomLevel, dateForward, 1, 1);\n\n      this._shiftDate(zoomLevel, dateBackward, 1, -1);\n\n      isDateForwardInStartView = this._areDatesInSameView(zoomLevel, dateForward, baseDate);\n      isDateBackwardInStartView = this._areDatesInSameView(zoomLevel, dateBackward, baseDate);\n      isDateForwardAvailable = isDateForwardInStartView && !this._isDateNotAvailable(dateForward);\n      isDateBackwardAvailable = isDateBackwardInStartView && !this._isDateNotAvailable(dateBackward);\n    } while (isDateForwardInStartView || isDateBackwardInStartView);\n\n    this.option(\"currentDate\", currentDate);\n  },\n  _isDateNotAvailable: function (date) {\n    var maxDate = this._getMaxDate();\n\n    var minDate = this._getMinDate();\n\n    return !inRange(date, minDate, maxDate) || this._view.isDateDisabled(date);\n  },\n  _init: function () {\n    this.callBase();\n\n    this._correctZoomLevel();\n\n    this._initCurrentDate();\n\n    this._initActions();\n  },\n  _correctZoomLevel: function () {\n    var minZoomLevel = this.option(\"minZoomLevel\");\n    var maxZoomLevel = this.option(\"maxZoomLevel\");\n    var zoomLevel = this.option(\"zoomLevel\");\n\n    if (LEVEL_COMPARE_MAP[maxZoomLevel] < LEVEL_COMPARE_MAP[minZoomLevel]) {\n      return;\n    }\n\n    if (LEVEL_COMPARE_MAP[zoomLevel] > LEVEL_COMPARE_MAP[maxZoomLevel]) {\n      this.option(\"zoomLevel\", maxZoomLevel);\n    } else if (LEVEL_COMPARE_MAP[zoomLevel] < LEVEL_COMPARE_MAP[minZoomLevel]) {\n      this.option(\"zoomLevel\", minZoomLevel);\n    }\n  },\n  _initCurrentDate: function () {\n    var currentDate = this._getNormalizedDate(this._dateOption(\"value\")) || this._getNormalizedDate(this.option(\"currentDate\"));\n\n    this.option(\"currentDate\", currentDate);\n  },\n  _getNormalizedDate: function (date) {\n    date = dateUtils.normalizeDate(date, this._getMinDate(), this._getMaxDate());\n    return isDefined(date) ? this._getDate(date) : date;\n  },\n  _initActions: function () {\n    this._cellClickAction = this._createActionByOption(\"onCellClick\");\n    this._onContouredChanged = this._createActionByOption(\"onContouredChanged\");\n  },\n  _initTemplates: function () {\n    this._templateManager.addDefaultTemplates({\n      cell: new FunctionTemplate(function (options) {\n        var data = options.model;\n        $(options.container).append($(\"<span>\").text(data && data.text || String(data)));\n      })\n    });\n\n    this.callBase();\n  },\n  _updateCurrentDate: function (date) {\n    if (fx.isAnimating(this._$viewsWrapper)) {\n      fx.stop(this._$viewsWrapper, true);\n    }\n\n    var min = this._getMinDate();\n\n    var max = this._getMaxDate();\n\n    if (min > max) {\n      this.option(\"currentDate\", new Date());\n      return;\n    }\n\n    var normalizedDate = this._getNormalizedDate(date);\n\n    if (date.getTime() !== normalizedDate.getTime()) {\n      this.option(\"currentDate\", new Date(normalizedDate));\n      return;\n    }\n\n    var offset = this._getViewsOffset(this._view.option(\"date\"), normalizedDate);\n\n    if (0 !== offset && !this._isMaxZoomLevel() && this._isOtherViewCellClicked) {\n      offset = 0;\n    }\n\n    if (this._view && 0 !== offset && !this._suppressNavigation) {\n      this._navigate(offset, normalizedDate);\n    } else {\n      this._renderNavigator();\n\n      this._setViewContoured(normalizedDate);\n\n      this._updateAriaId(normalizedDate);\n    }\n  },\n  _setViewContoured: function (date) {\n    if (this.option(\"skipFocusCheck\") || elementHasFocus(this._focusTarget())) {\n      this._view.option(\"contouredDate\", date);\n    }\n  },\n  _getMinDate: function () {\n    if (this.min) {\n      return this.min;\n    }\n\n    this.min = this._dateOption(\"min\") || new Date(1e3, 0);\n    return this.min;\n  },\n  _getMaxDate: function () {\n    if (this.max) {\n      return this.max;\n    }\n\n    this.max = this._dateOption(\"max\") || new Date(3e3, 0);\n    return this.max;\n  },\n  _getViewsOffset: function (startDate, endDate) {\n    var zoomLevel = this.option(\"zoomLevel\");\n\n    if (zoomLevel === ZOOM_LEVEL.MONTH) {\n      return this._getMonthsOffset(startDate, endDate);\n    }\n\n    var zoomCorrection;\n\n    switch (zoomLevel) {\n      case ZOOM_LEVEL.CENTURY:\n        zoomCorrection = 100;\n        break;\n\n      case ZOOM_LEVEL.DECADE:\n        zoomCorrection = 10;\n        break;\n\n      default:\n        zoomCorrection = 1;\n    }\n\n    return parseInt(endDate.getFullYear() / zoomCorrection) - parseInt(startDate.getFullYear() / zoomCorrection);\n  },\n  _getMonthsOffset: function (startDate, endDate) {\n    var yearOffset = endDate.getFullYear() - startDate.getFullYear();\n    var monthOffset = endDate.getMonth() - startDate.getMonth();\n    return 12 * yearOffset + monthOffset;\n  },\n  _waitRenderView: function (offset) {\n    if (this._alreadyViewRender) {\n      return;\n    }\n\n    this._alreadyViewRender = true;\n\n    var date = this._getDateByOffset(offset * this._getRtlCorrection());\n\n    this._moveToClosestAvailableDate(date);\n\n    this._waitRenderViewTimeout = setTimeout(() => {\n      this._alreadyViewRender = false;\n    });\n  },\n  _getRtlCorrection: function () {\n    return this.option(\"rtlEnabled\") ? -1 : 1;\n  },\n  _getDateByOffset: function (offset, date) {\n    var _date;\n\n    date = this._getDate(null !== (_date = date) && void 0 !== _date ? _date : this.option(\"currentDate\"));\n    var currentDay = date.getDate();\n    var difference = dateUtils.getDifferenceInMonth(this.option(\"zoomLevel\")) * offset;\n    date.setDate(1);\n    date.setMonth(date.getMonth() + difference);\n    var lastDay = dateUtils.getLastMonthDate(date).getDate();\n    date.setDate(currentDay > lastDay ? lastDay : currentDay);\n    return date;\n  },\n  _focusTarget: function () {\n    return this.$element();\n  },\n  _initMarkup: function () {\n    this._renderSubmitElement();\n\n    this.callBase();\n    var $element = this.$element();\n    $element.addClass(CALENDAR_CLASS);\n\n    this._renderBody();\n\n    $element.append(this.$body);\n\n    this._renderViews();\n\n    this._renderNavigator();\n\n    $element.append(this._navigator.$element());\n\n    this._renderSwipeable();\n\n    this._renderFooter();\n\n    this._updateAriaSelected();\n\n    this._updateAriaId();\n\n    this._moveToClosestAvailableDate();\n  },\n  _render: function () {\n    this.callBase();\n\n    this._setViewContoured(this.option(\"currentDate\"));\n  },\n  _renderBody: function () {\n    if (!this._$viewsWrapper) {\n      this.$body = $(\"<div>\").addClass(CALENDAR_BODY_CLASS);\n      this._$viewsWrapper = $(\"<div>\").addClass(CALENDAR_VIEWS_WRAPPER_CLASS);\n      this.$body.append(this._$viewsWrapper);\n    }\n  },\n\n  _getKeyboardListeners() {\n    return this.callBase().concat([this._view]);\n  },\n\n  _renderViews: function () {\n    this.$element().addClass(CALENDAR_VIEW_CLASS + \"-\" + this.option(\"zoomLevel\"));\n    var currentDate = this.option(\"currentDate\");\n    this._view = this._renderSpecificView(currentDate);\n\n    if (hasWindow()) {\n      var beforeDate = this._getDateByOffset(-1, currentDate);\n\n      this._beforeView = this._isViewAvailable(beforeDate) ? this._renderSpecificView(beforeDate) : null;\n\n      var afterDate = this._getDateByOffset(1, currentDate);\n\n      afterDate.setDate(1);\n      this._afterView = this._isViewAvailable(afterDate) ? this._renderSpecificView(afterDate) : null;\n    }\n\n    this._translateViews();\n  },\n  _renderSpecificView: function (date) {\n    var specificView = Views[this.option(\"zoomLevel\")];\n    var $view = $(\"<div>\").appendTo(this._$viewsWrapper);\n\n    var config = this._viewConfig(date);\n\n    return this._createComponent($view, specificView, config);\n  },\n  _viewConfig: function (date) {\n    var _this$option;\n\n    var disabledDates = this.option(\"disabledDates\");\n    disabledDates = isFunction(disabledDates) ? this._injectComponent(disabledDates.bind(this)) : disabledDates;\n    return {\n      date: date,\n      min: this._getMinDate(),\n      max: this._getMaxDate(),\n      firstDayOfWeek: null !== (_this$option = this.option(\"firstDayOfWeek\")) && void 0 !== _this$option ? _this$option : dateLocalization.firstDayOfWeekIndex(),\n      showWeekNumbers: this.option(\"showWeekNumbers\"),\n      weekNumberRule: this.option(\"weekNumberRule\"),\n      zoomLevel: this.option(\"zoomLevel\"),\n      value: this._dateOption(\"value\"),\n      tabIndex: void 0,\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      hoverStateEnabled: this.option(\"hoverStateEnabled\"),\n      disabledDates: disabledDates,\n      onCellClick: this._cellClickHandler.bind(this),\n      cellTemplate: this._getTemplateByOption(\"cellTemplate\"),\n      allowValueSelection: this._isMaxZoomLevel(),\n      _todayDate: this.option(\"_todayDate\")\n    };\n  },\n  _injectComponent: function (func) {\n    var that = this;\n    return function (params) {\n      extend(params, {\n        component: that\n      });\n      return func(params);\n    };\n  },\n  _isViewAvailable: function (date) {\n    var zoomLevel = this.option(\"zoomLevel\");\n    var min = dateUtils.getViewMinBoundaryDate(zoomLevel, this._getMinDate());\n    var max = dateUtils.getViewMaxBoundaryDate(zoomLevel, this._getMaxDate());\n    return dateUtils.dateInRange(date, min, max);\n  },\n  _translateViews: function () {\n    move(this._view.$element(), {\n      left: 0,\n      top: 0\n    });\n    this._beforeView && move(this._beforeView.$element(), {\n      left: this._getViewPosition(-1),\n      top: 0\n    });\n    this._afterView && move(this._afterView.$element(), {\n      left: this._getViewPosition(1),\n      top: 0\n    });\n  },\n  _getViewPosition: function (coefficient) {\n    var rtlCorrection = this.option(\"rtlEnabled\") ? -1 : 1;\n    return 100 * coefficient * rtlCorrection + \"%\";\n  },\n  _cellClickHandler: function (e) {\n    var zoomLevel = this.option(\"zoomLevel\");\n    var nextView = dateUtils.getViewDown(zoomLevel);\n\n    var isMaxZoomLevel = this._isMaxZoomLevel();\n\n    if (nextView && !isMaxZoomLevel) {\n      this._navigateDown(e.event.currentTarget);\n    } else {\n      var newValue = this._updateTimeComponent(e.value);\n\n      this._dateValue(newValue, e.event);\n\n      this._cellClickAction(e);\n    }\n  },\n  _updateTimeComponent: function (date) {\n    var result = new Date(date);\n\n    var currentValue = this._dateOption(\"value\");\n\n    if (currentValue) {\n      result.setHours(currentValue.getHours());\n      result.setMinutes(currentValue.getMinutes());\n      result.setSeconds(currentValue.getSeconds());\n      result.setMilliseconds(currentValue.getMilliseconds());\n    }\n\n    return result;\n  },\n  _isMaxZoomLevel: function () {\n    return this.option(\"zoomLevel\") === this.option(\"maxZoomLevel\");\n  },\n  _navigateDown: function (cell) {\n    var zoomLevel = this.option(\"zoomLevel\");\n\n    if (this._isMaxZoomLevel()) {\n      return;\n    }\n\n    var nextView = dateUtils.getViewDown(zoomLevel);\n\n    if (!nextView) {\n      return;\n    }\n\n    var newCurrentDate = this._view.option(\"contouredDate\") || this._view.option(\"date\");\n\n    if (cell) {\n      newCurrentDate = $(cell).data(CALENDAR_DATE_VALUE_KEY);\n    }\n\n    this._isOtherViewCellClicked = true;\n    this.option(\"currentDate\", newCurrentDate);\n    this.option(\"zoomLevel\", nextView);\n    this._isOtherViewCellClicked = false;\n\n    this._renderNavigator();\n\n    this._animateShowView();\n\n    this._moveToClosestAvailableDate();\n\n    this._setViewContoured(this._getNormalizedDate(this.option(\"currentDate\")));\n  },\n  _renderNavigator: function () {\n    if (!this._navigator) {\n      this._navigator = new Navigator($(\"<div>\"), this._navigatorConfig());\n    }\n\n    this._navigator.option(\"text\", this._view.getNavigatorCaption());\n\n    this._updateButtonsVisibility();\n  },\n  _navigatorConfig: function () {\n    return {\n      text: this._view.getNavigatorCaption(),\n      onClick: this._navigatorClickHandler.bind(this),\n      onCaptionClick: this._navigateUp.bind(this),\n      rtlEnabled: this.option(\"rtlEnabled\")\n    };\n  },\n  _navigatorClickHandler: function (e) {\n    var currentDate = this._getDateByOffset(e.direction, this.option(\"currentDate\"));\n\n    this._moveToClosestAvailableDate(currentDate);\n  },\n  _navigateUp: function () {\n    var zoomLevel = this.option(\"zoomLevel\");\n    var nextView = dateUtils.getViewUp(zoomLevel);\n\n    if (!nextView || this._isMinZoomLevel(zoomLevel)) {\n      return;\n    }\n\n    this.option(\"zoomLevel\", nextView);\n\n    this._renderNavigator();\n\n    this._animateShowView();\n\n    this._moveToClosestAvailableDate();\n\n    this._setViewContoured(this._getNormalizedDate(this.option(\"currentDate\")));\n  },\n  _isMinZoomLevel: function (zoomLevel) {\n    var min = this._getMinDate();\n\n    var max = this._getMaxDate();\n\n    return dateUtils.sameView(zoomLevel, min, max) || this.option(\"minZoomLevel\") === zoomLevel;\n  },\n  _updateButtonsVisibility: function () {\n    this._navigator.toggleButton(\"next\", !isDefined(this._getRequiredView(\"next\")));\n\n    this._navigator.toggleButton(\"prev\", !isDefined(this._getRequiredView(\"prev\")));\n  },\n  _renderSwipeable: function () {\n    if (!this._swipeable) {\n      this._swipeable = this._createComponent(this.$element(), Swipeable, {\n        onStart: this._swipeStartHandler.bind(this),\n        onUpdated: this._swipeUpdateHandler.bind(this),\n        onEnd: this._swipeEndHandler.bind(this),\n        itemSizeFunc: this._viewWidth.bind(this)\n      });\n    }\n  },\n  _swipeStartHandler: function (e) {\n    fx.stop(this._$viewsWrapper, true);\n    e.event.maxLeftOffset = this._getRequiredView(\"next\") ? 1 : 0;\n    e.event.maxRightOffset = this._getRequiredView(\"prev\") ? 1 : 0;\n  },\n  _getRequiredView: function (name) {\n    var view;\n    var isRtl = this.option(\"rtlEnabled\");\n\n    if (\"next\" === name) {\n      view = isRtl ? this._beforeView : this._afterView;\n    } else if (\"prev\" === name) {\n      view = isRtl ? this._afterView : this._beforeView;\n    }\n\n    return view;\n  },\n  _swipeUpdateHandler: function (e) {\n    var offset = e.event.offset;\n    move(this._$viewsWrapper, {\n      left: offset * this._viewWidth(),\n      top: 0\n    });\n\n    this._updateNavigatorCaption(offset);\n  },\n  _swipeEndHandler: function (e) {\n    var targetOffset = e.event.targetOffset;\n    var moveOffset = !targetOffset ? 0 : targetOffset / Math.abs(targetOffset);\n\n    if (0 === moveOffset) {\n      this._animateWrapper(0, ANIMATION_DURATION_SHOW_VIEW);\n\n      return;\n    }\n\n    var date = this._getDateByOffset(-moveOffset * this._getRtlCorrection());\n\n    if (this._isDateInInvalidRange(date)) {\n      if (moveOffset >= 0) {\n        date = new Date(this._getMinDate());\n      } else {\n        date = new Date(this._getMaxDate());\n      }\n    }\n\n    this.option(\"currentDate\", date);\n  },\n  _viewWidth: function () {\n    if (!this._viewWidthValue) {\n      this._viewWidthValue = getWidth(this.$element());\n    }\n\n    return this._viewWidthValue;\n  },\n  _updateNavigatorCaption: function (offset) {\n    offset *= this._getRtlCorrection();\n    var view = this._view;\n\n    if (offset > .5 && this._beforeView) {\n      view = this._beforeView;\n    } else if (offset < -.5 && this._afterView) {\n      view = this._afterView;\n    }\n\n    this._navigator.option(\"text\", view.getNavigatorCaption());\n  },\n  _isDateInInvalidRange: function (date) {\n    if (this._view.isBoundary(date)) {\n      return;\n    }\n\n    var min = this._getMinDate();\n\n    var max = this._getMaxDate();\n\n    var normalizedDate = dateUtils.normalizeDate(date, min, max);\n    return normalizedDate === min || normalizedDate === max;\n  },\n  _renderFooter: function () {\n    var showTodayButton = this.option(\"showTodayButton\");\n\n    if (showTodayButton) {\n      var $todayButton = this._createComponent($(\"<a>\"), Button, {\n        focusStateEnabled: false,\n        text: messageLocalization.format(\"dxCalendar-todayButtonText\"),\n        onClick: function (args) {\n          this._toTodayView(args);\n        }.bind(this),\n        integrationOptions: {}\n      }).$element().addClass(CALENDAR_TODAY_BUTTON_CLASS);\n\n      this._$footer = $(\"<div>\").addClass(CALENDAR_FOOTER_CLASS).append($todayButton);\n      this.$element().append(this._$footer);\n    }\n\n    this.$element().toggleClass(CALENDAR_HAS_FOOTER_CLASS, showTodayButton);\n  },\n  _renderSubmitElement: function () {\n    this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\n\n    this._setSubmitValue(this.option(\"value\"));\n  },\n  _setSubmitValue: function (value) {\n    var dateValue = this._convertToDate(value);\n\n    this._getSubmitElement().val(dateSerialization.serializeDate(dateValue, CALENDAR_INPUT_STANDARD_PATTERN));\n  },\n  _getSubmitElement: function () {\n    return this._$submitElement;\n  },\n  _animateShowView: function () {\n    fx.stop(this._view.$element(), true);\n    return this._popAnimationView(this._view, POP_ANIMATION_FROM, POP_ANIMATION_TO, ANIMATION_DURATION_SHOW_VIEW).promise();\n  },\n  _popAnimationView: function (view, from, to, duration) {\n    return fx.animate(view.$element(), {\n      type: \"pop\",\n      from: {\n        scale: from,\n        opacity: from\n      },\n      to: {\n        scale: to,\n        opacity: to\n      },\n      duration: duration\n    });\n  },\n  _navigate: function (offset, value) {\n    if (0 !== offset && 1 !== Math.abs(offset) && this._isViewAvailable(value)) {\n      var newView = this._renderSpecificView(value);\n\n      if (offset > 0) {\n        this._afterView && this._afterView.$element().remove();\n        this._afterView = newView;\n      } else {\n        this._beforeView && this._beforeView.$element().remove();\n        this._beforeView = newView;\n      }\n\n      this._translateViews();\n    }\n\n    var rtlCorrection = this._getRtlCorrection();\n\n    var offsetSign = offset > 0 ? 1 : offset < 0 ? -1 : 0;\n\n    var endPosition = -rtlCorrection * offsetSign * this._viewWidth();\n\n    var viewsWrapperPosition = this._$viewsWrapper.position().left;\n\n    if (viewsWrapperPosition !== endPosition) {\n      if (this._preventViewChangeAnimation) {\n        this._wrapperAnimationEndHandler(offset, value);\n      } else {\n        this._animateWrapper(endPosition, ANIMATION_DURATION_SHOW_VIEW).done(this._wrapperAnimationEndHandler.bind(this, offset, value));\n      }\n    }\n  },\n  _animateWrapper: function (to, duration) {\n    return fx.animate(this._$viewsWrapper, {\n      type: \"slide\",\n      from: {\n        left: this._$viewsWrapper.position().left\n      },\n      to: {\n        left: to\n      },\n      duration: duration\n    });\n  },\n  _getDate: value => new Date(value),\n  _toTodayView: function (args) {\n    this._saveValueChangeEvent(args.event);\n\n    var today = new Date();\n\n    if (this._isMaxZoomLevel()) {\n      this._dateOption(\"value\", today);\n\n      return;\n    }\n\n    this._preventViewChangeAnimation = true;\n    this.option(\"zoomLevel\", this.option(\"maxZoomLevel\"));\n\n    this._dateOption(\"value\", today);\n\n    this._animateShowView();\n\n    this._preventViewChangeAnimation = false;\n  },\n  _wrapperAnimationEndHandler: function (offset, newDate) {\n    this._rearrangeViews(offset);\n\n    this._translateViews();\n\n    this._resetLocation();\n\n    this._renderNavigator();\n\n    this._setViewContoured(newDate);\n\n    this._updateAriaId(newDate);\n  },\n  _rearrangeViews: function (offset) {\n    if (0 === offset) {\n      return;\n    }\n\n    var viewOffset;\n    var viewToCreateKey;\n    var viewToRemoveKey;\n\n    if (offset < 0) {\n      viewOffset = 1;\n      viewToCreateKey = \"_beforeView\";\n      viewToRemoveKey = \"_afterView\";\n    } else {\n      viewOffset = -1;\n      viewToCreateKey = \"_afterView\";\n      viewToRemoveKey = \"_beforeView\";\n    }\n\n    if (!this[viewToCreateKey]) {\n      return;\n    }\n\n    var destinationDate = this[viewToCreateKey].option(\"date\");\n\n    if (this[viewToRemoveKey]) {\n      this[viewToRemoveKey].$element().remove();\n    }\n\n    if (offset === viewOffset) {\n      this[viewToRemoveKey] = this._view;\n    } else {\n      this[viewToRemoveKey] = this._renderSpecificView(this._getDateByOffset(viewOffset, destinationDate));\n\n      this._view.$element().remove();\n    }\n\n    this._view = this[viewToCreateKey];\n\n    var dateByOffset = this._getDateByOffset(-viewOffset, destinationDate);\n\n    this[viewToCreateKey] = this._isViewAvailable(dateByOffset) ? this._renderSpecificView(dateByOffset) : null;\n  },\n  _resetLocation: function () {\n    move(this._$viewsWrapper, {\n      left: 0,\n      top: 0\n    });\n  },\n  _clean: function () {\n    this.callBase();\n\n    this._clearViewWidthCache();\n\n    delete this._$viewsWrapper;\n    delete this._navigator;\n    delete this._$footer;\n  },\n  _clearViewWidthCache: function () {\n    delete this._viewWidthValue;\n  },\n  _disposeViews: function () {\n    this._view.$element().remove();\n\n    this._beforeView && this._beforeView.$element().remove();\n    this._afterView && this._afterView.$element().remove();\n    delete this._view;\n    delete this._beforeView;\n    delete this._afterView;\n  },\n  _dispose: function () {\n    clearTimeout(this._waitRenderViewTimeout);\n    this.callBase();\n  },\n  _refreshViews: function () {\n    this._disposeViews();\n\n    this._renderViews();\n  },\n  _visibilityChanged: function () {\n    this._translateViews();\n  },\n  _focusInHandler: function () {\n    this.callBase.apply(this, arguments);\n\n    this._view.option(\"contouredDate\", this.option(\"currentDate\"));\n  },\n  _focusOutHandler: function () {\n    this.callBase.apply(this, arguments);\n\n    this._view.option(\"contouredDate\", null);\n  },\n  _updateViewsValue: function (value) {\n    var newValue = value ? new Date(value) : null;\n\n    this._view.option(\"value\", newValue);\n\n    this._beforeView && this._beforeView.option(\"value\", newValue);\n    this._afterView && this._afterView.option(\"value\", newValue);\n  },\n  _updateAriaSelected: function (value, previousValue) {\n    var _value;\n\n    value = null !== (_value = value) && void 0 !== _value ? _value : this._dateOption(\"value\");\n\n    var $prevSelectedCell = this._view._getCellByDate(previousValue);\n\n    var $selectedCell = this._view._getCellByDate(value);\n\n    this.setAria(\"selected\", void 0, $prevSelectedCell);\n    this.setAria(\"selected\", true, $selectedCell);\n\n    if (value && this.option(\"currentDate\").getTime() === value.getTime()) {\n      this._updateAriaId(value);\n    }\n  },\n  _updateAriaId: function (value) {\n    var _value2;\n\n    value = null !== (_value2 = value) && void 0 !== _value2 ? _value2 : this.option(\"currentDate\");\n    var ariaId = \"dx-\" + new Guid();\n\n    var $newCell = this._view._getCellByDate(value);\n\n    this.setAria(\"id\", ariaId, $newCell);\n    this.setAria(\"activedescendant\", ariaId);\n\n    this._onContouredChanged(ariaId);\n  },\n  _suppressingNavigation: function (callback, args) {\n    this._suppressNavigation = true;\n    callback.apply(this, args);\n    delete this._suppressNavigation;\n  },\n  _optionChanged: function (args) {\n    var value = args.value;\n    var previousValue = args.previousValue;\n\n    switch (args.name) {\n      case \"width\":\n        this.callBase(args);\n\n        this._clearViewWidthCache();\n\n        break;\n\n      case \"min\":\n      case \"max\":\n        this.min = void 0;\n        this.max = void 0;\n\n        this._suppressingNavigation(this._updateCurrentDate, [this.option(\"currentDate\")]);\n\n        this._refreshViews();\n\n        this._renderNavigator();\n\n        break;\n\n      case \"firstDayOfWeek\":\n        this._refreshViews();\n\n        this._updateButtonsVisibility();\n\n        break;\n\n      case \"currentDate\":\n        this.setAria(\"id\", void 0, this._view._getCellByDate(previousValue));\n\n        this._updateCurrentDate(value);\n\n        break;\n\n      case \"zoomLevel\":\n        this.$element().removeClass(CALENDAR_VIEW_CLASS + \"-\" + previousValue);\n\n        this._correctZoomLevel();\n\n        this._refreshViews();\n\n        this._renderNavigator();\n\n        this._updateAriaId();\n\n        break;\n\n      case \"minZoomLevel\":\n      case \"maxZoomLevel\":\n        this._correctZoomLevel();\n\n        this._updateButtonsVisibility();\n\n        break;\n\n      case \"value\":\n        value = this._convertToDate(value);\n        previousValue = this._convertToDate(previousValue);\n\n        this._updateAriaSelected(value, previousValue);\n\n        this.option(\"currentDate\", isDefined(value) ? new Date(value) : new Date());\n\n        this._updateViewsValue(value);\n\n        this._setSubmitValue(value);\n\n        this.callBase(args);\n        break;\n\n      case \"onCellClick\":\n        this._view.option(\"onCellClick\", value);\n\n        break;\n\n      case \"onContouredChanged\":\n        this._onContouredChanged = this._createActionByOption(\"onContouredChanged\");\n        break;\n\n      case \"disabledDates\":\n      case \"dateSerializationFormat\":\n      case \"cellTemplate\":\n      case \"showTodayButton\":\n        this._invalidate();\n\n        break;\n\n      case \"skipFocusCheck\":\n        break;\n\n      case \"_todayDate\":\n      case \"showWeekNumbers\":\n      case \"weekNumberRule\":\n        this._refreshViews();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  getContouredDate: function () {\n    return this._view.option(\"contouredDate\");\n  }\n});\nregisterComponent(\"dxCalendar\", Calendar);\nexport default Calendar;","map":{"version":3,"names":["getWidth","$","Guid","registerComponent","noop","isNumeric","isString","isFunction","isDefined","inRange","extend","Button","Editor","Swipeable","Navigator","Views","move","dateUtils","dateSerialization","devices","fx","hasWindow","messageLocalization","dateLocalization","FunctionTemplate","isCommandKeyPressed","CALENDAR_CLASS","CALENDAR_BODY_CLASS","CALENDAR_CELL_CLASS","CALENDAR_FOOTER_CLASS","CALENDAR_TODAY_BUTTON_CLASS","CALENDAR_HAS_FOOTER_CLASS","CALENDAR_VIEWS_WRAPPER_CLASS","CALENDAR_VIEW_CLASS","FOCUSED_STATE_CLASS","ANIMATION_DURATION_SHOW_VIEW","POP_ANIMATION_FROM","POP_ANIMATION_TO","CALENDAR_INPUT_STANDARD_PATTERN","CALENDAR_DATE_VALUE_KEY","LEVEL_COMPARE_MAP","month","year","decade","century","ZOOM_LEVEL","MONTH","YEAR","DECADE","CENTURY","elementHasFocus","element","hasClass","Calendar","inherit","_activeStateUnit","_getDefaultOptions","callBase","hoverStateEnabled","activeStateEnabled","currentDate","Date","value","dateSerializationFormat","min","max","firstDayOfWeek","zoomLevel","maxZoomLevel","minZoomLevel","showTodayButton","showWeekNumbers","weekNumberRule","cellTemplate","disabledDates","onCellClick","onContouredChanged","skipFocusCheck","_todayDate","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_supportedKeys","rightArrow","e","preventDefault","_waitRenderView","_moveCurrentDateByOffset","_getRtlCorrection","leftArrow","upArrow","_navigateUp","isAnimating","_view","$element","option","downArrow","_navigateDown","home","_dateOption","isDateDisabled","date","sameView","getViewFirstCellDate","_moveToClosestAvailableDate","end","getViewLastCellDate","pageUp","pageDown","tab","enter","_isMaxZoomLevel","_updateTimeComponent","_dateValue","_getSerializationFormat","optionName","getDateSerializationFormat","_convertToDate","deserializeDate","event","type","cellElement","_getContouredCell","get","target","_saveValueChangeEvent","optionValue","arguments","length","serializationFormat","serializeDate","_shiftDate","offset","reverse","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","baseDate","maxDate","_getMaxDate","minDate","_getMinDate","isDateForwardInNeighborView","_areDatesInNeighborView","isDateForwardInRange","dateForward","_areDatesInSameView","date1","date2","getYear","parseInt","a","b","abs","Math","isCurrentDateAvailable","_isDateNotAvailable","isDateForwardAvailable","isDateBackwardAvailable","isDateForwardInStartView","isDateBackwardInStartView","dateBackward","_init","_correctZoomLevel","_initCurrentDate","_initActions","_getNormalizedDate","normalizeDate","_getDate","_cellClickAction","_createActionByOption","_onContouredChanged","_initTemplates","_templateManager","addDefaultTemplates","cell","data","model","container","append","text","String","_updateCurrentDate","_$viewsWrapper","stop","normalizedDate","getTime","_getViewsOffset","_isOtherViewCellClicked","_suppressNavigation","_navigate","_renderNavigator","_setViewContoured","_updateAriaId","_focusTarget","startDate","endDate","_getMonthsOffset","zoomCorrection","yearOffset","monthOffset","_alreadyViewRender","_getDateByOffset","_waitRenderViewTimeout","setTimeout","_date","currentDay","difference","getDifferenceInMonth","lastDay","getLastMonthDate","_initMarkup","_renderSubmitElement","addClass","_renderBody","$body","_renderViews","_navigator","_renderSwipeable","_renderFooter","_updateAriaSelected","_render","_getKeyboardListeners","_renderSpecificView","beforeDate","_beforeView","_isViewAvailable","afterDate","_afterView","_translateViews","specificView","$view","appendTo","config","_viewConfig","_createComponent","_this$option","_injectComponent","bind","firstDayOfWeekIndex","tabIndex","_cellClickHandler","_getTemplateByOption","allowValueSelection","func","that","params","component","getViewMinBoundaryDate","getViewMaxBoundaryDate","dateInRange","left","top","_getViewPosition","coefficient","rtlCorrection","nextView","getViewDown","isMaxZoomLevel","currentTarget","newValue","result","currentValue","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","setMilliseconds","getMilliseconds","newCurrentDate","_animateShowView","_navigatorConfig","getNavigatorCaption","_updateButtonsVisibility","onClick","_navigatorClickHandler","onCaptionClick","rtlEnabled","direction","getViewUp","_isMinZoomLevel","toggleButton","_getRequiredView","_swipeable","onStart","_swipeStartHandler","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","itemSizeFunc","_viewWidth","maxLeftOffset","maxRightOffset","name","view","isRtl","_updateNavigatorCaption","targetOffset","moveOffset","_animateWrapper","_isDateInInvalidRange","_viewWidthValue","isBoundary","$todayButton","format","args","_toTodayView","integrationOptions","_$footer","toggleClass","_$submitElement","attr","_setSubmitValue","dateValue","_getSubmitElement","val","_popAnimationView","promise","from","to","duration","animate","scale","opacity","newView","remove","offsetSign","endPosition","viewsWrapperPosition","position","_preventViewChangeAnimation","_wrapperAnimationEndHandler","done","today","newDate","_rearrangeViews","_resetLocation","viewOffset","viewToCreateKey","viewToRemoveKey","destinationDate","dateByOffset","_clean","_clearViewWidthCache","_disposeViews","_dispose","clearTimeout","_refreshViews","_visibilityChanged","_focusInHandler","apply","_focusOutHandler","_updateViewsValue","previousValue","_value","$prevSelectedCell","_getCellByDate","$selectedCell","setAria","_value2","ariaId","$newCell","_suppressingNavigation","callback","_optionChanged","removeClass","_invalidate","getContouredDate"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/ui/calendar/ui.calendar.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/calendar/ui.calendar.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isNumeric,\r\n    isString,\r\n    isFunction,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Button from \"../button\";\r\nimport Editor from \"../editor/editor\";\r\nimport Swipeable from \"../../events/gesture/swipeable\";\r\nimport Navigator from \"./ui.calendar.navigator\";\r\nimport Views from \"./ui.calendar.views\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport devices from \"../../core/devices\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport {\r\n    FunctionTemplate\r\n} from \"../../core/templates/function_template\";\r\nimport {\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nvar CALENDAR_CLASS = \"dx-calendar\";\r\nvar CALENDAR_BODY_CLASS = \"dx-calendar-body\";\r\nvar CALENDAR_CELL_CLASS = \"dx-calendar-cell\";\r\nvar CALENDAR_FOOTER_CLASS = \"dx-calendar-footer\";\r\nvar CALENDAR_TODAY_BUTTON_CLASS = \"dx-calendar-today-button\";\r\nvar CALENDAR_HAS_FOOTER_CLASS = \"dx-calendar-with-footer\";\r\nvar CALENDAR_VIEWS_WRAPPER_CLASS = \"dx-calendar-views-wrapper\";\r\nvar CALENDAR_VIEW_CLASS = \"dx-calendar-view\";\r\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\r\nvar ANIMATION_DURATION_SHOW_VIEW = 250;\r\nvar POP_ANIMATION_FROM = .6;\r\nvar POP_ANIMATION_TO = 1;\r\nvar CALENDAR_INPUT_STANDARD_PATTERN = \"yyyy-MM-dd\";\r\nvar CALENDAR_DATE_VALUE_KEY = \"dxDateValueKey\";\r\nvar LEVEL_COMPARE_MAP = {\r\n    month: 3,\r\n    year: 2,\r\n    decade: 1,\r\n    century: 0\r\n};\r\nvar ZOOM_LEVEL = {\r\n    MONTH: \"month\",\r\n    YEAR: \"year\",\r\n    DECADE: \"decade\",\r\n    CENTURY: \"century\"\r\n};\r\n\r\nfunction elementHasFocus(element) {\r\n    return element.hasClass(FOCUSED_STATE_CLASS)\r\n}\r\nvar Calendar = Editor.inherit({\r\n    _activeStateUnit: \".\" + CALENDAR_CELL_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            activeStateEnabled: true,\r\n            currentDate: new Date,\r\n            value: null,\r\n            dateSerializationFormat: void 0,\r\n            min: new Date(1e3, 0),\r\n            max: new Date(3e3, 0),\r\n            firstDayOfWeek: void 0,\r\n            zoomLevel: ZOOM_LEVEL.MONTH,\r\n            maxZoomLevel: ZOOM_LEVEL.MONTH,\r\n            minZoomLevel: ZOOM_LEVEL.CENTURY,\r\n            showTodayButton: false,\r\n            showWeekNumbers: false,\r\n            weekNumberRule: \"auto\",\r\n            cellTemplate: \"cell\",\r\n            disabledDates: null,\r\n            onCellClick: null,\r\n            onContouredChanged: null,\r\n            skipFocusCheck: false,\r\n            _todayDate: () => new Date\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            rightArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._waitRenderView(1)\r\n                } else {\r\n                    this._moveCurrentDateByOffset(1 * this._getRtlCorrection())\r\n                }\r\n            },\r\n            leftArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._waitRenderView(-1)\r\n                } else {\r\n                    this._moveCurrentDateByOffset(-1 * this._getRtlCorrection())\r\n                }\r\n            },\r\n            upArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._navigateUp()\r\n                } else {\r\n                    if (fx.isAnimating(this._view.$element())) {\r\n                        return\r\n                    }\r\n                    this._moveCurrentDateByOffset(-1 * this._view.option(\"colCount\"))\r\n                }\r\n            },\r\n            downArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._navigateDown()\r\n                } else {\r\n                    if (fx.isAnimating(this._view.$element())) {\r\n                        return\r\n                    }\r\n                    this._moveCurrentDateByOffset(1 * this._view.option(\"colCount\"))\r\n                }\r\n            },\r\n            home: function(e) {\r\n                e.preventDefault();\r\n                var zoomLevel = this.option(\"zoomLevel\");\r\n                var currentDate = this.option(\"currentDate\");\r\n                var min = this._dateOption(\"min\");\r\n                if (this._view.isDateDisabled(currentDate)) {\r\n                    return\r\n                }\r\n                var date = dateUtils.sameView(zoomLevel, currentDate, min) ? min : dateUtils.getViewFirstCellDate(zoomLevel, currentDate);\r\n                this._moveToClosestAvailableDate(date)\r\n            },\r\n            end: function(e) {\r\n                e.preventDefault();\r\n                var zoomLevel = this.option(\"zoomLevel\");\r\n                var currentDate = this.option(\"currentDate\");\r\n                var max = this._dateOption(\"max\");\r\n                if (this._view.isDateDisabled(currentDate)) {\r\n                    return\r\n                }\r\n                var date = dateUtils.sameView(zoomLevel, currentDate, max) ? max : dateUtils.getViewLastCellDate(zoomLevel, currentDate);\r\n                this._moveToClosestAvailableDate(date)\r\n            },\r\n            pageUp: function(e) {\r\n                e.preventDefault();\r\n                this._waitRenderView(-1 * this._getRtlCorrection())\r\n            },\r\n            pageDown: function(e) {\r\n                e.preventDefault();\r\n                this._waitRenderView(1 * this._getRtlCorrection())\r\n            },\r\n            tab: noop,\r\n            enter: function(e) {\r\n                if (!this._isMaxZoomLevel()) {\r\n                    this._navigateDown()\r\n                } else if (!this._view.isDateDisabled(this.option(\"currentDate\"))) {\r\n                    var value = this._updateTimeComponent(this.option(\"currentDate\"));\r\n                    this._dateValue(value, e)\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _getSerializationFormat: function(optionName) {\r\n        var value = this.option(optionName || \"value\");\r\n        if (this.option(\"dateSerializationFormat\")) {\r\n            return this.option(\"dateSerializationFormat\")\r\n        }\r\n        if (isNumeric(value)) {\r\n            return \"number\"\r\n        }\r\n        if (!isString(value)) {\r\n            return\r\n        }\r\n        return dateSerialization.getDateSerializationFormat(value)\r\n    },\r\n    _convertToDate: function(value, optionName) {\r\n        return dateSerialization.deserializeDate(value)\r\n    },\r\n    _dateValue: function(value, event) {\r\n        if (event) {\r\n            if (\"keydown\" === event.type) {\r\n                var cellElement = this._view._getContouredCell().get(0);\r\n                event.target = cellElement\r\n            }\r\n            this._saveValueChangeEvent(event)\r\n        }\r\n        this._dateOption(\"value\", value)\r\n    },\r\n    _dateOption: function(optionName, optionValue) {\r\n        if (1 === arguments.length) {\r\n            return this._convertToDate(this.option(optionName), optionName)\r\n        }\r\n        var serializationFormat = this._getSerializationFormat(optionName);\r\n        this.option(optionName, dateSerialization.serializeDate(optionValue, serializationFormat))\r\n    },\r\n    _shiftDate: function(zoomLevel, date, offset, reverse) {\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.MONTH:\r\n                date.setDate(date.getDate() + offset * reverse);\r\n                break;\r\n            case ZOOM_LEVEL.YEAR:\r\n                date.setMonth(date.getMonth() + offset * reverse);\r\n                break;\r\n            case ZOOM_LEVEL.DECADE:\r\n                date.setFullYear(date.getFullYear() + offset * reverse);\r\n                break;\r\n            case ZOOM_LEVEL.CENTURY:\r\n                date.setFullYear(date.getFullYear() + 10 * offset * reverse)\r\n        }\r\n    },\r\n    _moveCurrentDateByOffset: function(offset) {\r\n        var baseDate = this.option(\"currentDate\");\r\n        var currentDate = new Date(baseDate);\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        this._shiftDate(zoomLevel, currentDate, offset, 1);\r\n        var maxDate = this._getMaxDate();\r\n        var minDate = this._getMinDate();\r\n        var isDateForwardInNeighborView = this._areDatesInNeighborView(zoomLevel, currentDate, baseDate);\r\n        var isDateForwardInRange = inRange(currentDate, minDate, maxDate) && isDateForwardInNeighborView;\r\n        var dateForward = new Date(currentDate);\r\n        while (isDateForwardInRange) {\r\n            if (!this._view.isDateDisabled(dateForward)) {\r\n                currentDate = dateForward;\r\n                break\r\n            }\r\n            this._shiftDate(zoomLevel, dateForward, offset, 1);\r\n            isDateForwardInNeighborView = this._areDatesInNeighborView(zoomLevel, dateForward, baseDate);\r\n            isDateForwardInRange = inRange(dateForward, minDate, maxDate) && isDateForwardInNeighborView\r\n        }\r\n        if (this._view.isDateDisabled(baseDate) || this._view.isDateDisabled(currentDate)) {\r\n            this._waitRenderView(offset > 0 ? 1 : -1)\r\n        } else {\r\n            this.option(\"currentDate\", currentDate)\r\n        }\r\n    },\r\n    _areDatesInSameView(zoomLevel, date1, date2) {\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.MONTH:\r\n                return date1.getMonth() === date2.getMonth();\r\n            case ZOOM_LEVEL.YEAR:\r\n                return date1.getYear() === date2.getYear();\r\n            case ZOOM_LEVEL.DECADE:\r\n                return parseInt(date1.getYear() / 10) === parseInt(date2.getYear() / 10);\r\n            case ZOOM_LEVEL.CENTURY:\r\n                return parseInt(date1.getYear() / 100) === parseInt(date2.getYear() / 100)\r\n        }\r\n    },\r\n    _areDatesInNeighborView(zoomLevel, date1, date2) {\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.MONTH:\r\n                return (a = date1.getMonth(), b = date2.getMonth(), abs = Math.abs(a - b), Math.min(abs, 12 - abs)) <= 1;\r\n            case ZOOM_LEVEL.YEAR:\r\n                return Math.abs(date1.getYear() - date2.getYear()) <= 1;\r\n            case ZOOM_LEVEL.DECADE:\r\n                return Math.abs(date1.getYear() - date2.getYear()) <= 10;\r\n            case ZOOM_LEVEL.CENTURY:\r\n                return Math.abs(date1.getYear() - date2.getYear()) <= 100\r\n        }\r\n        var a, b, abs\r\n    },\r\n    _moveToClosestAvailableDate: function() {\r\n        var baseDate = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.option(\"currentDate\");\r\n        var currentDate = new Date(baseDate);\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var isCurrentDateAvailable = !this._isDateNotAvailable(currentDate);\r\n        var isDateForwardAvailable = isCurrentDateAvailable;\r\n        var isDateBackwardAvailable = isCurrentDateAvailable;\r\n        var isDateForwardInStartView;\r\n        var isDateBackwardInStartView;\r\n        var dateForward = new Date(currentDate);\r\n        var dateBackward = new Date(currentDate);\r\n        do {\r\n            if (isDateForwardAvailable) {\r\n                currentDate = dateForward;\r\n                break\r\n            }\r\n            if (isDateBackwardAvailable) {\r\n                currentDate = dateBackward;\r\n                break\r\n            }\r\n            this._shiftDate(zoomLevel, dateForward, 1, 1);\r\n            this._shiftDate(zoomLevel, dateBackward, 1, -1);\r\n            isDateForwardInStartView = this._areDatesInSameView(zoomLevel, dateForward, baseDate);\r\n            isDateBackwardInStartView = this._areDatesInSameView(zoomLevel, dateBackward, baseDate);\r\n            isDateForwardAvailable = isDateForwardInStartView && !this._isDateNotAvailable(dateForward);\r\n            isDateBackwardAvailable = isDateBackwardInStartView && !this._isDateNotAvailable(dateBackward)\r\n        } while (isDateForwardInStartView || isDateBackwardInStartView);\r\n        this.option(\"currentDate\", currentDate)\r\n    },\r\n    _isDateNotAvailable: function(date) {\r\n        var maxDate = this._getMaxDate();\r\n        var minDate = this._getMinDate();\r\n        return !inRange(date, minDate, maxDate) || this._view.isDateDisabled(date)\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._correctZoomLevel();\r\n        this._initCurrentDate();\r\n        this._initActions()\r\n    },\r\n    _correctZoomLevel: function() {\r\n        var minZoomLevel = this.option(\"minZoomLevel\");\r\n        var maxZoomLevel = this.option(\"maxZoomLevel\");\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        if (LEVEL_COMPARE_MAP[maxZoomLevel] < LEVEL_COMPARE_MAP[minZoomLevel]) {\r\n            return\r\n        }\r\n        if (LEVEL_COMPARE_MAP[zoomLevel] > LEVEL_COMPARE_MAP[maxZoomLevel]) {\r\n            this.option(\"zoomLevel\", maxZoomLevel)\r\n        } else if (LEVEL_COMPARE_MAP[zoomLevel] < LEVEL_COMPARE_MAP[minZoomLevel]) {\r\n            this.option(\"zoomLevel\", minZoomLevel)\r\n        }\r\n    },\r\n    _initCurrentDate: function() {\r\n        var currentDate = this._getNormalizedDate(this._dateOption(\"value\")) || this._getNormalizedDate(this.option(\"currentDate\"));\r\n        this.option(\"currentDate\", currentDate)\r\n    },\r\n    _getNormalizedDate: function(date) {\r\n        date = dateUtils.normalizeDate(date, this._getMinDate(), this._getMaxDate());\r\n        return isDefined(date) ? this._getDate(date) : date\r\n    },\r\n    _initActions: function() {\r\n        this._cellClickAction = this._createActionByOption(\"onCellClick\");\r\n        this._onContouredChanged = this._createActionByOption(\"onContouredChanged\")\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            cell: new FunctionTemplate((function(options) {\r\n                var data = options.model;\r\n                $(options.container).append($(\"<span>\").text(data && data.text || String(data)))\r\n            }))\r\n        });\r\n        this.callBase()\r\n    },\r\n    _updateCurrentDate: function(date) {\r\n        if (fx.isAnimating(this._$viewsWrapper)) {\r\n            fx.stop(this._$viewsWrapper, true)\r\n        }\r\n        var min = this._getMinDate();\r\n        var max = this._getMaxDate();\r\n        if (min > max) {\r\n            this.option(\"currentDate\", new Date);\r\n            return\r\n        }\r\n        var normalizedDate = this._getNormalizedDate(date);\r\n        if (date.getTime() !== normalizedDate.getTime()) {\r\n            this.option(\"currentDate\", new Date(normalizedDate));\r\n            return\r\n        }\r\n        var offset = this._getViewsOffset(this._view.option(\"date\"), normalizedDate);\r\n        if (0 !== offset && !this._isMaxZoomLevel() && this._isOtherViewCellClicked) {\r\n            offset = 0\r\n        }\r\n        if (this._view && 0 !== offset && !this._suppressNavigation) {\r\n            this._navigate(offset, normalizedDate)\r\n        } else {\r\n            this._renderNavigator();\r\n            this._setViewContoured(normalizedDate);\r\n            this._updateAriaId(normalizedDate)\r\n        }\r\n    },\r\n    _setViewContoured: function(date) {\r\n        if (this.option(\"skipFocusCheck\") || elementHasFocus(this._focusTarget())) {\r\n            this._view.option(\"contouredDate\", date)\r\n        }\r\n    },\r\n    _getMinDate: function() {\r\n        if (this.min) {\r\n            return this.min\r\n        }\r\n        this.min = this._dateOption(\"min\") || new Date(1e3, 0);\r\n        return this.min\r\n    },\r\n    _getMaxDate: function() {\r\n        if (this.max) {\r\n            return this.max\r\n        }\r\n        this.max = this._dateOption(\"max\") || new Date(3e3, 0);\r\n        return this.max\r\n    },\r\n    _getViewsOffset: function(startDate, endDate) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        if (zoomLevel === ZOOM_LEVEL.MONTH) {\r\n            return this._getMonthsOffset(startDate, endDate)\r\n        }\r\n        var zoomCorrection;\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.CENTURY:\r\n                zoomCorrection = 100;\r\n                break;\r\n            case ZOOM_LEVEL.DECADE:\r\n                zoomCorrection = 10;\r\n                break;\r\n            default:\r\n                zoomCorrection = 1\r\n        }\r\n        return parseInt(endDate.getFullYear() / zoomCorrection) - parseInt(startDate.getFullYear() / zoomCorrection)\r\n    },\r\n    _getMonthsOffset: function(startDate, endDate) {\r\n        var yearOffset = endDate.getFullYear() - startDate.getFullYear();\r\n        var monthOffset = endDate.getMonth() - startDate.getMonth();\r\n        return 12 * yearOffset + monthOffset\r\n    },\r\n    _waitRenderView: function(offset) {\r\n        if (this._alreadyViewRender) {\r\n            return\r\n        }\r\n        this._alreadyViewRender = true;\r\n        var date = this._getDateByOffset(offset * this._getRtlCorrection());\r\n        this._moveToClosestAvailableDate(date);\r\n        this._waitRenderViewTimeout = setTimeout(() => {\r\n            this._alreadyViewRender = false\r\n        })\r\n    },\r\n    _getRtlCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _getDateByOffset: function(offset, date) {\r\n        var _date;\r\n        date = this._getDate(null !== (_date = date) && void 0 !== _date ? _date : this.option(\"currentDate\"));\r\n        var currentDay = date.getDate();\r\n        var difference = dateUtils.getDifferenceInMonth(this.option(\"zoomLevel\")) * offset;\r\n        date.setDate(1);\r\n        date.setMonth(date.getMonth() + difference);\r\n        var lastDay = dateUtils.getLastMonthDate(date).getDate();\r\n        date.setDate(currentDay > lastDay ? lastDay : currentDay);\r\n        return date\r\n    },\r\n    _focusTarget: function() {\r\n        return this.$element()\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderSubmitElement();\r\n        this.callBase();\r\n        var $element = this.$element();\r\n        $element.addClass(CALENDAR_CLASS);\r\n        this._renderBody();\r\n        $element.append(this.$body);\r\n        this._renderViews();\r\n        this._renderNavigator();\r\n        $element.append(this._navigator.$element());\r\n        this._renderSwipeable();\r\n        this._renderFooter();\r\n        this._updateAriaSelected();\r\n        this._updateAriaId();\r\n        this._moveToClosestAvailableDate()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._setViewContoured(this.option(\"currentDate\"))\r\n    },\r\n    _renderBody: function() {\r\n        if (!this._$viewsWrapper) {\r\n            this.$body = $(\"<div>\").addClass(CALENDAR_BODY_CLASS);\r\n            this._$viewsWrapper = $(\"<div>\").addClass(CALENDAR_VIEWS_WRAPPER_CLASS);\r\n            this.$body.append(this._$viewsWrapper)\r\n        }\r\n    },\r\n    _getKeyboardListeners() {\r\n        return this.callBase().concat([this._view])\r\n    },\r\n    _renderViews: function() {\r\n        this.$element().addClass(CALENDAR_VIEW_CLASS + \"-\" + this.option(\"zoomLevel\"));\r\n        var currentDate = this.option(\"currentDate\");\r\n        this._view = this._renderSpecificView(currentDate);\r\n        if (hasWindow()) {\r\n            var beforeDate = this._getDateByOffset(-1, currentDate);\r\n            this._beforeView = this._isViewAvailable(beforeDate) ? this._renderSpecificView(beforeDate) : null;\r\n            var afterDate = this._getDateByOffset(1, currentDate);\r\n            afterDate.setDate(1);\r\n            this._afterView = this._isViewAvailable(afterDate) ? this._renderSpecificView(afterDate) : null\r\n        }\r\n        this._translateViews()\r\n    },\r\n    _renderSpecificView: function(date) {\r\n        var specificView = Views[this.option(\"zoomLevel\")];\r\n        var $view = $(\"<div>\").appendTo(this._$viewsWrapper);\r\n        var config = this._viewConfig(date);\r\n        return this._createComponent($view, specificView, config)\r\n    },\r\n    _viewConfig: function(date) {\r\n        var _this$option;\r\n        var disabledDates = this.option(\"disabledDates\");\r\n        disabledDates = isFunction(disabledDates) ? this._injectComponent(disabledDates.bind(this)) : disabledDates;\r\n        return {\r\n            date: date,\r\n            min: this._getMinDate(),\r\n            max: this._getMaxDate(),\r\n            firstDayOfWeek: null !== (_this$option = this.option(\"firstDayOfWeek\")) && void 0 !== _this$option ? _this$option : dateLocalization.firstDayOfWeekIndex(),\r\n            showWeekNumbers: this.option(\"showWeekNumbers\"),\r\n            weekNumberRule: this.option(\"weekNumberRule\"),\r\n            zoomLevel: this.option(\"zoomLevel\"),\r\n            value: this._dateOption(\"value\"),\r\n            tabIndex: void 0,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            disabledDates: disabledDates,\r\n            onCellClick: this._cellClickHandler.bind(this),\r\n            cellTemplate: this._getTemplateByOption(\"cellTemplate\"),\r\n            allowValueSelection: this._isMaxZoomLevel(),\r\n            _todayDate: this.option(\"_todayDate\")\r\n        }\r\n    },\r\n    _injectComponent: function(func) {\r\n        var that = this;\r\n        return function(params) {\r\n            extend(params, {\r\n                component: that\r\n            });\r\n            return func(params)\r\n        }\r\n    },\r\n    _isViewAvailable: function(date) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var min = dateUtils.getViewMinBoundaryDate(zoomLevel, this._getMinDate());\r\n        var max = dateUtils.getViewMaxBoundaryDate(zoomLevel, this._getMaxDate());\r\n        return dateUtils.dateInRange(date, min, max)\r\n    },\r\n    _translateViews: function() {\r\n        move(this._view.$element(), {\r\n            left: 0,\r\n            top: 0\r\n        });\r\n        this._beforeView && move(this._beforeView.$element(), {\r\n            left: this._getViewPosition(-1),\r\n            top: 0\r\n        });\r\n        this._afterView && move(this._afterView.$element(), {\r\n            left: this._getViewPosition(1),\r\n            top: 0\r\n        })\r\n    },\r\n    _getViewPosition: function(coefficient) {\r\n        var rtlCorrection = this.option(\"rtlEnabled\") ? -1 : 1;\r\n        return 100 * coefficient * rtlCorrection + \"%\"\r\n    },\r\n    _cellClickHandler: function(e) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var nextView = dateUtils.getViewDown(zoomLevel);\r\n        var isMaxZoomLevel = this._isMaxZoomLevel();\r\n        if (nextView && !isMaxZoomLevel) {\r\n            this._navigateDown(e.event.currentTarget)\r\n        } else {\r\n            var newValue = this._updateTimeComponent(e.value);\r\n            this._dateValue(newValue, e.event);\r\n            this._cellClickAction(e)\r\n        }\r\n    },\r\n    _updateTimeComponent: function(date) {\r\n        var result = new Date(date);\r\n        var currentValue = this._dateOption(\"value\");\r\n        if (currentValue) {\r\n            result.setHours(currentValue.getHours());\r\n            result.setMinutes(currentValue.getMinutes());\r\n            result.setSeconds(currentValue.getSeconds());\r\n            result.setMilliseconds(currentValue.getMilliseconds())\r\n        }\r\n        return result\r\n    },\r\n    _isMaxZoomLevel: function() {\r\n        return this.option(\"zoomLevel\") === this.option(\"maxZoomLevel\")\r\n    },\r\n    _navigateDown: function(cell) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        if (this._isMaxZoomLevel()) {\r\n            return\r\n        }\r\n        var nextView = dateUtils.getViewDown(zoomLevel);\r\n        if (!nextView) {\r\n            return\r\n        }\r\n        var newCurrentDate = this._view.option(\"contouredDate\") || this._view.option(\"date\");\r\n        if (cell) {\r\n            newCurrentDate = $(cell).data(CALENDAR_DATE_VALUE_KEY)\r\n        }\r\n        this._isOtherViewCellClicked = true;\r\n        this.option(\"currentDate\", newCurrentDate);\r\n        this.option(\"zoomLevel\", nextView);\r\n        this._isOtherViewCellClicked = false;\r\n        this._renderNavigator();\r\n        this._animateShowView();\r\n        this._moveToClosestAvailableDate();\r\n        this._setViewContoured(this._getNormalizedDate(this.option(\"currentDate\")))\r\n    },\r\n    _renderNavigator: function() {\r\n        if (!this._navigator) {\r\n            this._navigator = new Navigator($(\"<div>\"), this._navigatorConfig())\r\n        }\r\n        this._navigator.option(\"text\", this._view.getNavigatorCaption());\r\n        this._updateButtonsVisibility()\r\n    },\r\n    _navigatorConfig: function() {\r\n        return {\r\n            text: this._view.getNavigatorCaption(),\r\n            onClick: this._navigatorClickHandler.bind(this),\r\n            onCaptionClick: this._navigateUp.bind(this),\r\n            rtlEnabled: this.option(\"rtlEnabled\")\r\n        }\r\n    },\r\n    _navigatorClickHandler: function(e) {\r\n        var currentDate = this._getDateByOffset(e.direction, this.option(\"currentDate\"));\r\n        this._moveToClosestAvailableDate(currentDate)\r\n    },\r\n    _navigateUp: function() {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var nextView = dateUtils.getViewUp(zoomLevel);\r\n        if (!nextView || this._isMinZoomLevel(zoomLevel)) {\r\n            return\r\n        }\r\n        this.option(\"zoomLevel\", nextView);\r\n        this._renderNavigator();\r\n        this._animateShowView();\r\n        this._moveToClosestAvailableDate();\r\n        this._setViewContoured(this._getNormalizedDate(this.option(\"currentDate\")))\r\n    },\r\n    _isMinZoomLevel: function(zoomLevel) {\r\n        var min = this._getMinDate();\r\n        var max = this._getMaxDate();\r\n        return dateUtils.sameView(zoomLevel, min, max) || this.option(\"minZoomLevel\") === zoomLevel\r\n    },\r\n    _updateButtonsVisibility: function() {\r\n        this._navigator.toggleButton(\"next\", !isDefined(this._getRequiredView(\"next\")));\r\n        this._navigator.toggleButton(\"prev\", !isDefined(this._getRequiredView(\"prev\")))\r\n    },\r\n    _renderSwipeable: function() {\r\n        if (!this._swipeable) {\r\n            this._swipeable = this._createComponent(this.$element(), Swipeable, {\r\n                onStart: this._swipeStartHandler.bind(this),\r\n                onUpdated: this._swipeUpdateHandler.bind(this),\r\n                onEnd: this._swipeEndHandler.bind(this),\r\n                itemSizeFunc: this._viewWidth.bind(this)\r\n            })\r\n        }\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        fx.stop(this._$viewsWrapper, true);\r\n        e.event.maxLeftOffset = this._getRequiredView(\"next\") ? 1 : 0;\r\n        e.event.maxRightOffset = this._getRequiredView(\"prev\") ? 1 : 0\r\n    },\r\n    _getRequiredView: function(name) {\r\n        var view;\r\n        var isRtl = this.option(\"rtlEnabled\");\r\n        if (\"next\" === name) {\r\n            view = isRtl ? this._beforeView : this._afterView\r\n        } else if (\"prev\" === name) {\r\n            view = isRtl ? this._afterView : this._beforeView\r\n        }\r\n        return view\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.event.offset;\r\n        move(this._$viewsWrapper, {\r\n            left: offset * this._viewWidth(),\r\n            top: 0\r\n        });\r\n        this._updateNavigatorCaption(offset)\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.event.targetOffset;\r\n        var moveOffset = !targetOffset ? 0 : targetOffset / Math.abs(targetOffset);\r\n        if (0 === moveOffset) {\r\n            this._animateWrapper(0, ANIMATION_DURATION_SHOW_VIEW);\r\n            return\r\n        }\r\n        var date = this._getDateByOffset(-moveOffset * this._getRtlCorrection());\r\n        if (this._isDateInInvalidRange(date)) {\r\n            if (moveOffset >= 0) {\r\n                date = new Date(this._getMinDate())\r\n            } else {\r\n                date = new Date(this._getMaxDate())\r\n            }\r\n        }\r\n        this.option(\"currentDate\", date)\r\n    },\r\n    _viewWidth: function() {\r\n        if (!this._viewWidthValue) {\r\n            this._viewWidthValue = getWidth(this.$element())\r\n        }\r\n        return this._viewWidthValue\r\n    },\r\n    _updateNavigatorCaption: function(offset) {\r\n        offset *= this._getRtlCorrection();\r\n        var view = this._view;\r\n        if (offset > .5 && this._beforeView) {\r\n            view = this._beforeView\r\n        } else if (offset < -.5 && this._afterView) {\r\n            view = this._afterView\r\n        }\r\n        this._navigator.option(\"text\", view.getNavigatorCaption())\r\n    },\r\n    _isDateInInvalidRange: function(date) {\r\n        if (this._view.isBoundary(date)) {\r\n            return\r\n        }\r\n        var min = this._getMinDate();\r\n        var max = this._getMaxDate();\r\n        var normalizedDate = dateUtils.normalizeDate(date, min, max);\r\n        return normalizedDate === min || normalizedDate === max\r\n    },\r\n    _renderFooter: function() {\r\n        var showTodayButton = this.option(\"showTodayButton\");\r\n        if (showTodayButton) {\r\n            var $todayButton = this._createComponent($(\"<a>\"), Button, {\r\n                focusStateEnabled: false,\r\n                text: messageLocalization.format(\"dxCalendar-todayButtonText\"),\r\n                onClick: function(args) {\r\n                    this._toTodayView(args)\r\n                }.bind(this),\r\n                integrationOptions: {}\r\n            }).$element().addClass(CALENDAR_TODAY_BUTTON_CLASS);\r\n            this._$footer = $(\"<div>\").addClass(CALENDAR_FOOTER_CLASS).append($todayButton);\r\n            this.$element().append(this._$footer)\r\n        }\r\n        this.$element().toggleClass(CALENDAR_HAS_FOOTER_CLASS, showTodayButton)\r\n    },\r\n    _renderSubmitElement: function() {\r\n        this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\r\n        this._setSubmitValue(this.option(\"value\"))\r\n    },\r\n    _setSubmitValue: function(value) {\r\n        var dateValue = this._convertToDate(value);\r\n        this._getSubmitElement().val(dateSerialization.serializeDate(dateValue, CALENDAR_INPUT_STANDARD_PATTERN))\r\n    },\r\n    _getSubmitElement: function() {\r\n        return this._$submitElement\r\n    },\r\n    _animateShowView: function() {\r\n        fx.stop(this._view.$element(), true);\r\n        return this._popAnimationView(this._view, POP_ANIMATION_FROM, POP_ANIMATION_TO, ANIMATION_DURATION_SHOW_VIEW).promise()\r\n    },\r\n    _popAnimationView: function(view, from, to, duration) {\r\n        return fx.animate(view.$element(), {\r\n            type: \"pop\",\r\n            from: {\r\n                scale: from,\r\n                opacity: from\r\n            },\r\n            to: {\r\n                scale: to,\r\n                opacity: to\r\n            },\r\n            duration: duration\r\n        })\r\n    },\r\n    _navigate: function(offset, value) {\r\n        if (0 !== offset && 1 !== Math.abs(offset) && this._isViewAvailable(value)) {\r\n            var newView = this._renderSpecificView(value);\r\n            if (offset > 0) {\r\n                this._afterView && this._afterView.$element().remove();\r\n                this._afterView = newView\r\n            } else {\r\n                this._beforeView && this._beforeView.$element().remove();\r\n                this._beforeView = newView\r\n            }\r\n            this._translateViews()\r\n        }\r\n        var rtlCorrection = this._getRtlCorrection();\r\n        var offsetSign = offset > 0 ? 1 : offset < 0 ? -1 : 0;\r\n        var endPosition = -rtlCorrection * offsetSign * this._viewWidth();\r\n        var viewsWrapperPosition = this._$viewsWrapper.position().left;\r\n        if (viewsWrapperPosition !== endPosition) {\r\n            if (this._preventViewChangeAnimation) {\r\n                this._wrapperAnimationEndHandler(offset, value)\r\n            } else {\r\n                this._animateWrapper(endPosition, ANIMATION_DURATION_SHOW_VIEW).done(this._wrapperAnimationEndHandler.bind(this, offset, value))\r\n            }\r\n        }\r\n    },\r\n    _animateWrapper: function(to, duration) {\r\n        return fx.animate(this._$viewsWrapper, {\r\n            type: \"slide\",\r\n            from: {\r\n                left: this._$viewsWrapper.position().left\r\n            },\r\n            to: {\r\n                left: to\r\n            },\r\n            duration: duration\r\n        })\r\n    },\r\n    _getDate: value => new Date(value),\r\n    _toTodayView: function(args) {\r\n        this._saveValueChangeEvent(args.event);\r\n        var today = new Date;\r\n        if (this._isMaxZoomLevel()) {\r\n            this._dateOption(\"value\", today);\r\n            return\r\n        }\r\n        this._preventViewChangeAnimation = true;\r\n        this.option(\"zoomLevel\", this.option(\"maxZoomLevel\"));\r\n        this._dateOption(\"value\", today);\r\n        this._animateShowView();\r\n        this._preventViewChangeAnimation = false\r\n    },\r\n    _wrapperAnimationEndHandler: function(offset, newDate) {\r\n        this._rearrangeViews(offset);\r\n        this._translateViews();\r\n        this._resetLocation();\r\n        this._renderNavigator();\r\n        this._setViewContoured(newDate);\r\n        this._updateAriaId(newDate)\r\n    },\r\n    _rearrangeViews: function(offset) {\r\n        if (0 === offset) {\r\n            return\r\n        }\r\n        var viewOffset;\r\n        var viewToCreateKey;\r\n        var viewToRemoveKey;\r\n        if (offset < 0) {\r\n            viewOffset = 1;\r\n            viewToCreateKey = \"_beforeView\";\r\n            viewToRemoveKey = \"_afterView\"\r\n        } else {\r\n            viewOffset = -1;\r\n            viewToCreateKey = \"_afterView\";\r\n            viewToRemoveKey = \"_beforeView\"\r\n        }\r\n        if (!this[viewToCreateKey]) {\r\n            return\r\n        }\r\n        var destinationDate = this[viewToCreateKey].option(\"date\");\r\n        if (this[viewToRemoveKey]) {\r\n            this[viewToRemoveKey].$element().remove()\r\n        }\r\n        if (offset === viewOffset) {\r\n            this[viewToRemoveKey] = this._view\r\n        } else {\r\n            this[viewToRemoveKey] = this._renderSpecificView(this._getDateByOffset(viewOffset, destinationDate));\r\n            this._view.$element().remove()\r\n        }\r\n        this._view = this[viewToCreateKey];\r\n        var dateByOffset = this._getDateByOffset(-viewOffset, destinationDate);\r\n        this[viewToCreateKey] = this._isViewAvailable(dateByOffset) ? this._renderSpecificView(dateByOffset) : null\r\n    },\r\n    _resetLocation: function() {\r\n        move(this._$viewsWrapper, {\r\n            left: 0,\r\n            top: 0\r\n        })\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._clearViewWidthCache();\r\n        delete this._$viewsWrapper;\r\n        delete this._navigator;\r\n        delete this._$footer\r\n    },\r\n    _clearViewWidthCache: function() {\r\n        delete this._viewWidthValue\r\n    },\r\n    _disposeViews: function() {\r\n        this._view.$element().remove();\r\n        this._beforeView && this._beforeView.$element().remove();\r\n        this._afterView && this._afterView.$element().remove();\r\n        delete this._view;\r\n        delete this._beforeView;\r\n        delete this._afterView\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._waitRenderViewTimeout);\r\n        this.callBase()\r\n    },\r\n    _refreshViews: function() {\r\n        this._disposeViews();\r\n        this._renderViews()\r\n    },\r\n    _visibilityChanged: function() {\r\n        this._translateViews()\r\n    },\r\n    _focusInHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._view.option(\"contouredDate\", this.option(\"currentDate\"))\r\n    },\r\n    _focusOutHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._view.option(\"contouredDate\", null)\r\n    },\r\n    _updateViewsValue: function(value) {\r\n        var newValue = value ? new Date(value) : null;\r\n        this._view.option(\"value\", newValue);\r\n        this._beforeView && this._beforeView.option(\"value\", newValue);\r\n        this._afterView && this._afterView.option(\"value\", newValue)\r\n    },\r\n    _updateAriaSelected: function(value, previousValue) {\r\n        var _value;\r\n        value = null !== (_value = value) && void 0 !== _value ? _value : this._dateOption(\"value\");\r\n        var $prevSelectedCell = this._view._getCellByDate(previousValue);\r\n        var $selectedCell = this._view._getCellByDate(value);\r\n        this.setAria(\"selected\", void 0, $prevSelectedCell);\r\n        this.setAria(\"selected\", true, $selectedCell);\r\n        if (value && this.option(\"currentDate\").getTime() === value.getTime()) {\r\n            this._updateAriaId(value)\r\n        }\r\n    },\r\n    _updateAriaId: function(value) {\r\n        var _value2;\r\n        value = null !== (_value2 = value) && void 0 !== _value2 ? _value2 : this.option(\"currentDate\");\r\n        var ariaId = \"dx-\" + new Guid;\r\n        var $newCell = this._view._getCellByDate(value);\r\n        this.setAria(\"id\", ariaId, $newCell);\r\n        this.setAria(\"activedescendant\", ariaId);\r\n        this._onContouredChanged(ariaId)\r\n    },\r\n    _suppressingNavigation: function(callback, args) {\r\n        this._suppressNavigation = true;\r\n        callback.apply(this, args);\r\n        delete this._suppressNavigation\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        var previousValue = args.previousValue;\r\n        switch (args.name) {\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._clearViewWidthCache();\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                this.min = void 0;\r\n                this.max = void 0;\r\n                this._suppressingNavigation(this._updateCurrentDate, [this.option(\"currentDate\")]);\r\n                this._refreshViews();\r\n                this._renderNavigator();\r\n                break;\r\n            case \"firstDayOfWeek\":\r\n                this._refreshViews();\r\n                this._updateButtonsVisibility();\r\n                break;\r\n            case \"currentDate\":\r\n                this.setAria(\"id\", void 0, this._view._getCellByDate(previousValue));\r\n                this._updateCurrentDate(value);\r\n                break;\r\n            case \"zoomLevel\":\r\n                this.$element().removeClass(CALENDAR_VIEW_CLASS + \"-\" + previousValue);\r\n                this._correctZoomLevel();\r\n                this._refreshViews();\r\n                this._renderNavigator();\r\n                this._updateAriaId();\r\n                break;\r\n            case \"minZoomLevel\":\r\n            case \"maxZoomLevel\":\r\n                this._correctZoomLevel();\r\n                this._updateButtonsVisibility();\r\n                break;\r\n            case \"value\":\r\n                value = this._convertToDate(value);\r\n                previousValue = this._convertToDate(previousValue);\r\n                this._updateAriaSelected(value, previousValue);\r\n                this.option(\"currentDate\", isDefined(value) ? new Date(value) : new Date);\r\n                this._updateViewsValue(value);\r\n                this._setSubmitValue(value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"onCellClick\":\r\n                this._view.option(\"onCellClick\", value);\r\n                break;\r\n            case \"onContouredChanged\":\r\n                this._onContouredChanged = this._createActionByOption(\"onContouredChanged\");\r\n                break;\r\n            case \"disabledDates\":\r\n            case \"dateSerializationFormat\":\r\n            case \"cellTemplate\":\r\n            case \"showTodayButton\":\r\n                this._invalidate();\r\n                break;\r\n            case \"skipFocusCheck\":\r\n                break;\r\n            case \"_todayDate\":\r\n            case \"showWeekNumbers\":\r\n            case \"weekNumberRule\":\r\n                this._refreshViews();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getContouredDate: function() {\r\n        return this._view.option(\"contouredDate\")\r\n    }\r\n});\r\nregisterComponent(\"dxCalendar\", Calendar);\r\nexport default Calendar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}