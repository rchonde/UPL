{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { freqIsDailyOrGreater } from './types';\nimport { includes, notEmpty, isPresent, isNumber, isArray, isWeekdayStr } from './helpers';\nimport { RRule, defaultKeys, DEFAULT_OPTIONS } from './rrule';\nimport { getWeekday, isDate, isValidDate } from './dateutil';\nimport { Weekday } from './weekday';\nimport { Time } from './datetime';\nexport function initializeOptions(options) {\n  var invalid = [];\n  var keys = Object.keys(options); // Shallow copy for options and origOptions and check for invalid\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var key = keys_1[_i];\n    if (!includes(defaultKeys, key)) invalid.push(key);\n\n    if (isDate(options[key]) && !isValidDate(options[key])) {\n      invalid.push(key);\n    }\n  }\n\n  if (invalid.length) {\n    throw new Error('Invalid options: ' + invalid.join(', '));\n  }\n\n  return __assign({}, options);\n}\nexport function parseOptions(options) {\n  var opts = __assign(__assign({}, DEFAULT_OPTIONS), initializeOptions(options));\n\n  if (isPresent(opts.byeaster)) opts.freq = RRule.YEARLY;\n\n  if (!(isPresent(opts.freq) && RRule.FREQUENCIES[opts.freq])) {\n    throw new Error(\"Invalid frequency: \".concat(opts.freq, \" \").concat(options.freq));\n  }\n\n  if (!opts.dtstart) opts.dtstart = new Date(new Date().setMilliseconds(0));\n\n  if (!isPresent(opts.wkst)) {\n    opts.wkst = RRule.MO.weekday;\n  } else if (isNumber(opts.wkst)) {// cool, just keep it like that\n  } else {\n    opts.wkst = opts.wkst.weekday;\n  }\n\n  if (isPresent(opts.bysetpos)) {\n    if (isNumber(opts.bysetpos)) opts.bysetpos = [opts.bysetpos];\n\n    for (var i = 0; i < opts.bysetpos.length; i++) {\n      var v = opts.bysetpos[i];\n\n      if (v === 0 || !(v >= -366 && v <= 366)) {\n        throw new Error('bysetpos must be between 1 and 366,' + ' or between -366 and -1');\n      }\n    }\n  }\n\n  if (!(Boolean(opts.byweekno) || notEmpty(opts.byweekno) || notEmpty(opts.byyearday) || Boolean(opts.bymonthday) || notEmpty(opts.bymonthday) || isPresent(opts.byweekday) || isPresent(opts.byeaster))) {\n    switch (opts.freq) {\n      case RRule.YEARLY:\n        if (!opts.bymonth) opts.bymonth = opts.dtstart.getUTCMonth() + 1;\n        opts.bymonthday = opts.dtstart.getUTCDate();\n        break;\n\n      case RRule.MONTHLY:\n        opts.bymonthday = opts.dtstart.getUTCDate();\n        break;\n\n      case RRule.WEEKLY:\n        opts.byweekday = [getWeekday(opts.dtstart)];\n        break;\n    }\n  } // bymonth\n\n\n  if (isPresent(opts.bymonth) && !isArray(opts.bymonth)) {\n    opts.bymonth = [opts.bymonth];\n  } // byyearday\n\n\n  if (isPresent(opts.byyearday) && !isArray(opts.byyearday) && isNumber(opts.byyearday)) {\n    opts.byyearday = [opts.byyearday];\n  } // bymonthday\n\n\n  if (!isPresent(opts.bymonthday)) {\n    opts.bymonthday = [];\n    opts.bynmonthday = [];\n  } else if (isArray(opts.bymonthday)) {\n    var bymonthday = [];\n    var bynmonthday = [];\n\n    for (var i = 0; i < opts.bymonthday.length; i++) {\n      var v = opts.bymonthday[i];\n\n      if (v > 0) {\n        bymonthday.push(v);\n      } else if (v < 0) {\n        bynmonthday.push(v);\n      }\n    }\n\n    opts.bymonthday = bymonthday;\n    opts.bynmonthday = bynmonthday;\n  } else if (opts.bymonthday < 0) {\n    opts.bynmonthday = [opts.bymonthday];\n    opts.bymonthday = [];\n  } else {\n    opts.bynmonthday = [];\n    opts.bymonthday = [opts.bymonthday];\n  } // byweekno\n\n\n  if (isPresent(opts.byweekno) && !isArray(opts.byweekno)) {\n    opts.byweekno = [opts.byweekno];\n  } // byweekday / bynweekday\n\n\n  if (!isPresent(opts.byweekday)) {\n    opts.bynweekday = null;\n  } else if (isNumber(opts.byweekday)) {\n    opts.byweekday = [opts.byweekday];\n    opts.bynweekday = null;\n  } else if (isWeekdayStr(opts.byweekday)) {\n    opts.byweekday = [Weekday.fromStr(opts.byweekday).weekday];\n    opts.bynweekday = null;\n  } else if (opts.byweekday instanceof Weekday) {\n    if (!opts.byweekday.n || opts.freq > RRule.MONTHLY) {\n      opts.byweekday = [opts.byweekday.weekday];\n      opts.bynweekday = null;\n    } else {\n      opts.bynweekday = [[opts.byweekday.weekday, opts.byweekday.n]];\n      opts.byweekday = null;\n    }\n  } else {\n    var byweekday = [];\n    var bynweekday = [];\n\n    for (var i = 0; i < opts.byweekday.length; i++) {\n      var wday = opts.byweekday[i];\n\n      if (isNumber(wday)) {\n        byweekday.push(wday);\n        continue;\n      } else if (isWeekdayStr(wday)) {\n        byweekday.push(Weekday.fromStr(wday).weekday);\n        continue;\n      }\n\n      if (!wday.n || opts.freq > RRule.MONTHLY) {\n        byweekday.push(wday.weekday);\n      } else {\n        bynweekday.push([wday.weekday, wday.n]);\n      }\n    }\n\n    opts.byweekday = notEmpty(byweekday) ? byweekday : null;\n    opts.bynweekday = notEmpty(bynweekday) ? bynweekday : null;\n  } // byhour\n\n\n  if (!isPresent(opts.byhour)) {\n    opts.byhour = opts.freq < RRule.HOURLY ? [opts.dtstart.getUTCHours()] : null;\n  } else if (isNumber(opts.byhour)) {\n    opts.byhour = [opts.byhour];\n  } // byminute\n\n\n  if (!isPresent(opts.byminute)) {\n    opts.byminute = opts.freq < RRule.MINUTELY ? [opts.dtstart.getUTCMinutes()] : null;\n  } else if (isNumber(opts.byminute)) {\n    opts.byminute = [opts.byminute];\n  } // bysecond\n\n\n  if (!isPresent(opts.bysecond)) {\n    opts.bysecond = opts.freq < RRule.SECONDLY ? [opts.dtstart.getUTCSeconds()] : null;\n  } else if (isNumber(opts.bysecond)) {\n    opts.bysecond = [opts.bysecond];\n  }\n\n  return {\n    parsedOptions: opts\n  };\n}\nexport function buildTimeset(opts) {\n  var millisecondModulo = opts.dtstart.getTime() % 1000;\n\n  if (!freqIsDailyOrGreater(opts.freq)) {\n    return [];\n  }\n\n  var timeset = [];\n  opts.byhour.forEach(function (hour) {\n    opts.byminute.forEach(function (minute) {\n      opts.bysecond.forEach(function (second) {\n        timeset.push(new Time(hour, minute, second, millisecondModulo));\n      });\n    });\n  });\n  return timeset;\n}","map":{"version":3,"names":["__assign","freqIsDailyOrGreater","includes","notEmpty","isPresent","isNumber","isArray","isWeekdayStr","RRule","defaultKeys","DEFAULT_OPTIONS","getWeekday","isDate","isValidDate","Weekday","Time","initializeOptions","options","invalid","keys","Object","_i","keys_1","length","key","push","Error","join","parseOptions","opts","byeaster","freq","YEARLY","FREQUENCIES","concat","dtstart","Date","setMilliseconds","wkst","MO","weekday","bysetpos","i","v","Boolean","byweekno","byyearday","bymonthday","byweekday","bymonth","getUTCMonth","getUTCDate","MONTHLY","WEEKLY","bynmonthday","bynweekday","fromStr","n","wday","byhour","HOURLY","getUTCHours","byminute","MINUTELY","getUTCMinutes","bysecond","SECONDLY","getUTCSeconds","parsedOptions","buildTimeset","millisecondModulo","getTime","timeset","forEach","hour","minute","second"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/rrule/dist/esm/parseoptions.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { freqIsDailyOrGreater } from './types';\nimport { includes, notEmpty, isPresent, isNumber, isArray, isWeekdayStr, } from './helpers';\nimport { RRule, defaultKeys, DEFAULT_OPTIONS } from './rrule';\nimport { getWeekday, isDate, isValidDate } from './dateutil';\nimport { Weekday } from './weekday';\nimport { Time } from './datetime';\nexport function initializeOptions(options) {\n    var invalid = [];\n    var keys = Object.keys(options);\n    // Shallow copy for options and origOptions and check for invalid\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if (!includes(defaultKeys, key))\n            invalid.push(key);\n        if (isDate(options[key]) && !isValidDate(options[key])) {\n            invalid.push(key);\n        }\n    }\n    if (invalid.length) {\n        throw new Error('Invalid options: ' + invalid.join(', '));\n    }\n    return __assign({}, options);\n}\nexport function parseOptions(options) {\n    var opts = __assign(__assign({}, DEFAULT_OPTIONS), initializeOptions(options));\n    if (isPresent(opts.byeaster))\n        opts.freq = RRule.YEARLY;\n    if (!(isPresent(opts.freq) && RRule.FREQUENCIES[opts.freq])) {\n        throw new Error(\"Invalid frequency: \".concat(opts.freq, \" \").concat(options.freq));\n    }\n    if (!opts.dtstart)\n        opts.dtstart = new Date(new Date().setMilliseconds(0));\n    if (!isPresent(opts.wkst)) {\n        opts.wkst = RRule.MO.weekday;\n    }\n    else if (isNumber(opts.wkst)) {\n        // cool, just keep it like that\n    }\n    else {\n        opts.wkst = opts.wkst.weekday;\n    }\n    if (isPresent(opts.bysetpos)) {\n        if (isNumber(opts.bysetpos))\n            opts.bysetpos = [opts.bysetpos];\n        for (var i = 0; i < opts.bysetpos.length; i++) {\n            var v = opts.bysetpos[i];\n            if (v === 0 || !(v >= -366 && v <= 366)) {\n                throw new Error('bysetpos must be between 1 and 366,' + ' or between -366 and -1');\n            }\n        }\n    }\n    if (!(Boolean(opts.byweekno) ||\n        notEmpty(opts.byweekno) ||\n        notEmpty(opts.byyearday) ||\n        Boolean(opts.bymonthday) ||\n        notEmpty(opts.bymonthday) ||\n        isPresent(opts.byweekday) ||\n        isPresent(opts.byeaster))) {\n        switch (opts.freq) {\n            case RRule.YEARLY:\n                if (!opts.bymonth)\n                    opts.bymonth = opts.dtstart.getUTCMonth() + 1;\n                opts.bymonthday = opts.dtstart.getUTCDate();\n                break;\n            case RRule.MONTHLY:\n                opts.bymonthday = opts.dtstart.getUTCDate();\n                break;\n            case RRule.WEEKLY:\n                opts.byweekday = [getWeekday(opts.dtstart)];\n                break;\n        }\n    }\n    // bymonth\n    if (isPresent(opts.bymonth) && !isArray(opts.bymonth)) {\n        opts.bymonth = [opts.bymonth];\n    }\n    // byyearday\n    if (isPresent(opts.byyearday) &&\n        !isArray(opts.byyearday) &&\n        isNumber(opts.byyearday)) {\n        opts.byyearday = [opts.byyearday];\n    }\n    // bymonthday\n    if (!isPresent(opts.bymonthday)) {\n        opts.bymonthday = [];\n        opts.bynmonthday = [];\n    }\n    else if (isArray(opts.bymonthday)) {\n        var bymonthday = [];\n        var bynmonthday = [];\n        for (var i = 0; i < opts.bymonthday.length; i++) {\n            var v = opts.bymonthday[i];\n            if (v > 0) {\n                bymonthday.push(v);\n            }\n            else if (v < 0) {\n                bynmonthday.push(v);\n            }\n        }\n        opts.bymonthday = bymonthday;\n        opts.bynmonthday = bynmonthday;\n    }\n    else if (opts.bymonthday < 0) {\n        opts.bynmonthday = [opts.bymonthday];\n        opts.bymonthday = [];\n    }\n    else {\n        opts.bynmonthday = [];\n        opts.bymonthday = [opts.bymonthday];\n    }\n    // byweekno\n    if (isPresent(opts.byweekno) && !isArray(opts.byweekno)) {\n        opts.byweekno = [opts.byweekno];\n    }\n    // byweekday / bynweekday\n    if (!isPresent(opts.byweekday)) {\n        opts.bynweekday = null;\n    }\n    else if (isNumber(opts.byweekday)) {\n        opts.byweekday = [opts.byweekday];\n        opts.bynweekday = null;\n    }\n    else if (isWeekdayStr(opts.byweekday)) {\n        opts.byweekday = [Weekday.fromStr(opts.byweekday).weekday];\n        opts.bynweekday = null;\n    }\n    else if (opts.byweekday instanceof Weekday) {\n        if (!opts.byweekday.n || opts.freq > RRule.MONTHLY) {\n            opts.byweekday = [opts.byweekday.weekday];\n            opts.bynweekday = null;\n        }\n        else {\n            opts.bynweekday = [[opts.byweekday.weekday, opts.byweekday.n]];\n            opts.byweekday = null;\n        }\n    }\n    else {\n        var byweekday = [];\n        var bynweekday = [];\n        for (var i = 0; i < opts.byweekday.length; i++) {\n            var wday = opts.byweekday[i];\n            if (isNumber(wday)) {\n                byweekday.push(wday);\n                continue;\n            }\n            else if (isWeekdayStr(wday)) {\n                byweekday.push(Weekday.fromStr(wday).weekday);\n                continue;\n            }\n            if (!wday.n || opts.freq > RRule.MONTHLY) {\n                byweekday.push(wday.weekday);\n            }\n            else {\n                bynweekday.push([wday.weekday, wday.n]);\n            }\n        }\n        opts.byweekday = notEmpty(byweekday) ? byweekday : null;\n        opts.bynweekday = notEmpty(bynweekday) ? bynweekday : null;\n    }\n    // byhour\n    if (!isPresent(opts.byhour)) {\n        opts.byhour = opts.freq < RRule.HOURLY ? [opts.dtstart.getUTCHours()] : null;\n    }\n    else if (isNumber(opts.byhour)) {\n        opts.byhour = [opts.byhour];\n    }\n    // byminute\n    if (!isPresent(opts.byminute)) {\n        opts.byminute =\n            opts.freq < RRule.MINUTELY ? [opts.dtstart.getUTCMinutes()] : null;\n    }\n    else if (isNumber(opts.byminute)) {\n        opts.byminute = [opts.byminute];\n    }\n    // bysecond\n    if (!isPresent(opts.bysecond)) {\n        opts.bysecond =\n            opts.freq < RRule.SECONDLY ? [opts.dtstart.getUTCSeconds()] : null;\n    }\n    else if (isNumber(opts.bysecond)) {\n        opts.bysecond = [opts.bysecond];\n    }\n    return { parsedOptions: opts };\n}\nexport function buildTimeset(opts) {\n    var millisecondModulo = opts.dtstart.getTime() % 1000;\n    if (!freqIsDailyOrGreater(opts.freq)) {\n        return [];\n    }\n    var timeset = [];\n    opts.byhour.forEach(function (hour) {\n        opts.byminute.forEach(function (minute) {\n            opts.bysecond.forEach(function (second) {\n                timeset.push(new Time(hour, minute, second, millisecondModulo));\n            });\n        });\n    });\n    return timeset;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}