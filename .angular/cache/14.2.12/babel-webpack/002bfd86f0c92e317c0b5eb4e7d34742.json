{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/vector_map/control_bar/control_bar.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nvar _math = Math;\nvar _min = _math.min;\nvar _max = _math.max;\nvar _round = _math.round;\nvar _floor = _math.floor;\nvar _sqrt = _math.sqrt;\nimport { parseScalar as _parseScalar, enumParser } from \"../../core/utils\";\nimport { createTracker, createVisibilityGroup, toggleDisplay } from \"./utils\";\nvar parseHorizontalAlignment = enumParser([\"left\", \"center\", \"right\"]);\nvar parseVerticalAlignment = enumParser([\"top\", \"bottom\"]);\nvar COMMAND_RESET = \"command-reset\";\nvar COMMAND_MOVE_UP = \"command-move-up\";\nvar COMMAND_MOVE_RIGHT = \"command-move-right\";\nvar COMMAND_MOVE_DOWN = \"command-move-down\";\nvar COMMAND_MOVE_LEFT = \"command-move-left\";\nvar COMMAND_ZOOM_IN = \"command-zoom-in\";\nvar COMMAND_ZOOM_OUT = \"command-zoom-out\";\nvar COMMAND_ZOOM_DRAG_LINE = \"command-zoom-drag-line\";\nvar COMMAND_ZOOM_DRAG = \"command-zoom-drag\";\nvar EVENT_TARGET_TYPE = \"control-bar\";\nvar FLAG_CENTERING = 1;\nvar FLAG_ZOOMING = 2;\nvar SIZE_OPTIONS = {\n  bigCircleSize: 58,\n  smallCircleSize: 28,\n  buttonSize: 10,\n  arrowButtonOffset: 20,\n  incDecButtonSize: 11,\n  incButtonOffset: 66,\n  decButtonOffset: 227,\n  sliderLineStartOffset: 88.5,\n  sliderLineEndOffset: 205.5,\n  sliderLength: 20,\n  sliderWidth: 8,\n  trackerGap: 4\n};\nvar OFFSET_X = 30.5;\nvar OFFSET_Y = 30.5;\nvar TOTAL_WIDTH = 61;\nvar TOTAL_HEIGHT = 274;\nvar COMMAND_TO_TYPE_MAP = {};\nCOMMAND_TO_TYPE_MAP[COMMAND_RESET] = ResetCommand;\nCOMMAND_TO_TYPE_MAP[COMMAND_MOVE_UP] = COMMAND_TO_TYPE_MAP[COMMAND_MOVE_RIGHT] = COMMAND_TO_TYPE_MAP[COMMAND_MOVE_DOWN] = COMMAND_TO_TYPE_MAP[COMMAND_MOVE_LEFT] = MoveCommand;\nCOMMAND_TO_TYPE_MAP[COMMAND_ZOOM_IN] = COMMAND_TO_TYPE_MAP[COMMAND_ZOOM_OUT] = ZoomCommand;\nCOMMAND_TO_TYPE_MAP[COMMAND_ZOOM_DRAG] = ZoomDragCommand;\nexport function ControlBar(parameters) {\n  this._params = parameters;\n\n  this._createElements(parameters.renderer, parameters.container, parameters.dataKey);\n\n  parameters.layoutControl.addItem(this);\n\n  this._subscribeToProjection(parameters.projection);\n\n  this._subscribeToTracker(parameters.tracker);\n\n  this._createCallbacks(parameters.projection);\n}\nControlBar.prototype = {\n  constructor: ControlBar,\n  _flags: 0,\n  dispose: function () {\n    this._params.layoutControl.removeItem(this);\n\n    this._root.linkRemove().linkOff();\n\n    this._offProjection();\n\n    this._offTracker();\n\n    this._params = this._root = this._offProjection = this._offTracker = this._callbacks = null;\n  },\n  _subscribeToProjection: function (projection) {\n    var that = this;\n    that._offProjection = projection.on({\n      engine: function () {\n        that._update();\n      },\n      zoom: updateZoom,\n      \"max-zoom\": function () {\n        that._zoomPartition = projection.getZoomScalePartition();\n        that._sliderUnitLength = that._sliderLineLength / that._zoomPartition;\n        updateZoom();\n      }\n    });\n\n    function updateZoom() {\n      that._adjustZoom(projection.getScaledZoom());\n    }\n  },\n  _subscribeToTracker: function (tracker) {\n    var that = this;\n    var isActive = false;\n    that._offTracker = tracker.on({\n      start: function (arg) {\n        isActive = arg.data.name === EVENT_TARGET_TYPE;\n\n        if (isActive) {\n          that._processStart(arg.data.index, arg);\n        }\n      },\n      move: function (arg) {\n        if (isActive) {\n          that._processMove(arg.data.index, arg);\n        }\n      },\n      end: function () {\n        if (isActive) {\n          that._processEnd();\n\n          isActive = false;\n        }\n      }\n    });\n  },\n  _createCallbacks: function (projection) {\n    this._callbacks = {\n      reset: function (isCenter, isZoom) {\n        if (isCenter) {\n          projection.setCenter(null);\n        }\n\n        if (isZoom) {\n          projection.setZoom(null);\n        }\n      },\n      beginMove: function () {\n        projection.beginMoveCenter();\n      },\n      endMove: function () {\n        projection.endMoveCenter();\n      },\n      move: function (shift) {\n        projection.moveCenter(shift);\n      },\n      zoom: function (_zoom) {\n        projection.setScaledZoom(_zoom);\n      }\n    };\n  },\n  _createElements: function (renderer, container, dataKey) {\n    this._root = renderer.g().attr({\n      class: \"dxm-control-bar\"\n    }).linkOn(container, \"control-bar\");\n    var panControl = this._panControl = createVisibilityGroup(renderer, this._root, \"dxm-pan-control\");\n    var zoomBar = this._zoomBar = createVisibilityGroup(renderer, this._root, \"dxm-zoom-bar\");\n    var trackersPan = this._trackersPan = createTracker(renderer, this._root);\n    var trackersZoom = this._trackersZoom = createTracker(renderer, this._root);\n\n    this._createTrackersPan(renderer, dataKey, trackersPan);\n\n    this._createTrackersZoom(renderer, dataKey, trackersZoom);\n\n    this._createPanControl(renderer, dataKey, panControl);\n\n    this._createZoomBar(renderer, dataKey, zoomBar);\n  },\n  _createPanControl: function (renderer, dataKey, group) {\n    var options = SIZE_OPTIONS;\n    var size = options.buttonSize / 2;\n    var offset1 = options.arrowButtonOffset - size;\n    var offset2 = options.arrowButtonOffset;\n    var directionOptions = {\n      \"stroke-linecap\": \"square\",\n      fill: \"none\"\n    };\n    renderer.circle(0, 0, options.bigCircleSize / 2).append(group);\n    renderer.circle(0, 0, size).attr({\n      fill: \"none\"\n    }).append(group);\n    renderer.path([-size, -offset1, 0, -offset2, size, -offset1], \"line\").attr(directionOptions).append(group);\n    renderer.path([offset1, -size, offset2, 0, offset1, size], \"line\").attr(directionOptions).append(group);\n    renderer.path([size, offset1, 0, offset2, -size, offset1], \"line\").attr(directionOptions).append(group);\n    renderer.path([-offset1, size, -offset2, 0, -offset1, -size], \"line\").attr(directionOptions).append(group);\n  },\n  _createZoomBar: function (renderer, dataKey, group) {\n    var options = SIZE_OPTIONS;\n    var incDecButtonSize = options.incDecButtonSize / 2;\n    renderer.circle(0, options.incButtonOffset, options.smallCircleSize / 2).append(group);\n    renderer.path([[-incDecButtonSize, options.incButtonOffset, incDecButtonSize, options.incButtonOffset], [0, options.incButtonOffset - incDecButtonSize, 0, options.incButtonOffset + incDecButtonSize]], \"area\").append(group);\n    renderer.circle(0, options.decButtonOffset, options.smallCircleSize / 2).append(group);\n    renderer.path([-incDecButtonSize, options.decButtonOffset, incDecButtonSize, options.decButtonOffset], \"area\").append(group);\n    this._zoomLine = renderer.path([], \"line\").append(group);\n    this._zoomDrag = renderer.rect(_floor(-options.sliderLength / 2), _floor(options.sliderLineEndOffset - options.sliderWidth / 2), options.sliderLength, options.sliderWidth).append(group);\n    this._sliderLineLength = options.sliderLineEndOffset - options.sliderLineStartOffset;\n  },\n  _createTrackersPan: function (renderer, dataKey, group) {\n    var options = SIZE_OPTIONS;\n\n    var size = _round((options.arrowButtonOffset - options.trackerGap) / 2);\n\n    var offset1 = options.arrowButtonOffset - size;\n\n    var offset2 = _round(_sqrt(options.bigCircleSize * options.bigCircleSize / 4 - size * size));\n\n    var size2 = offset2 - offset1;\n    renderer.rect(-size, -size, 2 * size, 2 * size).data(dataKey, {\n      index: COMMAND_RESET,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    renderer.rect(-size, -offset2, 2 * size, size2).data(dataKey, {\n      index: COMMAND_MOVE_UP,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    renderer.rect(offset1, -size, size2, 2 * size).data(dataKey, {\n      index: COMMAND_MOVE_RIGHT,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    renderer.rect(-size, offset1, 2 * size, size2).data(dataKey, {\n      index: COMMAND_MOVE_DOWN,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    renderer.rect(-offset2, -size, size2, 2 * size).data(dataKey, {\n      index: COMMAND_MOVE_LEFT,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n  },\n  _createTrackersZoom: function (renderer, dataKey, group) {\n    var options = SIZE_OPTIONS;\n    renderer.circle(0, options.incButtonOffset, options.smallCircleSize / 2).data(dataKey, {\n      index: COMMAND_ZOOM_IN,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    renderer.circle(0, options.decButtonOffset, options.smallCircleSize / 2).data(dataKey, {\n      index: COMMAND_ZOOM_OUT,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    renderer.rect(-2, options.sliderLineStartOffset - 2, 4, options.sliderLineEndOffset - options.sliderLineStartOffset + 4).css({\n      cursor: \"default\"\n    }).data(dataKey, {\n      index: COMMAND_ZOOM_DRAG_LINE,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n    this._zoomDragTracker = renderer.rect(-options.sliderLength / 2, options.sliderLineEndOffset - options.sliderWidth / 2, options.sliderLength, options.sliderWidth).data(dataKey, {\n      index: COMMAND_ZOOM_DRAG,\n      name: EVENT_TARGET_TYPE\n    }).append(group);\n  },\n  resize: function (size) {\n    if (this._isActive) {\n      this._root.attr({\n        visibility: null !== size ? null : \"hidden\"\n      });\n    }\n  },\n  getLayoutOptions: function () {\n    return this._isActive ? this._layoutOptions : null;\n  },\n  locate: function (x, y) {\n    this._root.attr({\n      translateX: x + this._margin + OFFSET_X,\n      translateY: y + this._margin + OFFSET_Y\n    });\n  },\n  _update: function () {\n    this._isActive = this._isEnabled && this._flags && this._params.projection.isInvertible();\n    var groupPan = [this._panControl, this._trackersPan];\n    var groupZoom = [this._zoomBar, this._trackersZoom];\n\n    if (this._isActive) {\n      this._root.linkAppend();\n\n      toggleDisplay(groupPan, this._isPanVisible);\n      toggleDisplay(groupZoom, this._isZoomVisible);\n    } else {\n      this._root.linkRemove();\n    }\n\n    this._processEnd();\n\n    this.updateLayout();\n  },\n  setInteraction: function (interaction) {\n    if (_parseScalar(interaction.centeringEnabled, true)) {\n      this._flags |= FLAG_CENTERING;\n    } else {\n      this._flags &= ~FLAG_CENTERING;\n    }\n\n    if (_parseScalar(interaction.zoomingEnabled, true)) {\n      this._flags |= FLAG_ZOOMING;\n    } else {\n      this._flags &= ~FLAG_ZOOMING;\n    }\n\n    this._update();\n  },\n  setOptions: function (options) {\n    var styleSvg = {\n      \"stroke-width\": options.borderWidth,\n      stroke: options.borderColor,\n      fill: options.color,\n      \"fill-opacity\": options.opacity\n    };\n    this._isEnabled = !!_parseScalar(options.enabled, true);\n    this._margin = options.margin || 0;\n    this._layoutOptions = {\n      width: 2 * this._margin + TOTAL_WIDTH,\n      height: 2 * this._margin + TOTAL_HEIGHT,\n      horizontalAlignment: parseHorizontalAlignment(options.horizontalAlignment, \"left\"),\n      verticalAlignment: parseVerticalAlignment(options.verticalAlignment, \"top\")\n    };\n    this._isPanVisible = !!_parseScalar(options.panVisible, true);\n    this._isZoomVisible = !!_parseScalar(options.zoomVisible, true);\n\n    this._panControl.attr(styleSvg);\n\n    this._zoomBar.attr(styleSvg);\n\n    this._update();\n  },\n  _adjustZoom: function (zoom) {\n    var start = SIZE_OPTIONS.sliderLineStartOffset;\n    var end = SIZE_OPTIONS.sliderLineEndOffset;\n    var h = SIZE_OPTIONS.sliderWidth;\n    this._zoomFactor = _max(_min(_round(zoom), this._zoomPartition), 0);\n    var transform = {\n      translateY: -_round(this._zoomFactor * this._sliderUnitLength)\n    };\n    var y = end - h / 2 + transform.translateY;\n\n    this._zoomLine.attr({\n      points: [[0, start, 0, _max(start, y)], [0, _min(end, y + h), 0, end]]\n    });\n\n    this._zoomDrag.attr(transform);\n\n    this._zoomDragTracker.attr(transform);\n  },\n  _applyZoom: function () {\n    this._callbacks.zoom(this._zoomFactor);\n  },\n  _processStart: function (command, arg) {\n    var commandType;\n\n    if (this._isActive) {\n      commandType = COMMAND_TO_TYPE_MAP[command];\n      this._command = commandType && commandType.flags & this._flags ? new commandType(this, command, arg) : null;\n    }\n  },\n  _processMove: function (command, arg) {\n    this._command && this._command.update(command, arg);\n  },\n  _processEnd: function () {\n    this._command && this._command.finish();\n    this._command = null;\n  }\n};\n\nfunction disposeCommand(command) {\n  delete command._owner;\n\n  command.update = function () {};\n\n  command.finish = function () {};\n}\n\nfunction ResetCommand(owner, command) {\n  this._owner = owner;\n  this._command = command;\n}\n\nResetCommand.flags = FLAG_CENTERING | FLAG_ZOOMING;\n\nResetCommand.prototype.update = function (command) {\n  command !== this._command && disposeCommand(this);\n};\n\nResetCommand.prototype.finish = function () {\n  var flags = this._owner._flags;\n\n  this._owner._callbacks.reset(!!(flags & FLAG_CENTERING), !!(flags & FLAG_ZOOMING));\n\n  disposeCommand(this);\n};\n\nfunction MoveCommand(owner, command, arg) {\n  this._command = command;\n  var timeout = null;\n  var dx = 0;\n  var dy = 0;\n\n  switch (this._command) {\n    case COMMAND_MOVE_UP:\n      dy = -10;\n      break;\n\n    case COMMAND_MOVE_RIGHT:\n      dx = 10;\n      break;\n\n    case COMMAND_MOVE_DOWN:\n      dy = 10;\n      break;\n\n    case COMMAND_MOVE_LEFT:\n      dx = -10;\n  }\n\n  this._stop = function () {\n    clearTimeout(timeout);\n\n    owner._callbacks.endMove();\n\n    this._stop = owner = null;\n    return this;\n  };\n\n  null;\n\n  owner._callbacks.beginMove();\n\n  !function callback() {\n    owner._callbacks.move([dx, dy]);\n\n    timeout = setTimeout(callback, 100);\n  }();\n}\n\nMoveCommand.flags = FLAG_CENTERING;\n\nMoveCommand.prototype.update = function (command) {\n  this._command !== command && this.finish();\n};\n\nMoveCommand.prototype.finish = function () {\n  disposeCommand(this._stop());\n};\n\nfunction ZoomCommand(owner, command) {\n  this._owner = owner;\n  this._command = command;\n  var timeout = null;\n  var dZoom = this._command === COMMAND_ZOOM_IN ? 1 : -1;\n\n  this._stop = function () {\n    clearTimeout(timeout);\n    this._stop = owner = null;\n    return this;\n  };\n\n  !function callback() {\n    owner._adjustZoom(owner._zoomFactor + dZoom);\n\n    timeout = setTimeout(callback, 150);\n  }();\n}\n\nZoomCommand.flags = FLAG_ZOOMING;\n\nZoomCommand.prototype.update = function (command) {\n  this._command !== command && this.finish();\n};\n\nZoomCommand.prototype.finish = function () {\n  this._owner._applyZoom();\n\n  disposeCommand(this._stop());\n};\n\nfunction ZoomDragCommand(owner, command, arg) {\n  this._owner = owner;\n  this._zoomFactor = owner._zoomFactor;\n  this._pos = arg.y;\n}\n\nZoomDragCommand.flags = FLAG_ZOOMING;\n\nZoomDragCommand.prototype.update = function (command, arg) {\n  var owner = this._owner;\n\n  owner._adjustZoom(this._zoomFactor + owner._zoomPartition * (this._pos - arg.y) / owner._sliderLineLength);\n};\n\nZoomDragCommand.prototype.finish = function () {\n  this._owner._applyZoom();\n\n  disposeCommand(this);\n};","map":{"version":3,"names":["_math","Math","_min","min","_max","max","_round","round","_floor","floor","_sqrt","sqrt","parseScalar","_parseScalar","enumParser","createTracker","createVisibilityGroup","toggleDisplay","parseHorizontalAlignment","parseVerticalAlignment","COMMAND_RESET","COMMAND_MOVE_UP","COMMAND_MOVE_RIGHT","COMMAND_MOVE_DOWN","COMMAND_MOVE_LEFT","COMMAND_ZOOM_IN","COMMAND_ZOOM_OUT","COMMAND_ZOOM_DRAG_LINE","COMMAND_ZOOM_DRAG","EVENT_TARGET_TYPE","FLAG_CENTERING","FLAG_ZOOMING","SIZE_OPTIONS","bigCircleSize","smallCircleSize","buttonSize","arrowButtonOffset","incDecButtonSize","incButtonOffset","decButtonOffset","sliderLineStartOffset","sliderLineEndOffset","sliderLength","sliderWidth","trackerGap","OFFSET_X","OFFSET_Y","TOTAL_WIDTH","TOTAL_HEIGHT","COMMAND_TO_TYPE_MAP","ResetCommand","MoveCommand","ZoomCommand","ZoomDragCommand","ControlBar","parameters","_params","_createElements","renderer","container","dataKey","layoutControl","addItem","_subscribeToProjection","projection","_subscribeToTracker","tracker","_createCallbacks","prototype","constructor","_flags","dispose","removeItem","_root","linkRemove","linkOff","_offProjection","_offTracker","_callbacks","that","on","engine","_update","zoom","updateZoom","_zoomPartition","getZoomScalePartition","_sliderUnitLength","_sliderLineLength","_adjustZoom","getScaledZoom","isActive","start","arg","data","name","_processStart","index","move","_processMove","end","_processEnd","reset","isCenter","isZoom","setCenter","setZoom","beginMove","beginMoveCenter","endMove","endMoveCenter","shift","moveCenter","_zoom","setScaledZoom","g","attr","class","linkOn","panControl","_panControl","zoomBar","_zoomBar","trackersPan","_trackersPan","trackersZoom","_trackersZoom","_createTrackersPan","_createTrackersZoom","_createPanControl","_createZoomBar","group","options","size","offset1","offset2","directionOptions","fill","circle","append","path","_zoomLine","_zoomDrag","rect","size2","css","cursor","_zoomDragTracker","resize","_isActive","visibility","getLayoutOptions","_layoutOptions","locate","x","y","translateX","_margin","translateY","_isEnabled","isInvertible","groupPan","groupZoom","linkAppend","_isPanVisible","_isZoomVisible","updateLayout","setInteraction","interaction","centeringEnabled","zoomingEnabled","setOptions","styleSvg","borderWidth","stroke","borderColor","color","opacity","enabled","margin","width","height","horizontalAlignment","verticalAlignment","panVisible","zoomVisible","h","_zoomFactor","transform","points","_applyZoom","command","commandType","_command","flags","update","finish","disposeCommand","_owner","owner","timeout","dx","dy","_stop","clearTimeout","callback","setTimeout","dZoom","_pos"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/devextreme/esm/viz/vector_map/control_bar/control_bar.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/viz/vector_map/control_bar/control_bar.js)\r\n * Version: 22.2.4\r\n * Build date: Thu Jan 19 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nvar _math = Math;\r\nvar _min = _math.min;\r\nvar _max = _math.max;\r\nvar _round = _math.round;\r\nvar _floor = _math.floor;\r\nvar _sqrt = _math.sqrt;\r\nimport {\r\n    parseScalar as _parseScalar,\r\n    enumParser\r\n} from \"../../core/utils\";\r\nimport {\r\n    createTracker,\r\n    createVisibilityGroup,\r\n    toggleDisplay\r\n} from \"./utils\";\r\nvar parseHorizontalAlignment = enumParser([\"left\", \"center\", \"right\"]);\r\nvar parseVerticalAlignment = enumParser([\"top\", \"bottom\"]);\r\nvar COMMAND_RESET = \"command-reset\";\r\nvar COMMAND_MOVE_UP = \"command-move-up\";\r\nvar COMMAND_MOVE_RIGHT = \"command-move-right\";\r\nvar COMMAND_MOVE_DOWN = \"command-move-down\";\r\nvar COMMAND_MOVE_LEFT = \"command-move-left\";\r\nvar COMMAND_ZOOM_IN = \"command-zoom-in\";\r\nvar COMMAND_ZOOM_OUT = \"command-zoom-out\";\r\nvar COMMAND_ZOOM_DRAG_LINE = \"command-zoom-drag-line\";\r\nvar COMMAND_ZOOM_DRAG = \"command-zoom-drag\";\r\nvar EVENT_TARGET_TYPE = \"control-bar\";\r\nvar FLAG_CENTERING = 1;\r\nvar FLAG_ZOOMING = 2;\r\nvar SIZE_OPTIONS = {\r\n    bigCircleSize: 58,\r\n    smallCircleSize: 28,\r\n    buttonSize: 10,\r\n    arrowButtonOffset: 20,\r\n    incDecButtonSize: 11,\r\n    incButtonOffset: 66,\r\n    decButtonOffset: 227,\r\n    sliderLineStartOffset: 88.5,\r\n    sliderLineEndOffset: 205.5,\r\n    sliderLength: 20,\r\n    sliderWidth: 8,\r\n    trackerGap: 4\r\n};\r\nvar OFFSET_X = 30.5;\r\nvar OFFSET_Y = 30.5;\r\nvar TOTAL_WIDTH = 61;\r\nvar TOTAL_HEIGHT = 274;\r\nvar COMMAND_TO_TYPE_MAP = {};\r\nCOMMAND_TO_TYPE_MAP[COMMAND_RESET] = ResetCommand;\r\nCOMMAND_TO_TYPE_MAP[COMMAND_MOVE_UP] = COMMAND_TO_TYPE_MAP[COMMAND_MOVE_RIGHT] = COMMAND_TO_TYPE_MAP[COMMAND_MOVE_DOWN] = COMMAND_TO_TYPE_MAP[COMMAND_MOVE_LEFT] = MoveCommand;\r\nCOMMAND_TO_TYPE_MAP[COMMAND_ZOOM_IN] = COMMAND_TO_TYPE_MAP[COMMAND_ZOOM_OUT] = ZoomCommand;\r\nCOMMAND_TO_TYPE_MAP[COMMAND_ZOOM_DRAG] = ZoomDragCommand;\r\nexport function ControlBar(parameters) {\r\n    this._params = parameters;\r\n    this._createElements(parameters.renderer, parameters.container, parameters.dataKey);\r\n    parameters.layoutControl.addItem(this);\r\n    this._subscribeToProjection(parameters.projection);\r\n    this._subscribeToTracker(parameters.tracker);\r\n    this._createCallbacks(parameters.projection)\r\n}\r\nControlBar.prototype = {\r\n    constructor: ControlBar,\r\n    _flags: 0,\r\n    dispose: function() {\r\n        this._params.layoutControl.removeItem(this);\r\n        this._root.linkRemove().linkOff();\r\n        this._offProjection();\r\n        this._offTracker();\r\n        this._params = this._root = this._offProjection = this._offTracker = this._callbacks = null\r\n    },\r\n    _subscribeToProjection: function(projection) {\r\n        var that = this;\r\n        that._offProjection = projection.on({\r\n            engine: function() {\r\n                that._update()\r\n            },\r\n            zoom: updateZoom,\r\n            \"max-zoom\": function() {\r\n                that._zoomPartition = projection.getZoomScalePartition();\r\n                that._sliderUnitLength = that._sliderLineLength / that._zoomPartition;\r\n                updateZoom()\r\n            }\r\n        });\r\n\r\n        function updateZoom() {\r\n            that._adjustZoom(projection.getScaledZoom())\r\n        }\r\n    },\r\n    _subscribeToTracker: function(tracker) {\r\n        var that = this;\r\n        var isActive = false;\r\n        that._offTracker = tracker.on({\r\n            start: function(arg) {\r\n                isActive = arg.data.name === EVENT_TARGET_TYPE;\r\n                if (isActive) {\r\n                    that._processStart(arg.data.index, arg)\r\n                }\r\n            },\r\n            move: function(arg) {\r\n                if (isActive) {\r\n                    that._processMove(arg.data.index, arg)\r\n                }\r\n            },\r\n            end: function() {\r\n                if (isActive) {\r\n                    that._processEnd();\r\n                    isActive = false\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _createCallbacks: function(projection) {\r\n        this._callbacks = {\r\n            reset: function(isCenter, isZoom) {\r\n                if (isCenter) {\r\n                    projection.setCenter(null)\r\n                }\r\n                if (isZoom) {\r\n                    projection.setZoom(null)\r\n                }\r\n            },\r\n            beginMove: function() {\r\n                projection.beginMoveCenter()\r\n            },\r\n            endMove: function() {\r\n                projection.endMoveCenter()\r\n            },\r\n            move: function(shift) {\r\n                projection.moveCenter(shift)\r\n            },\r\n            zoom: function(_zoom) {\r\n                projection.setScaledZoom(_zoom)\r\n            }\r\n        }\r\n    },\r\n    _createElements: function(renderer, container, dataKey) {\r\n        this._root = renderer.g().attr({\r\n            class: \"dxm-control-bar\"\r\n        }).linkOn(container, \"control-bar\");\r\n        var panControl = this._panControl = createVisibilityGroup(renderer, this._root, \"dxm-pan-control\");\r\n        var zoomBar = this._zoomBar = createVisibilityGroup(renderer, this._root, \"dxm-zoom-bar\");\r\n        var trackersPan = this._trackersPan = createTracker(renderer, this._root);\r\n        var trackersZoom = this._trackersZoom = createTracker(renderer, this._root);\r\n        this._createTrackersPan(renderer, dataKey, trackersPan);\r\n        this._createTrackersZoom(renderer, dataKey, trackersZoom);\r\n        this._createPanControl(renderer, dataKey, panControl);\r\n        this._createZoomBar(renderer, dataKey, zoomBar)\r\n    },\r\n    _createPanControl: function(renderer, dataKey, group) {\r\n        var options = SIZE_OPTIONS;\r\n        var size = options.buttonSize / 2;\r\n        var offset1 = options.arrowButtonOffset - size;\r\n        var offset2 = options.arrowButtonOffset;\r\n        var directionOptions = {\r\n            \"stroke-linecap\": \"square\",\r\n            fill: \"none\"\r\n        };\r\n        renderer.circle(0, 0, options.bigCircleSize / 2).append(group);\r\n        renderer.circle(0, 0, size).attr({\r\n            fill: \"none\"\r\n        }).append(group);\r\n        renderer.path([-size, -offset1, 0, -offset2, size, -offset1], \"line\").attr(directionOptions).append(group);\r\n        renderer.path([offset1, -size, offset2, 0, offset1, size], \"line\").attr(directionOptions).append(group);\r\n        renderer.path([size, offset1, 0, offset2, -size, offset1], \"line\").attr(directionOptions).append(group);\r\n        renderer.path([-offset1, size, -offset2, 0, -offset1, -size], \"line\").attr(directionOptions).append(group)\r\n    },\r\n    _createZoomBar: function(renderer, dataKey, group) {\r\n        var options = SIZE_OPTIONS;\r\n        var incDecButtonSize = options.incDecButtonSize / 2;\r\n        renderer.circle(0, options.incButtonOffset, options.smallCircleSize / 2).append(group);\r\n        renderer.path([\r\n            [-incDecButtonSize, options.incButtonOffset, incDecButtonSize, options.incButtonOffset],\r\n            [0, options.incButtonOffset - incDecButtonSize, 0, options.incButtonOffset + incDecButtonSize]\r\n        ], \"area\").append(group);\r\n        renderer.circle(0, options.decButtonOffset, options.smallCircleSize / 2).append(group);\r\n        renderer.path([-incDecButtonSize, options.decButtonOffset, incDecButtonSize, options.decButtonOffset], \"area\").append(group);\r\n        this._zoomLine = renderer.path([], \"line\").append(group);\r\n        this._zoomDrag = renderer.rect(_floor(-options.sliderLength / 2), _floor(options.sliderLineEndOffset - options.sliderWidth / 2), options.sliderLength, options.sliderWidth).append(group);\r\n        this._sliderLineLength = options.sliderLineEndOffset - options.sliderLineStartOffset\r\n    },\r\n    _createTrackersPan: function(renderer, dataKey, group) {\r\n        var options = SIZE_OPTIONS;\r\n        var size = _round((options.arrowButtonOffset - options.trackerGap) / 2);\r\n        var offset1 = options.arrowButtonOffset - size;\r\n        var offset2 = _round(_sqrt(options.bigCircleSize * options.bigCircleSize / 4 - size * size));\r\n        var size2 = offset2 - offset1;\r\n        renderer.rect(-size, -size, 2 * size, 2 * size).data(dataKey, {\r\n            index: COMMAND_RESET,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        renderer.rect(-size, -offset2, 2 * size, size2).data(dataKey, {\r\n            index: COMMAND_MOVE_UP,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        renderer.rect(offset1, -size, size2, 2 * size).data(dataKey, {\r\n            index: COMMAND_MOVE_RIGHT,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        renderer.rect(-size, offset1, 2 * size, size2).data(dataKey, {\r\n            index: COMMAND_MOVE_DOWN,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        renderer.rect(-offset2, -size, size2, 2 * size).data(dataKey, {\r\n            index: COMMAND_MOVE_LEFT,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group)\r\n    },\r\n    _createTrackersZoom: function(renderer, dataKey, group) {\r\n        var options = SIZE_OPTIONS;\r\n        renderer.circle(0, options.incButtonOffset, options.smallCircleSize / 2).data(dataKey, {\r\n            index: COMMAND_ZOOM_IN,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        renderer.circle(0, options.decButtonOffset, options.smallCircleSize / 2).data(dataKey, {\r\n            index: COMMAND_ZOOM_OUT,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        renderer.rect(-2, options.sliderLineStartOffset - 2, 4, options.sliderLineEndOffset - options.sliderLineStartOffset + 4).css({\r\n            cursor: \"default\"\r\n        }).data(dataKey, {\r\n            index: COMMAND_ZOOM_DRAG_LINE,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group);\r\n        this._zoomDragTracker = renderer.rect(-options.sliderLength / 2, options.sliderLineEndOffset - options.sliderWidth / 2, options.sliderLength, options.sliderWidth).data(dataKey, {\r\n            index: COMMAND_ZOOM_DRAG,\r\n            name: EVENT_TARGET_TYPE\r\n        }).append(group)\r\n    },\r\n    resize: function(size) {\r\n        if (this._isActive) {\r\n            this._root.attr({\r\n                visibility: null !== size ? null : \"hidden\"\r\n            })\r\n        }\r\n    },\r\n    getLayoutOptions: function() {\r\n        return this._isActive ? this._layoutOptions : null\r\n    },\r\n    locate: function(x, y) {\r\n        this._root.attr({\r\n            translateX: x + this._margin + OFFSET_X,\r\n            translateY: y + this._margin + OFFSET_Y\r\n        })\r\n    },\r\n    _update: function() {\r\n        this._isActive = this._isEnabled && this._flags && this._params.projection.isInvertible();\r\n        var groupPan = [this._panControl, this._trackersPan];\r\n        var groupZoom = [this._zoomBar, this._trackersZoom];\r\n        if (this._isActive) {\r\n            this._root.linkAppend();\r\n            toggleDisplay(groupPan, this._isPanVisible);\r\n            toggleDisplay(groupZoom, this._isZoomVisible)\r\n        } else {\r\n            this._root.linkRemove()\r\n        }\r\n        this._processEnd();\r\n        this.updateLayout()\r\n    },\r\n    setInteraction: function(interaction) {\r\n        if (_parseScalar(interaction.centeringEnabled, true)) {\r\n            this._flags |= FLAG_CENTERING\r\n        } else {\r\n            this._flags &= ~FLAG_CENTERING\r\n        }\r\n        if (_parseScalar(interaction.zoomingEnabled, true)) {\r\n            this._flags |= FLAG_ZOOMING\r\n        } else {\r\n            this._flags &= ~FLAG_ZOOMING\r\n        }\r\n        this._update()\r\n    },\r\n    setOptions: function(options) {\r\n        var styleSvg = {\r\n            \"stroke-width\": options.borderWidth,\r\n            stroke: options.borderColor,\r\n            fill: options.color,\r\n            \"fill-opacity\": options.opacity\r\n        };\r\n        this._isEnabled = !!_parseScalar(options.enabled, true);\r\n        this._margin = options.margin || 0;\r\n        this._layoutOptions = {\r\n            width: 2 * this._margin + TOTAL_WIDTH,\r\n            height: 2 * this._margin + TOTAL_HEIGHT,\r\n            horizontalAlignment: parseHorizontalAlignment(options.horizontalAlignment, \"left\"),\r\n            verticalAlignment: parseVerticalAlignment(options.verticalAlignment, \"top\")\r\n        };\r\n        this._isPanVisible = !!_parseScalar(options.panVisible, true);\r\n        this._isZoomVisible = !!_parseScalar(options.zoomVisible, true);\r\n        this._panControl.attr(styleSvg);\r\n        this._zoomBar.attr(styleSvg);\r\n        this._update()\r\n    },\r\n    _adjustZoom: function(zoom) {\r\n        var start = SIZE_OPTIONS.sliderLineStartOffset;\r\n        var end = SIZE_OPTIONS.sliderLineEndOffset;\r\n        var h = SIZE_OPTIONS.sliderWidth;\r\n        this._zoomFactor = _max(_min(_round(zoom), this._zoomPartition), 0);\r\n        var transform = {\r\n            translateY: -_round(this._zoomFactor * this._sliderUnitLength)\r\n        };\r\n        var y = end - h / 2 + transform.translateY;\r\n        this._zoomLine.attr({\r\n            points: [\r\n                [0, start, 0, _max(start, y)],\r\n                [0, _min(end, y + h), 0, end]\r\n            ]\r\n        });\r\n        this._zoomDrag.attr(transform);\r\n        this._zoomDragTracker.attr(transform)\r\n    },\r\n    _applyZoom: function() {\r\n        this._callbacks.zoom(this._zoomFactor)\r\n    },\r\n    _processStart: function(command, arg) {\r\n        var commandType;\r\n        if (this._isActive) {\r\n            commandType = COMMAND_TO_TYPE_MAP[command];\r\n            this._command = commandType && commandType.flags & this._flags ? new commandType(this, command, arg) : null\r\n        }\r\n    },\r\n    _processMove: function(command, arg) {\r\n        this._command && this._command.update(command, arg)\r\n    },\r\n    _processEnd: function() {\r\n        this._command && this._command.finish();\r\n        this._command = null\r\n    }\r\n};\r\n\r\nfunction disposeCommand(command) {\r\n    delete command._owner;\r\n    command.update = function() {};\r\n    command.finish = function() {}\r\n}\r\n\r\nfunction ResetCommand(owner, command) {\r\n    this._owner = owner;\r\n    this._command = command\r\n}\r\nResetCommand.flags = FLAG_CENTERING | FLAG_ZOOMING;\r\nResetCommand.prototype.update = function(command) {\r\n    command !== this._command && disposeCommand(this)\r\n};\r\nResetCommand.prototype.finish = function() {\r\n    var flags = this._owner._flags;\r\n    this._owner._callbacks.reset(!!(flags & FLAG_CENTERING), !!(flags & FLAG_ZOOMING));\r\n    disposeCommand(this)\r\n};\r\n\r\nfunction MoveCommand(owner, command, arg) {\r\n    this._command = command;\r\n    var timeout = null;\r\n    var dx = 0;\r\n    var dy = 0;\r\n    switch (this._command) {\r\n        case COMMAND_MOVE_UP:\r\n            dy = -10;\r\n            break;\r\n        case COMMAND_MOVE_RIGHT:\r\n            dx = 10;\r\n            break;\r\n        case COMMAND_MOVE_DOWN:\r\n            dy = 10;\r\n            break;\r\n        case COMMAND_MOVE_LEFT:\r\n            dx = -10\r\n    }\r\n    this._stop = function() {\r\n        clearTimeout(timeout);\r\n        owner._callbacks.endMove();\r\n        this._stop = owner = null;\r\n        return this\r\n    };\r\n    null;\r\n    owner._callbacks.beginMove();\r\n    ! function callback() {\r\n        owner._callbacks.move([dx, dy]);\r\n        timeout = setTimeout(callback, 100)\r\n    }()\r\n}\r\nMoveCommand.flags = FLAG_CENTERING;\r\nMoveCommand.prototype.update = function(command) {\r\n    this._command !== command && this.finish()\r\n};\r\nMoveCommand.prototype.finish = function() {\r\n    disposeCommand(this._stop())\r\n};\r\n\r\nfunction ZoomCommand(owner, command) {\r\n    this._owner = owner;\r\n    this._command = command;\r\n    var timeout = null;\r\n    var dZoom = this._command === COMMAND_ZOOM_IN ? 1 : -1;\r\n    this._stop = function() {\r\n        clearTimeout(timeout);\r\n        this._stop = owner = null;\r\n        return this\r\n    };\r\n    ! function callback() {\r\n        owner._adjustZoom(owner._zoomFactor + dZoom);\r\n        timeout = setTimeout(callback, 150)\r\n    }()\r\n}\r\nZoomCommand.flags = FLAG_ZOOMING;\r\nZoomCommand.prototype.update = function(command) {\r\n    this._command !== command && this.finish()\r\n};\r\nZoomCommand.prototype.finish = function() {\r\n    this._owner._applyZoom();\r\n    disposeCommand(this._stop())\r\n};\r\n\r\nfunction ZoomDragCommand(owner, command, arg) {\r\n    this._owner = owner;\r\n    this._zoomFactor = owner._zoomFactor;\r\n    this._pos = arg.y\r\n}\r\nZoomDragCommand.flags = FLAG_ZOOMING;\r\nZoomDragCommand.prototype.update = function(command, arg) {\r\n    var owner = this._owner;\r\n    owner._adjustZoom(this._zoomFactor + owner._zoomPartition * (this._pos - arg.y) / owner._sliderLineLength)\r\n};\r\nZoomDragCommand.prototype.finish = function() {\r\n    this._owner._applyZoom();\r\n    disposeCommand(this)\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}