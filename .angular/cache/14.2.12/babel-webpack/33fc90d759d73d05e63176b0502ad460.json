{"ast":null,"code":"import { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\nconst _c0 = [\"*\"];\n\nclass BsModalRef {\n  constructor() {\n    /**\n     * Hides the modal\n     */\n    this.hide = Function;\n    /**\n     * Sets new class to modal window\n     */\n\n    this.setClass = Function;\n  }\n\n}\n\nBsModalRef.ɵfac = function BsModalRef_Factory(t) {\n  return new (t || BsModalRef)();\n};\n\nBsModalRef.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalRef,\n  factory: BsModalRef.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nclass ModalBackdropOptions {\n  /**\n   * @param {?} options\n   */\n  constructor(options) {\n    this.animate = true;\n    Object.assign(this, options);\n  }\n\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nclass ModalOptions {}\n\nModalOptions.ɵfac = function ModalOptions_Factory(t) {\n  return new (t || ModalOptions)();\n};\n\nModalOptions.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: ModalOptions,\n  factory: ModalOptions.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n    type: Injectable\n  }], null, null);\n})();\n/** @type {?} */\n\n\nconst modalConfigDefaults = {\n  backdrop: true,\n  keyboard: true,\n  focus: true,\n  show: false,\n  ignoreBackdropClick: false,\n  class: '',\n  animated: true,\n  initialState: {}\n};\n/** @type {?} */\n\nconst CLASS_NAME = {\n  SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n  BACKDROP: 'modal-backdrop',\n  OPEN: 'modal-open',\n  FADE: 'fade',\n  IN: 'in',\n  // bs3\n  SHOW: 'show' // bs4\n\n};\n/** @type {?} */\n\nconst TRANSITION_DURATIONS = {\n  MODAL: 300,\n  BACKDROP: 150\n};\n/** @type {?} */\n\nconst DISMISS_REASONS = {\n  BACKRDOP: 'backdrop-click',\n  ESC: 'esc'\n};\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nclass ModalContainerComponent {\n  /**\n   * @param {?} options\n   * @param {?} _element\n   * @param {?} _renderer\n   */\n  constructor(options, _element, _renderer) {\n    this._element = _element;\n    this._renderer = _renderer;\n    this.isShown = false;\n    this.isModalHiding = false;\n    this.config = Object.assign({}, options);\n  }\n  /**\n   * @return {?}\n   */\n\n\n  ngOnInit() {\n    if (this.isAnimated) {\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n    }\n\n    this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      this.isShown = true;\n\n      this._renderer.addClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n    }, this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n\n    if (document && document.body) {\n      if (this.bsModalService.getModalsCount() === 1) {\n        this.bsModalService.checkScrollbar();\n        this.bsModalService.setScrollbar();\n      }\n\n      this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n    }\n\n    if (this._element.nativeElement) {\n      this._element.nativeElement.focus();\n    }\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n\n\n  onClick(event) {\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this._element.nativeElement) {\n      return;\n    }\n\n    this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n    this.hide();\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n\n\n  onEsc(event) {\n    if (!this.isShown) {\n      return;\n    } // tslint:disable-next-line:deprecation\n\n\n    if (event.keyCode === 27 || event.key === 'Escape') {\n      event.preventDefault();\n    }\n\n    if (this.config.keyboard && this.level === this.bsModalService.getModalsCount()) {\n      this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n      this.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  ngOnDestroy() {\n    if (this.isShown) {\n      this.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  hide() {\n    if (this.isModalHiding || !this.isShown) {\n      return;\n    }\n\n    this.isModalHiding = true;\n\n    this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      this.isShown = false;\n\n      if (document && document.body && this.bsModalService.getModalsCount() === 1) {\n        this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n      }\n\n      this.bsModalService.hide(this.level);\n      this.isModalHiding = false;\n    }, this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n  }\n\n}\n\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) {\n  return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nModalContainerComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ModalContainerComponent,\n  selectors: [[\"modal-container\"]],\n  hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"],\n  hostVars: 1,\n  hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"click\", function ModalContainerComponent_click_HostBindingHandler($event) {\n        return ctx.onClick($event);\n      })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      }, false, ɵngcc0.ɵɵresolveWindow);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"aria-modal\", true);\n    }\n  },\n  ngContentSelectors: _c0,\n  decls: 3,\n  vars: 2,\n  consts: [[\"role\", \"document\"], [1, \"modal-content\"]],\n  template: function ModalContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      ɵngcc0.ɵɵprojection(2);\n      ɵngcc0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    }\n  },\n  encapsulation: 2\n});\n/** @nocollapse */\n\nModalContainerComponent.ctorParameters = () => [{\n  type: ModalOptions\n}, {\n  type: ElementRef\n}, {\n  type: Renderer2\n}];\n\nModalContainerComponent.propDecorators = {\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }],\n  onEsc: [{\n    type: HostListener,\n    args: ['window:keydown.esc', ['$event']]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'modal-container',\n      template: `\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n      host: {\n        class: 'modal',\n        role: 'dialog',\n        tabindex: '-1',\n        '[attr.aria-modal]': 'true'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ModalOptions\n    }, {\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, {\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClick: [{\n      type: HostListener,\n      args: ['click', ['$event']]\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n      type: HostListener,\n      args: ['window:keydown.esc', ['$event']]\n    }]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * This component will be added as background layout for modals if enabled\n */\n\n\nclass ModalBackdropComponent {\n  /**\n   * @param {?} element\n   * @param {?} renderer\n   */\n  constructor(element, renderer) {\n    this._isShown = false;\n    this.element = element;\n    this.renderer = renderer;\n  }\n  /**\n   * @return {?}\n   */\n\n\n  get isAnimated() {\n    return this._isAnimated;\n  }\n  /**\n   * @param {?} value\n   * @return {?}\n   */\n\n\n  set isAnimated(value) {\n    this._isAnimated = value; // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n  }\n  /**\n   * @return {?}\n   */\n\n\n  get isShown() {\n    return this._isShown;\n  }\n  /**\n   * @param {?} value\n   * @return {?}\n   */\n\n\n  set isShown(value) {\n    this._isShown = value;\n\n    if (value) {\n      this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n    } else {\n      this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n    }\n\n    if (!isBs3()) {\n      if (value) {\n        this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n      } else {\n        this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n      }\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  ngOnInit() {\n    if (this.isAnimated) {\n      this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.FADE}`);\n      Utils.reflow(this.element.nativeElement);\n    }\n\n    this.isShown = true;\n  }\n\n}\n\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) {\n  return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nModalBackdropComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ModalBackdropComponent,\n  selectors: [[\"bs-modal-backdrop\"]],\n  hostAttrs: [1, \"modal-backdrop\"],\n  decls: 0,\n  vars: 0,\n  template: function ModalBackdropComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n/** @nocollapse */\n\nModalBackdropComponent.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: Renderer2\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal-backdrop',\n      template: ' ',\n      host: {\n        class: CLASS_NAME.BACKDROP\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/** @type {?} */\n\n\nconst TRANSITION_DURATION = 300;\n/** @type {?} */\n\nconst BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\n\nclass ModalDirective {\n  /**\n   * @param {?} _element\n   * @param {?} _viewContainerRef\n   * @param {?} _renderer\n   * @param {?} clf\n   */\n  constructor(_element, _viewContainerRef, _renderer, clf) {\n    this._element = _element;\n    this._renderer = _renderer;\n    /**\n     * This event fires immediately when the `show` instance method is called.\n     */\n\n    this.onShow = new EventEmitter();\n    /**\n     * This event is fired when the modal has been made visible to the user\n     * (will wait for CSS transitions to complete)\n     */\n\n    this.onShown = new EventEmitter();\n    /**\n     * This event is fired immediately when\n     * the hide instance method has been called.\n     */\n\n    this.onHide = new EventEmitter();\n    /**\n     * This event is fired when the modal has finished being\n     * hidden from the user (will wait for CSS transitions to complete).\n     */\n\n    this.onHidden = new EventEmitter();\n    this._isShown = false;\n    this.isBodyOverflowing = false;\n    this.originalBodyPadding = 0;\n    this.scrollbarWidth = 0;\n    this.timerHideModal = 0;\n    this.timerRmBackDrop = 0;\n    this.isNested = false;\n    this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n  }\n  /**\n   * allows to set modal configuration via element property\n   * @param {?} conf\n   * @return {?}\n   */\n\n\n  set config(conf) {\n    this._config = this.getConfig(conf);\n  }\n  /**\n   * @return {?}\n   */\n\n\n  get config() {\n    return this._config;\n  }\n  /**\n   * @return {?}\n   */\n\n\n  get isShown() {\n    return this._isShown;\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n\n\n  onClick(event) {\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this._element.nativeElement) {\n      return;\n    }\n\n    this.dismissReason = DISMISS_REASONS.BACKRDOP;\n    this.hide(event);\n  } // todo: consider preventing default and stopping propagation\n\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n\n\n  onEsc(event) {\n    if (!this._isShown) {\n      return;\n    } // tslint:disable-next-line:deprecation\n\n\n    if (event.keyCode === 27 || event.key === 'Escape') {\n      event.preventDefault();\n    }\n\n    if (this.config.keyboard) {\n      this.dismissReason = DISMISS_REASONS.ESC;\n      this.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  ngOnDestroy() {\n    this.config = void 0;\n\n    if (this._isShown) {\n      this._isShown = false;\n      this.hideModal();\n\n      this._backdrop.dispose();\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  ngOnInit() {\n    this._config = this._config || this.getConfig();\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      if (this._config.show) {\n        this.show();\n      }\n    }, 0);\n  }\n  /* Public methods */\n\n  /**\n   * Allows to manually toggle modal visibility\n   * @return {?}\n   */\n\n\n  toggle() {\n    return this._isShown ? this.hide() : this.show();\n  }\n  /**\n   * Allows to manually open modal\n   * @return {?}\n   */\n\n\n  show() {\n    this.dismissReason = null;\n    this.onShow.emit(this);\n\n    if (this._isShown) {\n      return;\n    }\n\n    clearTimeout(this.timerHideModal);\n    clearTimeout(this.timerRmBackDrop);\n    this._isShown = true;\n    this.checkScrollbar();\n    this.setScrollbar();\n\n    if (document$1 && document$1.body) {\n      if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n        this.isNested = true;\n      } else {\n        this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n      }\n    }\n\n    this.showBackdrop(\n    /**\n    * @return {?}\n    */\n    () => {\n      this.showElement();\n    });\n  }\n  /**\n   * Allows to manually close modal\n   * @param {?=} event\n   * @return {?}\n   */\n\n\n  hide(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    this.onHide.emit(this); // todo: add an option to prevent hiding\n\n    if (!this._isShown) {\n      return;\n    }\n\n    window$1.clearTimeout(this.timerHideModal);\n    window$1.clearTimeout(this.timerRmBackDrop);\n    this._isShown = false;\n\n    this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n\n    if (!isBs3()) {\n      this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n    } // this._addClassIn = false;\n\n\n    if (this._config.animated) {\n      this.timerHideModal = window$1.setTimeout(\n      /**\n      * @return {?}\n      */\n      () => this.hideModal(), TRANSITION_DURATION);\n    } else {\n      this.hideModal();\n    }\n  }\n  /**\n   * Private methods \\@internal\n   * @protected\n   * @param {?=} config\n   * @return {?}\n   */\n\n\n  getConfig(config) {\n    return Object.assign({}, modalConfigDefaults, config);\n  }\n  /**\n   *  Show dialog\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n\n\n  showElement() {\n    // todo: replace this with component loader usage\n    if (!this._element.nativeElement.parentNode || this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n      // don't move modals dom position\n      if (document$1 && document$1.body) {\n        document$1.body.appendChild(this._element.nativeElement);\n      }\n    }\n\n    this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n\n    this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n\n    this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n\n    this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n\n    if (this._config.animated) {\n      Utils.reflow(this._element.nativeElement);\n    } // this._addClassIn = true;\n\n\n    this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n\n    if (!isBs3()) {\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n    }\n    /** @type {?} */\n\n\n    const transitionComplete =\n    /**\n    * @return {?}\n    */\n    () => {\n      if (this._config.focus) {\n        this._element.nativeElement.focus();\n      }\n\n      this.onShown.emit(this);\n    };\n\n    if (this._config.animated) {\n      setTimeout(transitionComplete, TRANSITION_DURATION);\n    } else {\n      transitionComplete();\n    }\n  }\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n\n\n  hideModal() {\n    this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n\n    this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n\n    this.showBackdrop(\n    /**\n    * @return {?}\n    */\n    () => {\n      if (!this.isNested) {\n        if (document$1 && document$1.body) {\n          this._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n        }\n\n        this.resetScrollbar();\n      }\n\n      this.resetAdjustments();\n      this.focusOtherModal();\n      this.onHidden.emit(this);\n    });\n  } // todo: original show was calling a callback when done, but we can use\n  // promise\n\n  /**\n   * \\@internal\n   * @protected\n   * @param {?=} callback\n   * @return {?}\n   */\n\n\n  showBackdrop(callback) {\n    if (this._isShown && this.config.backdrop && (!this.backdrop || !this.backdrop.instance.isShown)) {\n      this.removeBackdrop();\n\n      this._backdrop.attach(ModalBackdropComponent).to('body').show({\n        isAnimated: this._config.animated\n      });\n\n      this.backdrop = this._backdrop._componentRef;\n\n      if (!callback) {\n        return;\n      }\n\n      if (!this._config.animated) {\n        callback();\n        return;\n      }\n\n      setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n    } else if (!this._isShown && this.backdrop) {\n      this.backdrop.instance.isShown = false;\n      /** @type {?} */\n\n      const callbackRemove =\n      /**\n      * @return {?}\n      */\n      () => {\n        this.removeBackdrop();\n\n        if (callback) {\n          callback();\n        }\n      };\n\n      if (this.backdrop.instance.isAnimated) {\n        this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n      } else {\n        callbackRemove();\n      }\n    } else if (callback) {\n      callback();\n    }\n  }\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n\n\n  removeBackdrop() {\n    this._backdrop.hide();\n  }\n  /**\n   * Events tricks\n   * @protected\n   * @return {?}\n   */\n  // no need for it\n  // protected setEscapeEvent():void {\n  //   if (this._isShown && this._config.keyboard) {\n  //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n  //       if (event.which === 27) {\n  //         this.hide()\n  //       }\n  //     })\n  //\n  //   } else if (!this._isShown) {\n  //     $(this._element).off(Event.KEYDOWN_DISMISS)\n  //   }\n  // }\n  // protected setResizeEvent():void {\n  // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n  // if (this._isShown) {\n  //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n  // } else {\n  //   $(window).off(Event.RESIZE)\n  // }\n  // }\n\n\n  focusOtherModal() {\n    if (this._element.nativeElement.parentElement == null) {\n      return;\n    }\n    /** @type {?} */\n\n\n    const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n\n    if (!otherOpenedModals.length) {\n      return;\n    }\n\n    otherOpenedModals[otherOpenedModals.length - 1].focus();\n  }\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n\n\n  resetAdjustments() {\n    this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n\n    this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n  }\n  /** Scroll bar tricks */\n\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n\n\n  checkScrollbar() {\n    this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n    this.scrollbarWidth = this.getScrollbarWidth();\n  }\n  /**\n   * @protected\n   * @return {?}\n   */\n\n\n  setScrollbar() {\n    if (!document$1) {\n      return;\n    }\n\n    this.originalBodyPadding = parseInt(window$1.getComputedStyle(document$1.body).getPropertyValue('padding-right') || 0, 10);\n\n    if (this.isBodyOverflowing) {\n      document$1.body.style.paddingRight = `${this.originalBodyPadding + this.scrollbarWidth}px`;\n    }\n  }\n  /**\n   * @protected\n   * @return {?}\n   */\n\n\n  resetScrollbar() {\n    document$1.body.style.paddingRight = `${this.originalBodyPadding}px`;\n  } // thx d.walsh\n\n  /**\n   * @protected\n   * @return {?}\n   */\n\n\n  getScrollbarWidth() {\n    /** @type {?} */\n    const scrollDiv = this._renderer.createElement('div');\n\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n\n    this._renderer.appendChild(document$1.body, scrollDiv);\n    /** @type {?} */\n\n\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n    this._renderer.removeChild(document$1.body, scrollDiv);\n\n    return scrollbarWidth;\n  }\n\n}\n\nModalDirective.ɵfac = function ModalDirective_Factory(t) {\n  return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory));\n};\n\nModalDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: ModalDirective,\n  selectors: [[\"\", \"bsModal\", \"\"]],\n  hostBindings: function ModalDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"click\", function ModalDirective_click_HostBindingHandler($event) {\n        return ctx.onClick($event);\n      })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      });\n    }\n  },\n  inputs: {\n    config: \"config\"\n  },\n  outputs: {\n    onShow: \"onShow\",\n    onShown: \"onShown\",\n    onHide: \"onHide\",\n    onHidden: \"onHidden\"\n  },\n  exportAs: [\"bs-modal\"]\n});\n/** @nocollapse */\n\nModalDirective.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: ViewContainerRef\n}, {\n  type: Renderer2\n}, {\n  type: ComponentLoaderFactory\n}];\n\nModalDirective.propDecorators = {\n  config: [{\n    type: Input\n  }],\n  onShow: [{\n    type: Output\n  }],\n  onShown: [{\n    type: Output\n  }],\n  onHide: [{\n    type: Output\n  }],\n  onHidden: [{\n    type: Output\n  }],\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }],\n  onEsc: [{\n    type: HostListener,\n    args: ['keydown.esc', ['$event']]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bsModal]',\n      exportAs: 'bs-modal'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc1.ComponentLoaderFactory\n    }];\n  }, {\n    onShow: [{\n      type: Output\n    }],\n    onShown: [{\n      type: Output\n    }],\n    onHide: [{\n      type: Output\n    }],\n    onHidden: [{\n      type: Output\n    }],\n    config: [{\n      type: Input\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClick: [{\n      type: HostListener,\n      args: ['click', ['$event']]\n    }],\n    // todo: consider preventing default and stopping propagation\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n      type: HostListener,\n      args: ['keydown.esc', ['$event']]\n    }]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nclass BsModalService {\n  /**\n   * @param {?} rendererFactory\n   * @param {?} clf\n   */\n  constructor(rendererFactory, clf) {\n    this.clf = clf; // constructor props\n\n    this.config = modalConfigDefaults; // tslint:disable-next-line:no-any\n\n    this.onShow = new EventEmitter(); // tslint:disable-next-line:no-any\n\n    this.onShown = new EventEmitter(); // tslint:disable-next-line:no-any\n\n    this.onHide = new EventEmitter(); // tslint:disable-next-line:no-any\n\n    this.onHidden = new EventEmitter();\n    this.isBodyOverflowing = false;\n    this.originalBodyPadding = 0;\n    this.scrollbarWidth = 0;\n    this.modalsCount = 0;\n    this.lastDismissReason = '';\n    this.loaders = [];\n    this._backdropLoader = this.clf.createLoader(null, null, null);\n    this._renderer = rendererFactory.createRenderer(null, null);\n  }\n  /**\n   * Shows a modal\n   * @param {?} content\n   * @param {?=} config\n   * @return {?}\n   */\n  // tslint:disable-next-line:no-any\n\n\n  show(content, config) {\n    this.modalsCount++;\n\n    this._createLoaders();\n\n    this.config = Object.assign({}, modalConfigDefaults, config);\n\n    this._showBackdrop();\n\n    this.lastDismissReason = null;\n    return this._showModal(content);\n  }\n  /**\n   * @param {?} level\n   * @return {?}\n   */\n\n\n  hide(level) {\n    if (this.modalsCount === 1) {\n      this._hideBackdrop();\n\n      this.resetScrollbar();\n    }\n\n    this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      this._hideModal(level);\n\n      this.removeLoaders(level);\n    }, this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _showBackdrop() {\n    /** @type {?} */\n    const isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n    /** @type {?} */\n\n    const isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n\n    if (this.modalsCount === 1) {\n      this.removeBackdrop();\n\n      if (isBackdropEnabled && isBackdropInDOM) {\n        this._backdropLoader.attach(ModalBackdropComponent).to('body').show({\n          isAnimated: this.config.animated\n        });\n\n        this.backdropRef = this._backdropLoader._componentRef;\n      }\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _hideBackdrop() {\n    if (!this.backdropRef) {\n      return;\n    }\n\n    this.backdropRef.instance.isShown = false;\n    /** @type {?} */\n\n    const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => this.removeBackdrop(), duration);\n  } // tslint:disable-next-line:no-any\n\n  /**\n   * @param {?} content\n   * @return {?}\n   */\n\n\n  _showModal(content) {\n    /** @type {?} */\n    const modalLoader = this.loaders[this.loaders.length - 1];\n    /** @type {?} */\n\n    const bsModalRef = new BsModalRef();\n    /** @type {?} */\n\n    const modalContainerRef = modalLoader.provide({\n      provide: ModalOptions,\n      useValue: this.config\n    }).provide({\n      provide: BsModalRef,\n      useValue: bsModalRef\n    }).attach(ModalContainerComponent).to('body').show({\n      content,\n      isAnimated: this.config.animated,\n      initialState: this.config.initialState,\n      bsModalService: this\n    });\n    modalContainerRef.instance.level = this.getModalsCount();\n\n    bsModalRef.hide =\n    /**\n    * @return {?}\n    */\n    () => {\n      modalContainerRef.instance.hide();\n    };\n\n    bsModalRef.content = modalLoader.getInnerComponent() || null;\n\n    bsModalRef.setClass =\n    /**\n    * @param {?} newClass\n    * @return {?}\n    */\n    newClass => {\n      modalContainerRef.instance.config.class = newClass;\n    };\n\n    return bsModalRef;\n  }\n  /**\n   * @param {?} level\n   * @return {?}\n   */\n\n\n  _hideModal(level) {\n    /** @type {?} */\n    const modalLoader = this.loaders[level - 1];\n\n    if (modalLoader) {\n      modalLoader.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  getModalsCount() {\n    return this.modalsCount;\n  }\n  /**\n   * @param {?} reason\n   * @return {?}\n   */\n\n\n  setDismissReason(reason) {\n    this.lastDismissReason = reason;\n  }\n  /**\n   * @return {?}\n   */\n\n\n  removeBackdrop() {\n    this._backdropLoader.hide();\n\n    this.backdropRef = null;\n  }\n  /** AFTER PR MERGE MODAL.COMPONENT WILL BE USING THIS CODE */\n\n  /** Scroll bar tricks */\n\n  /**\n   * \\@internal\n   * @return {?}\n   */\n\n\n  checkScrollbar() {\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n    this.scrollbarWidth = this.getScrollbarWidth();\n  }\n  /**\n   * @return {?}\n   */\n\n\n  setScrollbar() {\n    if (!document) {\n      return;\n    }\n\n    this.originalBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right') || '0', 10);\n\n    if (this.isBodyOverflowing) {\n      document.body.style.paddingRight = `${this.originalBodyPadding + this.scrollbarWidth}px`;\n    }\n  }\n  /**\n   * @private\n   * @return {?}\n   */\n\n\n  resetScrollbar() {\n    document.body.style.paddingRight = `${this.originalBodyPadding}px`;\n  } // thx d.walsh\n\n  /**\n   * @private\n   * @return {?}\n   */\n\n\n  getScrollbarWidth() {\n    /** @type {?} */\n    const scrollDiv = this._renderer.createElement('div');\n\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n\n    this._renderer.appendChild(document.body, scrollDiv);\n    /** @type {?} */\n\n\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n    this._renderer.removeChild(document.body, scrollDiv);\n\n    return scrollbarWidth;\n  }\n  /**\n   * @private\n   * @return {?}\n   */\n\n\n  _createLoaders() {\n    /** @type {?} */\n    const loader = this.clf.createLoader(null, null, null);\n    this.copyEvent(loader.onBeforeShow, this.onShow);\n    this.copyEvent(loader.onShown, this.onShown);\n    this.copyEvent(loader.onBeforeHide, this.onHide);\n    this.copyEvent(loader.onHidden, this.onHidden);\n    this.loaders.push(loader);\n  }\n  /**\n   * @private\n   * @param {?} level\n   * @return {?}\n   */\n\n\n  removeLoaders(level) {\n    this.loaders.splice(level - 1, 1);\n    this.loaders.forEach(\n    /**\n    * @param {?} loader\n    * @param {?} i\n    * @return {?}\n    */\n    (loader, i) => {\n      loader.instance.level = i + 1;\n    });\n  } // tslint:disable-next-line:no-any\n\n  /**\n   * @private\n   * @param {?} from\n   * @param {?} to\n   * @return {?}\n   */\n\n\n  copyEvent(from, to) {\n    from.subscribe(\n    /**\n    * @return {?}\n    */\n    () => {\n      to.emit(this.lastDismissReason);\n    });\n  }\n\n}\n\nBsModalService.ɵfac = function BsModalService_Factory(t) {\n  return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory));\n};\n\nBsModalService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalService,\n  factory: BsModalService.ɵfac\n});\n/** @nocollapse */\n\nBsModalService.ctorParameters = () => [{\n  type: RendererFactory2\n}, {\n  type: ComponentLoaderFactory\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc0.RendererFactory2\n    }, {\n      type: ɵngcc1.ComponentLoaderFactory\n    }];\n  }, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nclass ModalModule {\n  /**\n   * @return {?}\n   */\n  static forRoot() {\n    return {\n      ngModule: ModalModule,\n      providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n    };\n  }\n\n}\n\nModalModule.ɵfac = function ModalModule_Factory(t) {\n  return new (t || ModalModule)();\n};\n\nModalModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: ModalModule\n});\nModalModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent],\n      exports: [ModalBackdropComponent, ModalDirective],\n      entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, {\n    declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent],\n    exports: [ModalBackdropComponent, ModalDirective]\n  });\n})();\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa };","map":{"version":3,"names":["Injectable","Component","ElementRef","Renderer2","HostListener","EventEmitter","Directive","ViewContainerRef","Input","Output","RendererFactory2","NgModule","isBs3","Utils","document","document$1","window","window$1","ComponentLoaderFactory","PositioningService","ɵngcc0","ɵngcc1","_c0","BsModalRef","constructor","hide","Function","setClass","ɵfac","BsModalRef_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","ngDevMode","ɵsetClassMetadata","type","ModalBackdropOptions","options","animate","Object","assign","ModalOptions","ModalOptions_Factory","modalConfigDefaults","backdrop","keyboard","focus","show","ignoreBackdropClick","class","animated","initialState","CLASS_NAME","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","IN","SHOW","TRANSITION_DURATIONS","MODAL","DISMISS_REASONS","BACKRDOP","ESC","ModalContainerComponent","_element","_renderer","isShown","isModalHiding","config","ngOnInit","isAnimated","addClass","nativeElement","setStyle","setTimeout","body","bsModalService","getModalsCount","checkScrollbar","setScrollbar","onClick","event","target","setDismissReason","onEsc","keyCode","key","preventDefault","level","ngOnDestroy","removeClass","ModalContainerComponent_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","hostAttrs","hostVars","hostBindings","ModalContainerComponent_HostBindings","rf","ctx","ɵɵlistener","ModalContainerComponent_click_HostBindingHandler","$event","ModalContainerComponent_keydown_esc_HostBindingHandler","ɵɵresolveWindow","ɵɵattribute","ngContentSelectors","decls","vars","consts","template","ModalContainerComponent_Template","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵclassMap","encapsulation","ctorParameters","propDecorators","args","selector","host","role","tabindex","ModalBackdropComponent","element","renderer","_isShown","_isAnimated","value","reflow","ModalBackdropComponent_Factory","ModalBackdropComponent_Template","TRANSITION_DURATION","BACKDROP_TRANSITION_DURATION","ModalDirective","_viewContainerRef","clf","onShow","onShown","onHide","onHidden","isBodyOverflowing","originalBodyPadding","scrollbarWidth","timerHideModal","timerRmBackDrop","isNested","_backdrop","createLoader","conf","_config","getConfig","dismissReason","hideModal","dispose","toggle","emit","clearTimeout","classList","contains","showBackdrop","showElement","parentNode","nodeType","Node","ELEMENT_NODE","appendChild","setAttribute","setProperty","transitionComplete","resetScrollbar","resetAdjustments","focusOtherModal","callback","instance","removeBackdrop","attach","to","_componentRef","callbackRemove","parentElement","otherOpenedModals","querySelectorAll","length","clientWidth","innerWidth","getScrollbarWidth","parseInt","getComputedStyle","getPropertyValue","style","paddingRight","scrollDiv","createElement","offsetWidth","removeChild","ModalDirective_Factory","ɵdir","ɵɵdefineDirective","ModalDirective_HostBindings","ModalDirective_click_HostBindingHandler","ModalDirective_keydown_esc_HostBindingHandler","inputs","outputs","exportAs","BsModalService","rendererFactory","modalsCount","lastDismissReason","loaders","_backdropLoader","createRenderer","content","_createLoaders","_showBackdrop","_showModal","_hideBackdrop","_hideModal","removeLoaders","isBackdropEnabled","isBackdropInDOM","backdropRef","duration","modalLoader","bsModalRef","modalContainerRef","provide","useValue","getInnerComponent","newClass","reason","loader","copyEvent","onBeforeShow","onBeforeHide","push","splice","forEach","i","from","subscribe","BsModalService_Factory","ɵɵinject","ModalModule","forRoot","ngModule","providers","ModalModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","declarations","exports","entryComponents","ngJitMode","ɵɵsetNgModuleScope","ɵa"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/ngx-bootstrap/__ivy_ngcc__/modal/fesm2015/ngx-bootstrap-modal.js"],"sourcesContent":["import { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\n\nconst _c0 = [\"*\"];\nclass BsModalRef {\n    constructor() {\n        /**\n         * Hides the modal\n         */\n        this.hide = Function;\n        /**\n         * Sets new class to modal window\n         */\n        this.setClass = Function;\n    }\n}\nBsModalRef.ɵfac = function BsModalRef_Factory(t) { return new (t || BsModalRef)(); };\nBsModalRef.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalRef, factory: BsModalRef.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalBackdropOptions {\n    /**\n     * @param {?} options\n     */\n    constructor(options) {\n        this.animate = true;\n        Object.assign(this, options);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalOptions {\n}\nModalOptions.ɵfac = function ModalOptions_Factory(t) { return new (t || ModalOptions)(); };\nModalOptions.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ModalOptions, factory: ModalOptions.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n        type: Injectable\n    }], null, null); })();\n/** @type {?} */\nconst modalConfigDefaults = {\n    backdrop: true,\n    keyboard: true,\n    focus: true,\n    show: false,\n    ignoreBackdropClick: false,\n    class: '',\n    animated: true,\n    initialState: {}\n};\n/** @type {?} */\nconst CLASS_NAME = {\n    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n    BACKDROP: 'modal-backdrop',\n    OPEN: 'modal-open',\n    FADE: 'fade',\n    IN: 'in',\n    // bs3\n    SHOW: 'show' // bs4\n};\n/** @type {?} */\nconst TRANSITION_DURATIONS = {\n    MODAL: 300,\n    BACKDROP: 150\n};\n/** @type {?} */\nconst DISMISS_REASONS = {\n    BACKRDOP: 'backdrop-click',\n    ESC: 'esc'\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalContainerComponent {\n    /**\n     * @param {?} options\n     * @param {?} _element\n     * @param {?} _renderer\n     */\n    constructor(options, _element, _renderer) {\n        this._element = _element;\n        this._renderer = _renderer;\n        this.isShown = false;\n        this.isModalHiding = false;\n        this.config = Object.assign({}, options);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n        }\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = true;\n            this._renderer.addClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        }), this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n        if (document && document.body) {\n            if (this.bsModalService.getModalsCount() === 1) {\n                this.bsModalService.checkScrollbar();\n                this.bsModalService.setScrollbar();\n            }\n            this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n        }\n        if (this._element.nativeElement) {\n            this._element.nativeElement.focus();\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClick(event) {\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            event.target !== this._element.nativeElement) {\n            return;\n        }\n        this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n        this.hide();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this.isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard &&\n            this.level === this.bsModalService.getModalsCount()) {\n            this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.isShown) {\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    hide() {\n        if (this.isModalHiding || !this.isShown) {\n            return;\n        }\n        this.isModalHiding = true;\n        this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = false;\n            if (document &&\n                document.body &&\n                this.bsModalService.getModalsCount() === 1) {\n                this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n            }\n            this.bsModalService.hide(this.level);\n            this.isModalHiding = false;\n        }), this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n    }\n}\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) { return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalContainerComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ModalContainerComponent, selectors: [[\"modal-container\"]], hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"], hostVars: 1, hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function ModalContainerComponent_click_HostBindingHandler($event) { return ctx.onClick($event); })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-modal\", true);\n    } }, ngContentSelectors: _c0, decls: 3, vars: 2, consts: [[\"role\", \"document\"], [1, \"modal-content\"]], template: function ModalContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd()();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    } }, encapsulation: 2 });\n/** @nocollapse */\nModalContainerComponent.ctorParameters = () => [\n    { type: ModalOptions },\n    { type: ElementRef },\n    { type: Renderer2 }\n];\nModalContainerComponent.propDecorators = {\n    onClick: [{ type: HostListener, args: ['click', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['window:keydown.esc', ['$event'],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'modal-container',\n                template: `\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n                host: {\n                    class: 'modal',\n                    role: 'dialog',\n                    tabindex: '-1',\n                    '[attr.aria-modal]': 'true'\n                }\n            }]\n    }], function () { return [{ type: ModalOptions }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, { \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClick: [{\n            type: HostListener,\n            args: ['click', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n            type: HostListener,\n            args: ['window:keydown.esc', ['$event']]\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This component will be added as background layout for modals if enabled\n */\nclass ModalBackdropComponent {\n    /**\n     * @param {?} element\n     * @param {?} renderer\n     */\n    constructor(element, renderer) {\n        this._isShown = false;\n        this.element = element;\n        this.renderer = renderer;\n    }\n    /**\n     * @return {?}\n     */\n    get isAnimated() {\n        return this._isAnimated;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isAnimated(value) {\n        this._isAnimated = value;\n        // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isShown(value) {\n        this._isShown = value;\n        if (value) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        else {\n            this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        if (!isBs3()) {\n            if (value) {\n                this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n            else {\n                this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.FADE}`);\n            Utils.reflow(this.element.nativeElement);\n        }\n        this.isShown = true;\n    }\n}\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) { return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalBackdropComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ModalBackdropComponent, selectors: [[\"bs-modal-backdrop\"]], hostAttrs: [1, \"modal-backdrop\"], decls: 0, vars: 0, template: function ModalBackdropComponent_Template(rf, ctx) { }, encapsulation: 2 });\n/** @nocollapse */\nModalBackdropComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-backdrop',\n                template: ' ',\n                host: { class: CLASS_NAME.BACKDROP }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst TRANSITION_DURATION = 300;\n/** @type {?} */\nconst BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\nclass ModalDirective {\n    /**\n     * @param {?} _element\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} clf\n     */\n    constructor(_element, _viewContainerRef, _renderer, clf) {\n        this._element = _element;\n        this._renderer = _renderer;\n        /**\n         * This event fires immediately when the `show` instance method is called.\n         */\n        this.onShow = new EventEmitter();\n        /**\n         * This event is fired when the modal has been made visible to the user\n         * (will wait for CSS transitions to complete)\n         */\n        this.onShown = new EventEmitter();\n        /**\n         * This event is fired immediately when\n         * the hide instance method has been called.\n         */\n        this.onHide = new EventEmitter();\n        /**\n         * This event is fired when the modal has finished being\n         * hidden from the user (will wait for CSS transitions to complete).\n         */\n        this.onHidden = new EventEmitter();\n        this._isShown = false;\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.timerHideModal = 0;\n        this.timerRmBackDrop = 0;\n        this.isNested = false;\n        this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n    }\n    /**\n     * allows to set modal configuration via element property\n     * @param {?} conf\n     * @return {?}\n     */\n    set config(conf) {\n        this._config = this.getConfig(conf);\n    }\n    /**\n     * @return {?}\n     */\n    get config() {\n        return this._config;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClick(event) {\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            event.target !== this._element.nativeElement) {\n            return;\n        }\n        this.dismissReason = DISMISS_REASONS.BACKRDOP;\n        this.hide(event);\n    }\n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this._isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard) {\n            this.dismissReason = DISMISS_REASONS.ESC;\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.config = void 0;\n        if (this._isShown) {\n            this._isShown = false;\n            this.hideModal();\n            this._backdrop.dispose();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this._config = this._config || this.getConfig();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.show) {\n                this.show();\n            }\n        }), 0);\n    }\n    /* Public methods */\n    /**\n     * Allows to manually toggle modal visibility\n     * @return {?}\n     */\n    toggle() {\n        return this._isShown ? this.hide() : this.show();\n    }\n    /**\n     * Allows to manually open modal\n     * @return {?}\n     */\n    show() {\n        this.dismissReason = null;\n        this.onShow.emit(this);\n        if (this._isShown) {\n            return;\n        }\n        clearTimeout(this.timerHideModal);\n        clearTimeout(this.timerRmBackDrop);\n        this._isShown = true;\n        this.checkScrollbar();\n        this.setScrollbar();\n        if (document$1 && document$1.body) {\n            if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n                this.isNested = true;\n            }\n            else {\n                this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n            }\n        }\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            this.showElement();\n        }));\n    }\n    /**\n     * Allows to manually close modal\n     * @param {?=} event\n     * @return {?}\n     */\n    hide(event) {\n        if (event) {\n            event.preventDefault();\n        }\n        this.onHide.emit(this);\n        // todo: add an option to prevent hiding\n        if (!this._isShown) {\n            return;\n        }\n        window$1.clearTimeout(this.timerHideModal);\n        window$1.clearTimeout(this.timerRmBackDrop);\n        this._isShown = false;\n        this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        // this._addClassIn = false;\n        if (this._config.animated) {\n            this.timerHideModal = window$1.setTimeout((/**\n             * @return {?}\n             */\n            () => this.hideModal()), TRANSITION_DURATION);\n        }\n        else {\n            this.hideModal();\n        }\n    }\n    /**\n     * Private methods \\@internal\n     * @protected\n     * @param {?=} config\n     * @return {?}\n     */\n    getConfig(config) {\n        return Object.assign({}, modalConfigDefaults, config);\n    }\n    /**\n     *  Show dialog\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    showElement() {\n        // todo: replace this with component loader usage\n        if (!this._element.nativeElement.parentNode ||\n            this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n            // don't move modals dom position\n            if (document$1 && document$1.body) {\n                document$1.body.appendChild(this._element.nativeElement);\n            }\n        }\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n        if (this._config.animated) {\n            Utils.reflow(this._element.nativeElement);\n        }\n        // this._addClassIn = true;\n        this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        /** @type {?} */\n        const transitionComplete = (/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.focus) {\n                this._element.nativeElement.focus();\n            }\n            this.onShown.emit(this);\n        });\n        if (this._config.animated) {\n            setTimeout(transitionComplete, TRANSITION_DURATION);\n        }\n        else {\n            transitionComplete();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    hideModal() {\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            if (!this.isNested) {\n                if (document$1 && document$1.body) {\n                    this._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n                }\n                this.resetScrollbar();\n            }\n            this.resetAdjustments();\n            this.focusOtherModal();\n            this.onHidden.emit(this);\n        }));\n    }\n    // todo: original show was calling a callback when done, but we can use\n    // promise\n    /**\n     * \\@internal\n     * @protected\n     * @param {?=} callback\n     * @return {?}\n     */\n    showBackdrop(callback) {\n        if (this._isShown &&\n            this.config.backdrop &&\n            (!this.backdrop || !this.backdrop.instance.isShown)) {\n            this.removeBackdrop();\n            this._backdrop\n                .attach(ModalBackdropComponent)\n                .to('body')\n                .show({ isAnimated: this._config.animated });\n            this.backdrop = this._backdrop._componentRef;\n            if (!callback) {\n                return;\n            }\n            if (!this._config.animated) {\n                callback();\n                return;\n            }\n            setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n        }\n        else if (!this._isShown && this.backdrop) {\n            this.backdrop.instance.isShown = false;\n            /** @type {?} */\n            const callbackRemove = (/**\n             * @return {?}\n             */\n            () => {\n                this.removeBackdrop();\n                if (callback) {\n                    callback();\n                }\n            });\n            if (this.backdrop.instance.isAnimated) {\n                this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n            }\n            else {\n                callbackRemove();\n            }\n        }\n        else if (callback) {\n            callback();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdrop.hide();\n    }\n    /**\n     * Events tricks\n     * @protected\n     * @return {?}\n     */\n    // no need for it\n    // protected setEscapeEvent():void {\n    //   if (this._isShown && this._config.keyboard) {\n    //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n    //       if (event.which === 27) {\n    //         this.hide()\n    //       }\n    //     })\n    //\n    //   } else if (!this._isShown) {\n    //     $(this._element).off(Event.KEYDOWN_DISMISS)\n    //   }\n    // }\n    // protected setResizeEvent():void {\n    // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n    // if (this._isShown) {\n    //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n    // } else {\n    //   $(window).off(Event.RESIZE)\n    // }\n    // }\n    focusOtherModal() {\n        if (this._element.nativeElement.parentElement == null) {\n            return;\n        }\n        /** @type {?} */\n        const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n        if (!otherOpenedModals.length) {\n            return;\n        }\n        otherOpenedModals[otherOpenedModals.length - 1].focus();\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    resetAdjustments() {\n        this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n        this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n    }\n    /** Scroll bar tricks */\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document$1) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window$1\n            .getComputedStyle(document$1.body)\n            .getPropertyValue('padding-right') || 0, 10);\n        if (this.isBodyOverflowing) {\n            document$1.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    resetScrollbar() {\n        document$1.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @protected\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document$1.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document$1.body, scrollDiv);\n        return scrollbarWidth;\n    }\n}\nModalDirective.ɵfac = function ModalDirective_Factory(t) { return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory)); };\nModalDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: ModalDirective, selectors: [[\"\", \"bsModal\", \"\"]], hostBindings: function ModalDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function ModalDirective_click_HostBindingHandler($event) { return ctx.onClick($event); })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); });\n    } }, inputs: { config: \"config\" }, outputs: { onShow: \"onShow\", onShown: \"onShown\", onHide: \"onHide\", onHidden: \"onHidden\" }, exportAs: [\"bs-modal\"] });\n/** @nocollapse */\nModalDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: Renderer2 },\n    { type: ComponentLoaderFactory }\n];\nModalDirective.propDecorators = {\n    config: [{ type: Input }],\n    onShow: [{ type: Output }],\n    onShown: [{ type: Output }],\n    onHide: [{ type: Output }],\n    onHidden: [{ type: Output }],\n    onClick: [{ type: HostListener, args: ['click', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['keydown.esc', ['$event'],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsModal]',\n                exportAs: 'bs-modal'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, { onShow: [{\n            type: Output\n        }], onShown: [{\n            type: Output\n        }], onHide: [{\n            type: Output\n        }], onHidden: [{\n            type: Output\n        }], config: [{\n            type: Input\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClick: [{\n            type: HostListener,\n            args: ['click', ['$event']]\n        }], \n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n            type: HostListener,\n            args: ['keydown.esc', ['$event']]\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsModalService {\n    /**\n     * @param {?} rendererFactory\n     * @param {?} clf\n     */\n    constructor(rendererFactory, clf) {\n        this.clf = clf;\n        // constructor props\n        this.config = modalConfigDefaults;\n        // tslint:disable-next-line:no-any\n        this.onShow = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onShown = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHide = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHidden = new EventEmitter();\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.modalsCount = 0;\n        this.lastDismissReason = '';\n        this.loaders = [];\n        this._backdropLoader = this.clf.createLoader(null, null, null);\n        this._renderer = rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * Shows a modal\n     * @param {?} content\n     * @param {?=} config\n     * @return {?}\n     */\n    // tslint:disable-next-line:no-any\n    show(content, config) {\n        this.modalsCount++;\n        this._createLoaders();\n        this.config = Object.assign({}, modalConfigDefaults, config);\n        this._showBackdrop();\n        this.lastDismissReason = null;\n        return this._showModal(content);\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    hide(level) {\n        if (this.modalsCount === 1) {\n            this._hideBackdrop();\n            this.resetScrollbar();\n        }\n        this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this._hideModal(level);\n            this.removeLoaders(level);\n        }), this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n    }\n    /**\n     * @return {?}\n     */\n    _showBackdrop() {\n        /** @type {?} */\n        const isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n        /** @type {?} */\n        const isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n        if (this.modalsCount === 1) {\n            this.removeBackdrop();\n            if (isBackdropEnabled && isBackdropInDOM) {\n                this._backdropLoader\n                    .attach(ModalBackdropComponent)\n                    .to('body')\n                    .show({ isAnimated: this.config.animated });\n                this.backdropRef = this._backdropLoader._componentRef;\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _hideBackdrop() {\n        if (!this.backdropRef) {\n            return;\n        }\n        this.backdropRef.instance.isShown = false;\n        /** @type {?} */\n        const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => this.removeBackdrop()), duration);\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @param {?} content\n     * @return {?}\n     */\n    _showModal(content) {\n        /** @type {?} */\n        const modalLoader = this.loaders[this.loaders.length - 1];\n        /** @type {?} */\n        const bsModalRef = new BsModalRef();\n        /** @type {?} */\n        const modalContainerRef = modalLoader\n            .provide({ provide: ModalOptions, useValue: this.config })\n            .provide({ provide: BsModalRef, useValue: bsModalRef })\n            .attach(ModalContainerComponent)\n            .to('body')\n            .show({ content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this });\n        modalContainerRef.instance.level = this.getModalsCount();\n        bsModalRef.hide = (/**\n         * @return {?}\n         */\n        () => {\n            modalContainerRef.instance.hide();\n        });\n        bsModalRef.content = modalLoader.getInnerComponent() || null;\n        bsModalRef.setClass = (/**\n         * @param {?} newClass\n         * @return {?}\n         */\n        (newClass) => {\n            modalContainerRef.instance.config.class = newClass;\n        });\n        return bsModalRef;\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    _hideModal(level) {\n        /** @type {?} */\n        const modalLoader = this.loaders[level - 1];\n        if (modalLoader) {\n            modalLoader.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getModalsCount() {\n        return this.modalsCount;\n    }\n    /**\n     * @param {?} reason\n     * @return {?}\n     */\n    setDismissReason(reason) {\n        this.lastDismissReason = reason;\n    }\n    /**\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdropLoader.hide();\n        this.backdropRef = null;\n    }\n    /** AFTER PR MERGE MODAL.COMPONENT WILL BE USING THIS CODE */\n    /** Scroll bar tricks */\n    /**\n     * \\@internal\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window\n            .getComputedStyle(document.body)\n            .getPropertyValue('padding-right') || '0', 10);\n        if (this.isBodyOverflowing) {\n            document.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resetScrollbar() {\n        document.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document.body, scrollDiv);\n        return scrollbarWidth;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _createLoaders() {\n        /** @type {?} */\n        const loader = this.clf.createLoader(null, null, null);\n        this.copyEvent(loader.onBeforeShow, this.onShow);\n        this.copyEvent(loader.onShown, this.onShown);\n        this.copyEvent(loader.onBeforeHide, this.onHide);\n        this.copyEvent(loader.onHidden, this.onHidden);\n        this.loaders.push(loader);\n    }\n    /**\n     * @private\n     * @param {?} level\n     * @return {?}\n     */\n    removeLoaders(level) {\n        this.loaders.splice(level - 1, 1);\n        this.loaders.forEach((/**\n         * @param {?} loader\n         * @param {?} i\n         * @return {?}\n         */\n        (loader, i) => {\n            loader.instance.level = i + 1;\n        }));\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @private\n     * @param {?} from\n     * @param {?} to\n     * @return {?}\n     */\n    copyEvent(from, to) {\n        from.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            to.emit(this.lastDismissReason);\n        }));\n    }\n}\nBsModalService.ɵfac = function BsModalService_Factory(t) { return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory)); };\nBsModalService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalService, factory: BsModalService.ɵfac });\n/** @nocollapse */\nBsModalService.ctorParameters = () => [\n    { type: RendererFactory2 },\n    { type: ComponentLoaderFactory }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.RendererFactory2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n}\nModalModule.ɵfac = function ModalModule_Factory(t) { return new (t || ModalModule)(); };\nModalModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: ModalModule });\nModalModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    ModalBackdropComponent,\n                    ModalDirective,\n                    ModalContainerComponent\n                ],\n                exports: [ModalBackdropComponent, ModalDirective],\n                entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, { declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent], exports: [ModalBackdropComponent, ModalDirective] }); })();\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}