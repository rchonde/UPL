{"ast":null,"code":"/**\r\n * Pie tick module.\r\n */\nimport { __extends } from \"tslib\";\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\n\nimport { Tick } from \"../elements/Tick\";\nimport { MutableValueDisposer, MultiDisposer } from \"../../core/utils/Disposer\";\nimport { registry } from \"../../core/Registry\";\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\n\n/**\r\n * Draws an tick line for a pie slice connecting it to a related label.\r\n *\r\n * @see {@link IPieTickEvents} for a list of available events\r\n * @see {@link IPieTickAdapters} for a list of available Adapters\r\n */\n\nvar PieTick =\n/** @class */\nfunction (_super) {\n  __extends(PieTick, _super);\n  /**\r\n   * Constructor\r\n   */\n\n\n  function PieTick() {\n    var _this = _super.call(this) || this;\n    /**\r\n     * A label element this tick is attached to.\r\n     */\n\n\n    _this._label = new MutableValueDisposer();\n    /**\r\n     * A slice element this tick is attached to.\r\n     */\n\n    _this._slice = new MutableValueDisposer();\n    _this.className = \"PieTick\";\n    _this.element = _this.paper.add(\"polyline\");\n\n    _this._disposers.push(_this._label);\n\n    _this._disposers.push(_this._slice);\n\n    _this.applyTheme();\n\n    return _this;\n  }\n  /**\r\n   * Draws the tick element.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n\n\n  PieTick.prototype.draw = function () {\n    _super.prototype.draw.call(this);\n\n    var slice = this.slice;\n    var label = this.label;\n    var series = slice.dataItem.component;\n\n    if (slice && slice.radius > 0 && label && label.text) {\n      var x0 = slice.dx + slice.slice.dx + slice.pixelX + slice.ix * slice.radius * slice.scale;\n      var y0 = slice.dy + slice.slice.dy + slice.pixelY + slice.iy * slice.radiusY * slice.scale;\n      var x1 = void 0;\n      var y1 = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n\n      if (series.alignLabels) {\n        x1 = label.pixelX - this.length;\n        y1 = label.pixelY;\n        x2 = label.pixelX;\n        y2 = y1;\n\n        if (label.horizontalCenter == \"right\") {\n          x1 += 2 * this.length;\n          x2 = x1 - this.length;\n        }\n      } else {\n        var r = label.pixelRadius(slice.radius);\n        x1 = x0 + r * slice.ix;\n        y1 = y0 + r * slice.iy;\n        x2 = x1;\n        y2 = y1;\n      }\n\n      this.element.attr({\n        \"points\": [x0, y0, x1, y1, x2, y2]\n      });\n    }\n  };\n\n  Object.defineProperty(PieTick.prototype, \"slice\", {\n    /**\r\n     * @return Slice\r\n     */\n    get: function () {\n      return this._slice.get();\n    },\n\n    /**\r\n     * Slice element tick is attached to.\r\n     *\r\n     * @param slice  Slice\r\n     */\n    set: function (slice) {\n      this._slice.set(slice, new MultiDisposer([slice.events.on(\"transformed\", this.invalidate, this), slice.events.on(\"validated\", this.invalidate, this)]));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PieTick.prototype, \"label\", {\n    /**\r\n     * @return Label\r\n     */\n    get: function () {\n      return this._label.get();\n    },\n\n    /**\r\n     * Label element tick is attached to.\r\n     *\r\n     * @param label  Label\r\n     */\n    set: function (label) {\n      this._label.set(label, label.events.on(\"transformed\", this.invalidate, this, false));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return PieTick;\n}(Tick);\n\nexport { PieTick };\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\n\nregistry.registeredClasses[\"PieTick\"] = PieTick;","map":{"version":3,"names":["__extends","Tick","MutableValueDisposer","MultiDisposer","registry","PieTick","_super","_this","call","_label","_slice","className","element","paper","add","_disposers","push","applyTheme","prototype","draw","slice","label","series","dataItem","component","radius","text","x0","dx","pixelX","ix","scale","y0","dy","pixelY","iy","radiusY","x1","y1","x2","y2","alignLabels","length","horizontalCenter","r","pixelRadius","attr","Object","defineProperty","get","set","events","on","invalidate","enumerable","configurable","registeredClasses"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/@amcharts/amcharts4/.internal/charts/elements/PieTick.js"],"sourcesContent":["/**\r\n * Pie tick module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Tick } from \"../elements/Tick\";\r\nimport { MutableValueDisposer, MultiDisposer } from \"../../core/utils/Disposer\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws an tick line for a pie slice connecting it to a related label.\r\n *\r\n * @see {@link IPieTickEvents} for a list of available events\r\n * @see {@link IPieTickAdapters} for a list of available Adapters\r\n */\r\nvar PieTick = /** @class */ (function (_super) {\r\n    __extends(PieTick, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieTick() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A label element this tick is attached to.\r\n         */\r\n        _this._label = new MutableValueDisposer();\r\n        /**\r\n         * A slice element this tick is attached to.\r\n         */\r\n        _this._slice = new MutableValueDisposer();\r\n        _this.className = \"PieTick\";\r\n        _this.element = _this.paper.add(\"polyline\");\r\n        _this._disposers.push(_this._label);\r\n        _this._disposers.push(_this._slice);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the tick element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PieTick.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var slice = this.slice;\r\n        var label = this.label;\r\n        var series = slice.dataItem.component;\r\n        if (slice && slice.radius > 0 && label && label.text) {\r\n            var x0 = slice.dx + slice.slice.dx + slice.pixelX + slice.ix * slice.radius * slice.scale;\r\n            var y0 = slice.dy + slice.slice.dy + slice.pixelY + slice.iy * slice.radiusY * slice.scale;\r\n            var x1 = void 0;\r\n            var y1 = void 0;\r\n            var x2 = void 0;\r\n            var y2 = void 0;\r\n            if (series.alignLabels) {\r\n                x1 = label.pixelX - this.length;\r\n                y1 = label.pixelY;\r\n                x2 = label.pixelX;\r\n                y2 = y1;\r\n                if (label.horizontalCenter == \"right\") {\r\n                    x1 += 2 * this.length;\r\n                    x2 = x1 - this.length;\r\n                }\r\n            }\r\n            else {\r\n                var r = label.pixelRadius(slice.radius);\r\n                x1 = x0 + r * slice.ix;\r\n                y1 = y0 + r * slice.iy;\r\n                x2 = x1;\r\n                y2 = y1;\r\n            }\r\n            this.element.attr({ \"points\": [x0, y0, x1, y1, x2, y2] });\r\n        }\r\n    };\r\n    Object.defineProperty(PieTick.prototype, \"slice\", {\r\n        /**\r\n         * @return Slice\r\n         */\r\n        get: function () {\r\n            return this._slice.get();\r\n        },\r\n        /**\r\n         * Slice element tick is attached to.\r\n         *\r\n         * @param slice  Slice\r\n         */\r\n        set: function (slice) {\r\n            this._slice.set(slice, new MultiDisposer([\r\n                slice.events.on(\"transformed\", this.invalidate, this),\r\n                slice.events.on(\"validated\", this.invalidate, this)\r\n            ]));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieTick.prototype, \"label\", {\r\n        /**\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label.get();\r\n        },\r\n        /**\r\n         * Label element tick is attached to.\r\n         *\r\n         * @param label  Label\r\n         */\r\n        set: function (label) {\r\n            this._label.set(label, label.events.on(\"transformed\", this.invalidate, this, false));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PieTick;\r\n}(Tick));\r\nexport { PieTick };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PieTick\"] = PieTick;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}