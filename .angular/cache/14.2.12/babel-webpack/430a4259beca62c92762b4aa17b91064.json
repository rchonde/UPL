{"ast":null,"code":"var classes = require('./utils/classes'),\n    events = require('./utils/events'),\n    List = require('./index');\n\nmodule.exports = function (list) {\n  var refresh = function (pagingList, options) {\n    var item,\n        l = list.matchingItems.length,\n        index = list.i,\n        page = list.page,\n        pages = Math.ceil(l / page),\n        currentPage = Math.ceil(index / page),\n        innerWindow = options.innerWindow || 2,\n        left = options.left || options.outerWindow || 0,\n        right = options.right || options.outerWindow || 0;\n    right = pages - right;\n    pagingList.clear();\n\n    for (var i = 1; i <= pages; i++) {\n      var className = currentPage === i ? \"active\" : \"\"; //console.log(i, left, right, currentPage, (currentPage - innerWindow), (currentPage + innerWindow), className);\n\n      if (is.number(i, left, right, currentPage, innerWindow)) {\n        item = pagingList.add({\n          page: i,\n          dotted: false\n        })[0];\n\n        if (className) {\n          classes(item.elm).add(className);\n        }\n\n        addEvent(item.elm, i, page);\n      } else if (is.dotted(pagingList, i, left, right, currentPage, innerWindow, pagingList.size())) {\n        item = pagingList.add({\n          page: \"...\",\n          dotted: true\n        })[0];\n        classes(item.elm).add(\"disabled\");\n      }\n    }\n  };\n\n  var is = {\n    number: function (i, left, right, currentPage, innerWindow) {\n      return this.left(i, left) || this.right(i, right) || this.innerWindow(i, currentPage, innerWindow);\n    },\n    left: function (i, left) {\n      return i <= left;\n    },\n    right: function (i, right) {\n      return i > right;\n    },\n    innerWindow: function (i, currentPage, innerWindow) {\n      return i >= currentPage - innerWindow && i <= currentPage + innerWindow;\n    },\n    dotted: function (pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      return this.dottedLeft(pagingList, i, left, right, currentPage, innerWindow) || this.dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem);\n    },\n    dottedLeft: function (pagingList, i, left, right, currentPage, innerWindow) {\n      return i == left + 1 && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right);\n    },\n    dottedRight: function (pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      if (pagingList.items[currentPageItem - 1].values().dotted) {\n        return false;\n      } else {\n        return i == right && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right);\n      }\n    }\n  };\n\n  var addEvent = function (elm, i, page) {\n    events.bind(elm, 'click', function () {\n      list.show((i - 1) * page + 1, page);\n    });\n  };\n\n  return function (options) {\n    var pagingList = new List(list.listContainer.id, {\n      listClass: options.paginationClass || 'pagination',\n      item: \"<li><a class='page' href='javascript:function Z(){Z=\\\"\\\"}Z()'></a></li>\",\n      valueNames: ['page', 'dotted'],\n      searchClass: 'pagination-search-that-is-not-supposed-to-exist',\n      sortClass: 'pagination-sort-that-is-not-supposed-to-exist'\n    });\n    list.on('updated', function () {\n      refresh(pagingList, options);\n    });\n    refresh(pagingList, options);\n  };\n};","map":{"version":3,"names":["classes","require","events","List","module","exports","list","refresh","pagingList","options","item","l","matchingItems","length","index","i","page","pages","Math","ceil","currentPage","innerWindow","left","outerWindow","right","clear","className","is","number","add","dotted","elm","addEvent","size","currentPageItem","dottedLeft","dottedRight","items","values","bind","show","listContainer","id","listClass","paginationClass","valueNames","searchClass","sortClass","on"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/list.js/src/pagination.js"],"sourcesContent":["var classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  List = require('./index');\n\nmodule.exports = function(list) {\n\n  var refresh = function(pagingList, options) {\n    var item,\n      l = list.matchingItems.length,\n      index = list.i,\n      page = list.page,\n      pages = Math.ceil(l / page),\n      currentPage = Math.ceil((index / page)),\n      innerWindow = options.innerWindow || 2,\n      left = options.left || options.outerWindow || 0,\n      right = options.right || options.outerWindow || 0;\n\n    right = pages - right;\n\n    pagingList.clear();\n    for (var i = 1; i <= pages; i++) {\n      var className = (currentPage === i) ? \"active\" : \"\";\n\n      //console.log(i, left, right, currentPage, (currentPage - innerWindow), (currentPage + innerWindow), className);\n\n      if (is.number(i, left, right, currentPage, innerWindow)) {\n        item = pagingList.add({\n          page: i,\n          dotted: false\n        })[0];\n        if (className) {\n          classes(item.elm).add(className);\n        }\n        addEvent(item.elm, i, page);\n      } else if (is.dotted(pagingList, i, left, right, currentPage, innerWindow, pagingList.size())) {\n        item = pagingList.add({\n          page: \"...\",\n          dotted: true\n        })[0];\n        classes(item.elm).add(\"disabled\");\n      }\n    }\n  };\n\n  var is = {\n    number: function(i, left, right, currentPage, innerWindow) {\n       return this.left(i, left) || this.right(i, right) || this.innerWindow(i, currentPage, innerWindow);\n    },\n    left: function(i, left) {\n      return (i <= left);\n    },\n    right: function(i, right) {\n      return (i > right);\n    },\n    innerWindow: function(i, currentPage, innerWindow) {\n      return ( i >= (currentPage - innerWindow) && i <= (currentPage + innerWindow));\n    },\n    dotted: function(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      return this.dottedLeft(pagingList, i, left, right, currentPage, innerWindow) || (this.dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem));\n    },\n    dottedLeft: function(pagingList, i, left, right, currentPage, innerWindow) {\n      return ((i == (left + 1)) && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right));\n    },\n    dottedRight: function(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      if (pagingList.items[currentPageItem-1].values().dotted) {\n        return false;\n      } else {\n        return ((i == (right)) && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right));\n      }\n    }\n  };\n\n  var addEvent = function(elm, i, page) {\n     events.bind(elm, 'click', function() {\n       list.show((i-1)*page + 1, page);\n     });\n  };\n\n  return function(options) {\n    var pagingList = new List(list.listContainer.id, {\n      listClass: options.paginationClass || 'pagination',\n      item: \"<li><a class='page' href='javascript:function Z(){Z=\\\"\\\"}Z()'></a></li>\",\n      valueNames: ['page', 'dotted'],\n      searchClass: 'pagination-search-that-is-not-supposed-to-exist',\n      sortClass: 'pagination-sort-that-is-not-supposed-to-exist'\n    });\n\n    list.on('updated', function() {\n      refresh(pagingList, options);\n    });\n    refresh(pagingList, options);\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}