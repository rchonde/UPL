{"ast":null,"code":"import ENGLISH from './i18n';\nimport { RRule } from '../rrule';\nimport { isArray, isNumber, isPresent } from '../helpers'; // =============================================================================\n// Helper functions\n// =============================================================================\n\n/**\n * Return true if a value is in an array\n */\n\nvar contains = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar defaultGetText = function (id) {\n  return id.toString();\n};\n\nvar defaultDateFormatter = function (year, month, day) {\n  return \"\".concat(month, \" \").concat(day, \", \").concat(year);\n};\n/**\n *\n * @param {RRule} rrule\n * Optional:\n * @param {Function} gettext function\n * @param {Object} language definition\n * @constructor\n */\n\n\nvar ToText =\n/** @class */\nfunction () {\n  function ToText(rrule, gettext, language, dateFormatter) {\n    if (gettext === void 0) {\n      gettext = defaultGetText;\n    }\n\n    if (language === void 0) {\n      language = ENGLISH;\n    }\n\n    if (dateFormatter === void 0) {\n      dateFormatter = defaultDateFormatter;\n    }\n\n    this.text = [];\n    this.language = language || ENGLISH;\n    this.gettext = gettext;\n    this.dateFormatter = dateFormatter;\n    this.rrule = rrule;\n    this.options = rrule.options;\n    this.origOptions = rrule.origOptions;\n\n    if (this.origOptions.bymonthday) {\n      var bymonthday = [].concat(this.options.bymonthday);\n      var bynmonthday = [].concat(this.options.bynmonthday);\n      bymonthday.sort(function (a, b) {\n        return a - b;\n      });\n      bynmonthday.sort(function (a, b) {\n        return b - a;\n      }); // 1, 2, 3, .., -5, -4, -3, ..\n\n      this.bymonthday = bymonthday.concat(bynmonthday);\n      if (!this.bymonthday.length) this.bymonthday = null;\n    }\n\n    if (isPresent(this.origOptions.byweekday)) {\n      var byweekday = !isArray(this.origOptions.byweekday) ? [this.origOptions.byweekday] : this.origOptions.byweekday;\n      var days = String(byweekday);\n      this.byweekday = {\n        allWeeks: byweekday.filter(function (weekday) {\n          return !weekday.n;\n        }),\n        someWeeks: byweekday.filter(function (weekday) {\n          return Boolean(weekday.n);\n        }),\n        isWeekdays: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') === -1 && days.indexOf('SU') === -1,\n        isEveryDay: days.indexOf('MO') !== -1 && days.indexOf('TU') !== -1 && days.indexOf('WE') !== -1 && days.indexOf('TH') !== -1 && days.indexOf('FR') !== -1 && days.indexOf('SA') !== -1 && days.indexOf('SU') !== -1\n      };\n\n      var sortWeekDays = function (a, b) {\n        return a.weekday - b.weekday;\n      };\n\n      this.byweekday.allWeeks.sort(sortWeekDays);\n      this.byweekday.someWeeks.sort(sortWeekDays);\n      if (!this.byweekday.allWeeks.length) this.byweekday.allWeeks = null;\n      if (!this.byweekday.someWeeks.length) this.byweekday.someWeeks = null;\n    } else {\n      this.byweekday = null;\n    }\n  }\n  /**\n   * Test whether the rrule can be fully converted to text.\n   *\n   * @param {RRule} rrule\n   * @return {Boolean}\n   */\n\n\n  ToText.isFullyConvertible = function (rrule) {\n    var canConvert = true;\n    if (!(rrule.options.freq in ToText.IMPLEMENTED)) return false;\n    if (rrule.origOptions.until && rrule.origOptions.count) return false;\n\n    for (var key in rrule.origOptions) {\n      if (contains(['dtstart', 'wkst', 'freq'], key)) return true;\n      if (!contains(ToText.IMPLEMENTED[rrule.options.freq], key)) return false;\n    }\n\n    return canConvert;\n  };\n\n  ToText.prototype.isFullyConvertible = function () {\n    return ToText.isFullyConvertible(this.rrule);\n  };\n  /**\n   * Perform the conversion. Only some of the frequencies are supported.\n   * If some of the rrule's options aren't supported, they'll\n   * be omitted from the output an \"(~ approximate)\" will be appended.\n   *\n   * @return {*}\n   */\n\n\n  ToText.prototype.toString = function () {\n    var gettext = this.gettext;\n\n    if (!(this.options.freq in ToText.IMPLEMENTED)) {\n      return gettext('RRule error: Unable to fully convert this rrule to text');\n    }\n\n    this.text = [gettext('every')]; // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n\n    this[RRule.FREQUENCIES[this.options.freq]]();\n\n    if (this.options.until) {\n      this.add(gettext('until'));\n      var until = this.options.until;\n      this.add(this.dateFormatter(until.getUTCFullYear(), this.language.monthNames[until.getUTCMonth()], until.getUTCDate()));\n    } else if (this.options.count) {\n      this.add(gettext('for')).add(this.options.count.toString()).add(this.plural(this.options.count) ? gettext('times') : gettext('time'));\n    }\n\n    if (!this.isFullyConvertible()) this.add(gettext('(~ approximate)'));\n    return this.text.join('');\n  };\n\n  ToText.prototype.HOURLY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('hours') : gettext('hour'));\n  };\n\n  ToText.prototype.MINUTELY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n    this.add(this.plural(this.options.interval) ? gettext('minutes') : gettext('minute'));\n  };\n\n  ToText.prototype.DAILY = function () {\n    var gettext = this.gettext;\n    if (this.options.interval !== 1) this.add(this.options.interval.toString());\n\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n    } else {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    }\n\n    if (this.origOptions.bymonth) {\n      this.add(gettext('in'));\n\n      this._bymonth();\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    } else if (this.origOptions.byhour) {\n      this._byhour();\n    }\n  };\n\n  ToText.prototype.WEEKLY = function () {\n    var gettext = this.gettext;\n\n    if (this.options.interval !== 1) {\n      this.add(this.options.interval.toString()).add(this.plural(this.options.interval) ? gettext('weeks') : gettext('week'));\n    }\n\n    if (this.byweekday && this.byweekday.isWeekdays) {\n      if (this.options.interval === 1) {\n        this.add(this.plural(this.options.interval) ? gettext('weekdays') : gettext('weekday'));\n      } else {\n        this.add(gettext('on')).add(gettext('weekdays'));\n      }\n    } else if (this.byweekday && this.byweekday.isEveryDay) {\n      this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n    } else {\n      if (this.options.interval === 1) this.add(gettext('week'));\n\n      if (this.origOptions.bymonth) {\n        this.add(gettext('in'));\n\n        this._bymonth();\n      }\n\n      if (this.bymonthday) {\n        this._bymonthday();\n      } else if (this.byweekday) {\n        this._byweekday();\n      }\n    }\n  };\n\n  ToText.prototype.MONTHLY = function () {\n    var gettext = this.gettext;\n\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString()).add(gettext('months'));\n        if (this.plural(this.options.interval)) this.add(gettext('in'));\n      } else {// this.add(gettext('MONTH'))\n      }\n\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n      }\n\n      this.add(this.plural(this.options.interval) ? gettext('months') : gettext('month'));\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday && this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(gettext('weekdays'));\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n  };\n\n  ToText.prototype.YEARLY = function () {\n    var gettext = this.gettext;\n\n    if (this.origOptions.bymonth) {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n        this.add(gettext('years'));\n      } else {// this.add(gettext('YEAR'))\n      }\n\n      this._bymonth();\n    } else {\n      if (this.options.interval !== 1) {\n        this.add(this.options.interval.toString());\n      }\n\n      this.add(this.plural(this.options.interval) ? gettext('years') : gettext('year'));\n    }\n\n    if (this.bymonthday) {\n      this._bymonthday();\n    } else if (this.byweekday) {\n      this._byweekday();\n    }\n\n    if (this.options.byyearday) {\n      this.add(gettext('on the')).add(this.list(this.options.byyearday, this.nth, gettext('and'))).add(gettext('day'));\n    }\n\n    if (this.options.byweekno) {\n      this.add(gettext('in')).add(this.plural(this.options.byweekno.length) ? gettext('weeks') : gettext('week')).add(this.list(this.options.byweekno, undefined, gettext('and')));\n    }\n  };\n\n  ToText.prototype._bymonthday = function () {\n    var gettext = this.gettext;\n\n    if (this.byweekday && this.byweekday.allWeeks) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext, gettext('or'))).add(gettext('the')).add(this.list(this.bymonthday, this.nth, gettext('or')));\n    } else {\n      this.add(gettext('on the')).add(this.list(this.bymonthday, this.nth, gettext('and')));\n    } // this.add(gettext('DAY'))\n\n  };\n\n  ToText.prototype._byweekday = function () {\n    var gettext = this.gettext;\n\n    if (this.byweekday.allWeeks && !this.byweekday.isWeekdays) {\n      this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext));\n    }\n\n    if (this.byweekday.someWeeks) {\n      if (this.byweekday.allWeeks) this.add(gettext('and'));\n      this.add(gettext('on the')).add(this.list(this.byweekday.someWeeks, this.weekdaytext, gettext('and')));\n    }\n  };\n\n  ToText.prototype._byhour = function () {\n    var gettext = this.gettext;\n    this.add(gettext('at')).add(this.list(this.origOptions.byhour, undefined, gettext('and')));\n  };\n\n  ToText.prototype._bymonth = function () {\n    this.add(this.list(this.options.bymonth, this.monthtext, this.gettext('and')));\n  };\n\n  ToText.prototype.nth = function (n) {\n    n = parseInt(n.toString(), 10);\n    var nth;\n    var gettext = this.gettext;\n    if (n === -1) return gettext('last');\n    var npos = Math.abs(n);\n\n    switch (npos) {\n      case 1:\n      case 21:\n      case 31:\n        nth = npos + gettext('st');\n        break;\n\n      case 2:\n      case 22:\n        nth = npos + gettext('nd');\n        break;\n\n      case 3:\n      case 23:\n        nth = npos + gettext('rd');\n        break;\n\n      default:\n        nth = npos + gettext('th');\n    }\n\n    return n < 0 ? nth + ' ' + gettext('last') : nth;\n  };\n\n  ToText.prototype.monthtext = function (m) {\n    return this.language.monthNames[m - 1];\n  };\n\n  ToText.prototype.weekdaytext = function (wday) {\n    var weekday = isNumber(wday) ? (wday + 1) % 7 : wday.getJsWeekday();\n    return (wday.n ? this.nth(wday.n) + ' ' : '') + this.language.dayNames[weekday];\n  };\n\n  ToText.prototype.plural = function (n) {\n    return n % 100 !== 1;\n  };\n\n  ToText.prototype.add = function (s) {\n    this.text.push(' ');\n    this.text.push(s);\n    return this;\n  };\n\n  ToText.prototype.list = function (arr, callback, finalDelim, delim) {\n    var _this = this;\n\n    if (delim === void 0) {\n      delim = ',';\n    }\n\n    if (!isArray(arr)) {\n      arr = [arr];\n    }\n\n    var delimJoin = function (array, delimiter, finalDelimiter) {\n      var list = '';\n\n      for (var i = 0; i < array.length; i++) {\n        if (i !== 0) {\n          if (i === array.length - 1) {\n            list += ' ' + finalDelimiter + ' ';\n          } else {\n            list += delimiter + ' ';\n          }\n        }\n\n        list += array[i];\n      }\n\n      return list;\n    };\n\n    callback = callback || function (o) {\n      return o.toString();\n    };\n\n    var realCallback = function (arg) {\n      return callback && callback.call(_this, arg);\n    };\n\n    if (finalDelim) {\n      return delimJoin(arr.map(realCallback), delim, finalDelim);\n    } else {\n      return arr.map(realCallback).join(delim + ' ');\n    }\n  };\n\n  return ToText;\n}();\n\nexport default ToText;","map":{"version":3,"names":["ENGLISH","RRule","isArray","isNumber","isPresent","contains","arr","val","indexOf","defaultGetText","id","toString","defaultDateFormatter","year","month","day","concat","ToText","rrule","gettext","language","dateFormatter","text","options","origOptions","bymonthday","bynmonthday","sort","a","b","length","byweekday","days","String","allWeeks","filter","weekday","n","someWeeks","Boolean","isWeekdays","isEveryDay","sortWeekDays","isFullyConvertible","canConvert","freq","IMPLEMENTED","until","count","key","prototype","FREQUENCIES","add","getUTCFullYear","monthNames","getUTCMonth","getUTCDate","plural","join","HOURLY","interval","MINUTELY","DAILY","bymonth","_bymonth","_bymonthday","_byweekday","byhour","_byhour","WEEKLY","MONTHLY","YEARLY","byyearday","list","nth","byweekno","undefined","weekdaytext","monthtext","parseInt","npos","Math","abs","m","wday","getJsWeekday","dayNames","s","push","callback","finalDelim","delim","_this","delimJoin","array","delimiter","finalDelimiter","i","o","realCallback","arg","call","map"],"sources":["D:/APPLICATION/UI/UPL/NEW/node_modules/rrule/dist/esm/nlp/totext.js"],"sourcesContent":["import ENGLISH from './i18n';\nimport { RRule } from '../rrule';\nimport { isArray, isNumber, isPresent } from '../helpers';\n// =============================================================================\n// Helper functions\n// =============================================================================\n/**\n * Return true if a value is in an array\n */\nvar contains = function (arr, val) {\n    return arr.indexOf(val) !== -1;\n};\nvar defaultGetText = function (id) { return id.toString(); };\nvar defaultDateFormatter = function (year, month, day) { return \"\".concat(month, \" \").concat(day, \", \").concat(year); };\n/**\n *\n * @param {RRule} rrule\n * Optional:\n * @param {Function} gettext function\n * @param {Object} language definition\n * @constructor\n */\nvar ToText = /** @class */ (function () {\n    function ToText(rrule, gettext, language, dateFormatter) {\n        if (gettext === void 0) { gettext = defaultGetText; }\n        if (language === void 0) { language = ENGLISH; }\n        if (dateFormatter === void 0) { dateFormatter = defaultDateFormatter; }\n        this.text = [];\n        this.language = language || ENGLISH;\n        this.gettext = gettext;\n        this.dateFormatter = dateFormatter;\n        this.rrule = rrule;\n        this.options = rrule.options;\n        this.origOptions = rrule.origOptions;\n        if (this.origOptions.bymonthday) {\n            var bymonthday = [].concat(this.options.bymonthday);\n            var bynmonthday = [].concat(this.options.bynmonthday);\n            bymonthday.sort(function (a, b) { return a - b; });\n            bynmonthday.sort(function (a, b) { return b - a; });\n            // 1, 2, 3, .., -5, -4, -3, ..\n            this.bymonthday = bymonthday.concat(bynmonthday);\n            if (!this.bymonthday.length)\n                this.bymonthday = null;\n        }\n        if (isPresent(this.origOptions.byweekday)) {\n            var byweekday = !isArray(this.origOptions.byweekday)\n                ? [this.origOptions.byweekday]\n                : this.origOptions.byweekday;\n            var days = String(byweekday);\n            this.byweekday = {\n                allWeeks: byweekday.filter(function (weekday) {\n                    return !weekday.n;\n                }),\n                someWeeks: byweekday.filter(function (weekday) {\n                    return Boolean(weekday.n);\n                }),\n                isWeekdays: days.indexOf('MO') !== -1 &&\n                    days.indexOf('TU') !== -1 &&\n                    days.indexOf('WE') !== -1 &&\n                    days.indexOf('TH') !== -1 &&\n                    days.indexOf('FR') !== -1 &&\n                    days.indexOf('SA') === -1 &&\n                    days.indexOf('SU') === -1,\n                isEveryDay: days.indexOf('MO') !== -1 &&\n                    days.indexOf('TU') !== -1 &&\n                    days.indexOf('WE') !== -1 &&\n                    days.indexOf('TH') !== -1 &&\n                    days.indexOf('FR') !== -1 &&\n                    days.indexOf('SA') !== -1 &&\n                    days.indexOf('SU') !== -1,\n            };\n            var sortWeekDays = function (a, b) {\n                return a.weekday - b.weekday;\n            };\n            this.byweekday.allWeeks.sort(sortWeekDays);\n            this.byweekday.someWeeks.sort(sortWeekDays);\n            if (!this.byweekday.allWeeks.length)\n                this.byweekday.allWeeks = null;\n            if (!this.byweekday.someWeeks.length)\n                this.byweekday.someWeeks = null;\n        }\n        else {\n            this.byweekday = null;\n        }\n    }\n    /**\n     * Test whether the rrule can be fully converted to text.\n     *\n     * @param {RRule} rrule\n     * @return {Boolean}\n     */\n    ToText.isFullyConvertible = function (rrule) {\n        var canConvert = true;\n        if (!(rrule.options.freq in ToText.IMPLEMENTED))\n            return false;\n        if (rrule.origOptions.until && rrule.origOptions.count)\n            return false;\n        for (var key in rrule.origOptions) {\n            if (contains(['dtstart', 'wkst', 'freq'], key))\n                return true;\n            if (!contains(ToText.IMPLEMENTED[rrule.options.freq], key))\n                return false;\n        }\n        return canConvert;\n    };\n    ToText.prototype.isFullyConvertible = function () {\n        return ToText.isFullyConvertible(this.rrule);\n    };\n    /**\n     * Perform the conversion. Only some of the frequencies are supported.\n     * If some of the rrule's options aren't supported, they'll\n     * be omitted from the output an \"(~ approximate)\" will be appended.\n     *\n     * @return {*}\n     */\n    ToText.prototype.toString = function () {\n        var gettext = this.gettext;\n        if (!(this.options.freq in ToText.IMPLEMENTED)) {\n            return gettext('RRule error: Unable to fully convert this rrule to text');\n        }\n        this.text = [gettext('every')];\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this[RRule.FREQUENCIES[this.options.freq]]();\n        if (this.options.until) {\n            this.add(gettext('until'));\n            var until = this.options.until;\n            this.add(this.dateFormatter(until.getUTCFullYear(), this.language.monthNames[until.getUTCMonth()], until.getUTCDate()));\n        }\n        else if (this.options.count) {\n            this.add(gettext('for'))\n                .add(this.options.count.toString())\n                .add(this.plural(this.options.count) ? gettext('times') : gettext('time'));\n        }\n        if (!this.isFullyConvertible())\n            this.add(gettext('(~ approximate)'));\n        return this.text.join('');\n    };\n    ToText.prototype.HOURLY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1)\n            this.add(this.options.interval.toString());\n        this.add(this.plural(this.options.interval) ? gettext('hours') : gettext('hour'));\n    };\n    ToText.prototype.MINUTELY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1)\n            this.add(this.options.interval.toString());\n        this.add(this.plural(this.options.interval)\n            ? gettext('minutes')\n            : gettext('minute'));\n    };\n    ToText.prototype.DAILY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1)\n            this.add(this.options.interval.toString());\n        if (this.byweekday && this.byweekday.isWeekdays) {\n            this.add(this.plural(this.options.interval)\n                ? gettext('weekdays')\n                : gettext('weekday'));\n        }\n        else {\n            this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n        }\n        if (this.origOptions.bymonth) {\n            this.add(gettext('in'));\n            this._bymonth();\n        }\n        if (this.bymonthday) {\n            this._bymonthday();\n        }\n        else if (this.byweekday) {\n            this._byweekday();\n        }\n        else if (this.origOptions.byhour) {\n            this._byhour();\n        }\n    };\n    ToText.prototype.WEEKLY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1) {\n            this.add(this.options.interval.toString()).add(this.plural(this.options.interval) ? gettext('weeks') : gettext('week'));\n        }\n        if (this.byweekday && this.byweekday.isWeekdays) {\n            if (this.options.interval === 1) {\n                this.add(this.plural(this.options.interval)\n                    ? gettext('weekdays')\n                    : gettext('weekday'));\n            }\n            else {\n                this.add(gettext('on')).add(gettext('weekdays'));\n            }\n        }\n        else if (this.byweekday && this.byweekday.isEveryDay) {\n            this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n        }\n        else {\n            if (this.options.interval === 1)\n                this.add(gettext('week'));\n            if (this.origOptions.bymonth) {\n                this.add(gettext('in'));\n                this._bymonth();\n            }\n            if (this.bymonthday) {\n                this._bymonthday();\n            }\n            else if (this.byweekday) {\n                this._byweekday();\n            }\n        }\n    };\n    ToText.prototype.MONTHLY = function () {\n        var gettext = this.gettext;\n        if (this.origOptions.bymonth) {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString()).add(gettext('months'));\n                if (this.plural(this.options.interval))\n                    this.add(gettext('in'));\n            }\n            else {\n                // this.add(gettext('MONTH'))\n            }\n            this._bymonth();\n        }\n        else {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString());\n            }\n            this.add(this.plural(this.options.interval)\n                ? gettext('months')\n                : gettext('month'));\n        }\n        if (this.bymonthday) {\n            this._bymonthday();\n        }\n        else if (this.byweekday && this.byweekday.isWeekdays) {\n            this.add(gettext('on')).add(gettext('weekdays'));\n        }\n        else if (this.byweekday) {\n            this._byweekday();\n        }\n    };\n    ToText.prototype.YEARLY = function () {\n        var gettext = this.gettext;\n        if (this.origOptions.bymonth) {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString());\n                this.add(gettext('years'));\n            }\n            else {\n                // this.add(gettext('YEAR'))\n            }\n            this._bymonth();\n        }\n        else {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString());\n            }\n            this.add(this.plural(this.options.interval) ? gettext('years') : gettext('year'));\n        }\n        if (this.bymonthday) {\n            this._bymonthday();\n        }\n        else if (this.byweekday) {\n            this._byweekday();\n        }\n        if (this.options.byyearday) {\n            this.add(gettext('on the'))\n                .add(this.list(this.options.byyearday, this.nth, gettext('and')))\n                .add(gettext('day'));\n        }\n        if (this.options.byweekno) {\n            this.add(gettext('in'))\n                .add(this.plural(this.options.byweekno.length)\n                ? gettext('weeks')\n                : gettext('week'))\n                .add(this.list(this.options.byweekno, undefined, gettext('and')));\n        }\n    };\n    ToText.prototype._bymonthday = function () {\n        var gettext = this.gettext;\n        if (this.byweekday && this.byweekday.allWeeks) {\n            this.add(gettext('on'))\n                .add(this.list(this.byweekday.allWeeks, this.weekdaytext, gettext('or')))\n                .add(gettext('the'))\n                .add(this.list(this.bymonthday, this.nth, gettext('or')));\n        }\n        else {\n            this.add(gettext('on the')).add(this.list(this.bymonthday, this.nth, gettext('and')));\n        }\n        // this.add(gettext('DAY'))\n    };\n    ToText.prototype._byweekday = function () {\n        var gettext = this.gettext;\n        if (this.byweekday.allWeeks && !this.byweekday.isWeekdays) {\n            this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext));\n        }\n        if (this.byweekday.someWeeks) {\n            if (this.byweekday.allWeeks)\n                this.add(gettext('and'));\n            this.add(gettext('on the')).add(this.list(this.byweekday.someWeeks, this.weekdaytext, gettext('and')));\n        }\n    };\n    ToText.prototype._byhour = function () {\n        var gettext = this.gettext;\n        this.add(gettext('at')).add(this.list(this.origOptions.byhour, undefined, gettext('and')));\n    };\n    ToText.prototype._bymonth = function () {\n        this.add(this.list(this.options.bymonth, this.monthtext, this.gettext('and')));\n    };\n    ToText.prototype.nth = function (n) {\n        n = parseInt(n.toString(), 10);\n        var nth;\n        var gettext = this.gettext;\n        if (n === -1)\n            return gettext('last');\n        var npos = Math.abs(n);\n        switch (npos) {\n            case 1:\n            case 21:\n            case 31:\n                nth = npos + gettext('st');\n                break;\n            case 2:\n            case 22:\n                nth = npos + gettext('nd');\n                break;\n            case 3:\n            case 23:\n                nth = npos + gettext('rd');\n                break;\n            default:\n                nth = npos + gettext('th');\n        }\n        return n < 0 ? nth + ' ' + gettext('last') : nth;\n    };\n    ToText.prototype.monthtext = function (m) {\n        return this.language.monthNames[m - 1];\n    };\n    ToText.prototype.weekdaytext = function (wday) {\n        var weekday = isNumber(wday) ? (wday + 1) % 7 : wday.getJsWeekday();\n        return ((wday.n ? this.nth(wday.n) + ' ' : '') +\n            this.language.dayNames[weekday]);\n    };\n    ToText.prototype.plural = function (n) {\n        return n % 100 !== 1;\n    };\n    ToText.prototype.add = function (s) {\n        this.text.push(' ');\n        this.text.push(s);\n        return this;\n    };\n    ToText.prototype.list = function (arr, callback, finalDelim, delim) {\n        var _this = this;\n        if (delim === void 0) { delim = ','; }\n        if (!isArray(arr)) {\n            arr = [arr];\n        }\n        var delimJoin = function (array, delimiter, finalDelimiter) {\n            var list = '';\n            for (var i = 0; i < array.length; i++) {\n                if (i !== 0) {\n                    if (i === array.length - 1) {\n                        list += ' ' + finalDelimiter + ' ';\n                    }\n                    else {\n                        list += delimiter + ' ';\n                    }\n                }\n                list += array[i];\n            }\n            return list;\n        };\n        callback =\n            callback ||\n                function (o) {\n                    return o.toString();\n                };\n        var realCallback = function (arg) {\n            return callback && callback.call(_this, arg);\n        };\n        if (finalDelim) {\n            return delimJoin(arr.map(realCallback), delim, finalDelim);\n        }\n        else {\n            return arr.map(realCallback).join(delim + ' ');\n        }\n    };\n    return ToText;\n}());\nexport default ToText;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}